array(
    0: Stmt_Class(
        type: 0
        extends: Name_FullyQualified(
            parts: array(
                0: PaymentModule
            )
        )
        implements: array(
        )
        stmts: array(
            0: Stmt_Property(
                type: 1
                props: array(
                    0: Stmt_PropertyProperty(
                        name: active
                        default: Scalar_LNumber(
                            value: 1
                        )
                    )
                )
            )
            1: Stmt_Property(
                type: 1
                props: array(
                    0: Stmt_PropertyProperty(
                        name: name
                        default: Scalar_String(
                            value: free_order
                        )
                    )
                )
            )
            2: Stmt_Property(
                type: 1
                props: array(
                    0: Stmt_PropertyProperty(
                        name: displayName
                        default: Scalar_String(
                            value: free_order
                        )
                    )
                )
            )
        )
        name: FreeOrder
        namespacedName: Name(
            parts: array(
                0: FreeOrder
            )
        )
    )
    1: Stmt_Class(
        type: 0
        extends: Name_FullyQualified(
            parts: array(
                0: FrontController
            )
        )
        implements: array(
        )
        stmts: array(
            0: Stmt_Property(
                type: 1
                props: array(
                    0: Stmt_PropertyProperty(
                        name: ssl
                        default: Expr_ConstFetch(
                            name: Name(
                                parts: array(
                                    0: true
                                )
                            )
                        )
                    )
                )
            )
            1: Stmt_Property(
                type: 1
                props: array(
                    0: Stmt_PropertyProperty(
                        name: php_self
                        default: Scalar_String(
                            value: order
                        )
                    )
                )
            )
            2: Stmt_Property(
                type: 1
                props: array(
                    0: Stmt_PropertyProperty(
                        name: nbProducts
                        default: null
                    )
                )
            )
            3: Stmt_ClassMethod(
                type: 1
                byRef: false
                params: array(
                )
                stmts: array(
                    0: Expr_Assign(
                        var: Expr_PropertyFetch(
                            var: Expr_Variable(
                                name: this
                            )
                            name: isLogged
                        )
                        expr: Expr_Cast_Bool(
                            expr: Expr_BooleanAnd(
                                left: Expr_PropertyFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_PropertyFetch(
                                            var: Expr_Variable(
                                                name: this
                                            )
                                            name: context
                                        )
                                        name: customer
                                    )
                                    name: id
                                )
                                right: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Customer
                                        )
                                    )
                                    name: customerIdExistsStatic
                                    args: array(
                                        0: Arg(
                                            value: Expr_Cast_Int(
                                                expr: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: context
                                                        )
                                                        name: cookie
                                                    )
                                                    name: id_customer
                                                )
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                            )
                        )
                    )
                    1: Expr_StaticCall(
                        class: Name(
                            parts: array(
                                0: parent
                            )
                        )
                        name: init
                        args: array(
                        )
                    )
                    2: Expr_FuncCall(
                        name: Name(
                            parts: array(
                                0: header
                            )
                        )
                        args: array(
                            0: Arg(
                                value: Scalar_String(
                                    value: Cache-Control: no-cache, must-revalidate
                                )
                                byRef: false
                            )
                        )
                    )
                    3: Expr_FuncCall(
                        name: Name(
                            parts: array(
                                0: header
                            )
                        )
                        args: array(
                            0: Arg(
                                value: Scalar_String(
                                    value: Expires: Mon, 26 Jul 1997 05:00:00 GMT
                                )
                                byRef: false
                            )
                        )
                    )
                    4: Expr_Assign(
                        var: Expr_PropertyFetch(
                            var: Expr_Variable(
                                name: this
                            )
                            name: nbProducts
                        )
                        expr: Expr_MethodCall(
                            var: Expr_PropertyFetch(
                                var: Expr_PropertyFetch(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: context
                                )
                                name: cart
                            )
                            name: nbProducts
                            args: array(
                            )
                        )
                    )
                    5: Stmt_If(
                        stmts: array(
                            0: Expr_StaticCall(
                                class: Name_FullyQualified(
                                    parts: array(
                                        0: Tools
                                    )
                                )
                                name: redirect
                                args: array(
                                    0: Arg(
                                        value: Expr_MethodCall(
                                            var: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: context
                                                )
                                                name: link
                                            )
                                            name: getPageLink
                                            args: array(
                                                0: Arg(
                                                    value: Scalar_String(
                                                        value: authentication
                                                    )
                                                    byRef: false
                                                )
                                                1: Arg(
                                                    value: Expr_ConstFetch(
                                                        name: Name(
                                                            parts: array(
                                                                0: true
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                2: Arg(
                                                    value: Expr_Cast_Int(
                                                        expr: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_PropertyFetch(
                                                                    var: Expr_Variable(
                                                                        name: this
                                                                    )
                                                                    name: context
                                                                )
                                                                name: language
                                                            )
                                                            name: id
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                3: Arg(
                                                    value: Expr_Variable(
                                                        name: params
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_BooleanAnd(
                            left: Expr_BooleanAnd(
                                left: Expr_BooleanNot(
                                    expr: Expr_MethodCall(
                                        var: Expr_PropertyFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_Variable(
                                                    name: this
                                                )
                                                name: context
                                            )
                                            name: customer
                                        )
                                        name: isLogged
                                        args: array(
                                            0: Arg(
                                                value: Expr_ConstFetch(
                                                    name: Name(
                                                        parts: array(
                                                            0: true
                                                        )
                                                    )
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                )
                                right: Expr_MethodCall(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: context
                                    )
                                    name: getMobileDevice
                                    args: array(
                                    )
                                )
                            )
                            right: Expr_StaticCall(
                                class: Name_FullyQualified(
                                    parts: array(
                                        0: Tools
                                    )
                                )
                                name: getValue
                                args: array(
                                    0: Arg(
                                        value: Scalar_String(
                                            value: step
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                    )
                    6: Stmt_If(
                        stmts: array(
                            0: Expr_StaticCall(
                                class: Name_FullyQualified(
                                    parts: array(
                                        0: Tools
                                    )
                                )
                                name: redirect
                                args: array(
                                    0: Arg(
                                        value: Scalar_String(
                                            value: index.php?controller=order
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_BooleanAnd(
                            left: Expr_Equal(
                                left: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Configuration
                                        )
                                    )
                                    name: get
                                    args: array(
                                        0: Arg(
                                            value: Scalar_String(
                                                value: PS_ORDER_PROCESS_TYPE
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                                right: Scalar_LNumber(
                                    value: 0
                                )
                            )
                            right: Expr_NotEqual(
                                left: Expr_MethodCall(
                                    var: Expr_StaticCall(
                                        class: Name_FullyQualified(
                                            parts: array(
                                                0: Dispatcher
                                            )
                                        )
                                        name: getInstance
                                        args: array(
                                        )
                                    )
                                    name: getController
                                    args: array(
                                    )
                                )
                                right: Scalar_String(
                                    value: order
                                )
                            )
                        )
                    )
                    7: Stmt_If(
                        stmts: array(
                            0: Stmt_If(
                                stmts: array(
                                    0: Expr_StaticCall(
                                        class: Name_FullyQualified(
                                            parts: array(
                                                0: Tools
                                            )
                                        )
                                        name: redirect
                                        args: array(
                                            0: Arg(
                                                value: Scalar_String(
                                                    value: index.php?controller=order-opc&isPaymentStep=true
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: null
                                cond: Expr_BooleanAnd(
                                    left: Expr_Isset(
                                        vars: array(
                                            0: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: _GET
                                                )
                                                dim: Scalar_String(
                                                    value: step
                                                )
                                            )
                                        )
                                    )
                                    right: Expr_Equal(
                                        left: Expr_ArrayDimFetch(
                                            var: Expr_Variable(
                                                name: _GET
                                            )
                                            dim: Scalar_String(
                                                value: step
                                            )
                                        )
                                        right: Scalar_LNumber(
                                            value: 3
                                        )
                                    )
                                )
                            )
                            1: Expr_StaticCall(
                                class: Name_FullyQualified(
                                    parts: array(
                                        0: Tools
                                    )
                                )
                                name: redirect
                                args: array(
                                    0: Arg(
                                        value: Scalar_String(
                                            value: index.php?controller=order-opc
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_BooleanAnd(
                            left: Expr_Equal(
                                left: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Configuration
                                        )
                                    )
                                    name: get
                                    args: array(
                                        0: Arg(
                                            value: Scalar_String(
                                                value: PS_ORDER_PROCESS_TYPE
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                                right: Scalar_LNumber(
                                    value: 1
                                )
                            )
                            right: Expr_NotEqual(
                                left: Expr_MethodCall(
                                    var: Expr_StaticCall(
                                        class: Name_FullyQualified(
                                            parts: array(
                                                0: Dispatcher
                                            )
                                        )
                                        name: getInstance
                                        args: array(
                                        )
                                    )
                                    name: getController
                                    args: array(
                                    )
                                )
                                right: Scalar_String(
                                    value: orderopc
                                )
                            )
                        )
                    )
                    8: Stmt_If(
                        stmts: array(
                            0: Expr_Assign(
                                var: Expr_ArrayDimFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: errors
                                    )
                                    dim: null
                                )
                                expr: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Tools
                                        )
                                    )
                                    name: displayError
                                    args: array(
                                        0: Arg(
                                            value: Scalar_String(
                                                value: This store has not accepted your new order.
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_StaticCall(
                            class: Name_FullyQualified(
                                parts: array(
                                    0: Configuration
                                )
                            )
                            name: get
                            args: array(
                                0: Arg(
                                    value: Scalar_String(
                                        value: PS_CATALOG_MODE
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    9: Stmt_If(
                        stmts: array(
                            0: Expr_Assign(
                                var: Expr_Variable(
                                    name: oldCart
                                )
                                expr: Expr_New(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Cart
                                        )
                                    )
                                    args: array(
                                        0: Arg(
                                            value: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Order
                                                    )
                                                )
                                                name: getCartIdStatic
                                                args: array(
                                                    0: Arg(
                                                        value: Expr_Variable(
                                                            name: id_order
                                                        )
                                                        byRef: false
                                                    )
                                                    1: Arg(
                                                        value: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_PropertyFetch(
                                                                    var: Expr_Variable(
                                                                        name: this
                                                                    )
                                                                    name: context
                                                                )
                                                                name: customer
                                                            )
                                                            name: id
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                            )
                            1: Expr_Assign(
                                var: Expr_Variable(
                                    name: duplication
                                )
                                expr: Expr_MethodCall(
                                    var: Expr_Variable(
                                        name: oldCart
                                    )
                                    name: duplicate
                                    args: array(
                                    )
                                )
                            )
                            2: Stmt_If(
                                stmts: array(
                                    0: Expr_Assign(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_Variable(
                                                    name: this
                                                )
                                                name: errors
                                            )
                                            dim: null
                                        )
                                        expr: Expr_StaticCall(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Tools
                                                )
                                            )
                                            name: displayError
                                            args: array(
                                                0: Arg(
                                                    value: Scalar_String(
                                                        value: Sorry. We cannot renew your order.
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: Stmt_Else(
                                    stmts: array(
                                        0: Stmt_If(
                                            stmts: array(
                                                0: Expr_Assign(
                                                    var: Expr_ArrayDimFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: errors
                                                        )
                                                        dim: null
                                                    )
                                                    expr: Expr_StaticCall(
                                                        class: Name_FullyQualified(
                                                            parts: array(
                                                                0: Tools
                                                            )
                                                        )
                                                        name: displayError
                                                        args: array(
                                                            0: Arg(
                                                                value: Scalar_String(
                                                                    value: Some items are no longer available, and we are unable to renew your order.
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                            elseifs: array(
                                            )
                                            else: Stmt_Else(
                                                stmts: array(
                                                    0: Expr_Assign(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_PropertyFetch(
                                                                    var: Expr_Variable(
                                                                        name: this
                                                                    )
                                                                    name: context
                                                                )
                                                                name: cookie
                                                            )
                                                            name: id_cart
                                                        )
                                                        expr: Expr_PropertyFetch(
                                                            var: Expr_ArrayDimFetch(
                                                                var: Expr_Variable(
                                                                    name: duplication
                                                                )
                                                                dim: Scalar_String(
                                                                    value: cart
                                                                )
                                                            )
                                                            name: id
                                                        )
                                                    )
                                                    1: Expr_MethodCall(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: context
                                                            )
                                                            name: cookie
                                                        )
                                                        name: write
                                                        args: array(
                                                        )
                                                    )
                                                    2: Stmt_If(
                                                        stmts: array(
                                                            0: Expr_StaticCall(
                                                                class: Name_FullyQualified(
                                                                    parts: array(
                                                                        0: Tools
                                                                    )
                                                                )
                                                                name: redirect
                                                                args: array(
                                                                    0: Arg(
                                                                        value: Scalar_String(
                                                                            value: index.php?controller=order-opc
                                                                        )
                                                                        byRef: false
                                                                    )
                                                                )
                                                            )
                                                        )
                                                        elseifs: array(
                                                        )
                                                        else: null
                                                        cond: Expr_Equal(
                                                            left: Expr_StaticCall(
                                                                class: Name_FullyQualified(
                                                                    parts: array(
                                                                        0: Configuration
                                                                    )
                                                                )
                                                                name: get
                                                                args: array(
                                                                    0: Arg(
                                                                        value: Scalar_String(
                                                                            value: PS_ORDER_PROCESS_TYPE
                                                                        )
                                                                        byRef: false
                                                                    )
                                                                )
                                                            )
                                                            right: Scalar_LNumber(
                                                                value: 1
                                                            )
                                                        )
                                                    )
                                                    3: Expr_StaticCall(
                                                        class: Name_FullyQualified(
                                                            parts: array(
                                                                0: Tools
                                                            )
                                                        )
                                                        name: redirect
                                                        args: array(
                                                            0: Arg(
                                                                value: Scalar_String(
                                                                    value: index.php?controller=order
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                            cond: Expr_BooleanNot(
                                                expr: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: duplication
                                                    )
                                                    dim: Scalar_String(
                                                        value: success
                                                    )
                                                )
                                            )
                                        )
                                    )
                                )
                                cond: Expr_BooleanOr(
                                    left: Expr_BooleanNot(
                                        expr: Expr_Variable(
                                            name: duplication
                                        )
                                    )
                                    right: Expr_BooleanNot(
                                        expr: Expr_StaticCall(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Validate
                                                )
                                            )
                                            name: isLoadedObject
                                            args: array(
                                                0: Arg(
                                                    value: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: duplication
                                                        )
                                                        dim: Scalar_String(
                                                            value: cart
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_BooleanAnd(
                            left: Expr_StaticCall(
                                class: Name_FullyQualified(
                                    parts: array(
                                        0: Tools
                                    )
                                )
                                name: isSubmit
                                args: array(
                                    0: Arg(
                                        value: Scalar_String(
                                            value: submitReorder
                                        )
                                        byRef: false
                                    )
                                )
                            )
                            right: Expr_Assign(
                                var: Expr_Variable(
                                    name: id_order
                                )
                                expr: Expr_Cast_Int(
                                    expr: Expr_StaticCall(
                                        class: Name_FullyQualified(
                                            parts: array(
                                                0: Tools
                                            )
                                        )
                                        name: getValue
                                        args: array(
                                            0: Arg(
                                                value: Scalar_String(
                                                    value: id_order
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                )
                            )
                        )
                    )
                    10: Stmt_If(
                        stmts: array(
                            0: Stmt_If(
                                stmts: array(
                                    0: Stmt_If(
                                        stmts: array(
                                            0: Stmt_If(
                                                stmts: array(
                                                    0: Expr_Assign(
                                                        var: Expr_ArrayDimFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: errors
                                                            )
                                                            dim: null
                                                        )
                                                        expr: Expr_StaticCall(
                                                            class: Name_FullyQualified(
                                                                parts: array(
                                                                    0: Tools
                                                                )
                                                            )
                                                            name: displayError
                                                            args: array(
                                                                0: Arg(
                                                                    value: Scalar_String(
                                                                        value: You must enter a voucher code.
                                                                    )
                                                                    byRef: false
                                                                )
                                                            )
                                                        )
                                                    )
                                                )
                                                elseifs: array(
                                                    0: Stmt_ElseIf(
                                                        cond: Expr_BooleanNot(
                                                            expr: Expr_StaticCall(
                                                                class: Name_FullyQualified(
                                                                    parts: array(
                                                                        0: Validate
                                                                    )
                                                                )
                                                                name: isCleanHtml
                                                                args: array(
                                                                    0: Arg(
                                                                        value: Expr_Variable(
                                                                            name: code
                                                                        )
                                                                        byRef: false
                                                                    )
                                                                )
                                                            )
                                                        )
                                                        stmts: array(
                                                            0: Expr_Assign(
                                                                var: Expr_ArrayDimFetch(
                                                                    var: Expr_PropertyFetch(
                                                                        var: Expr_Variable(
                                                                            name: this
                                                                        )
                                                                        name: errors
                                                                    )
                                                                    dim: null
                                                                )
                                                                expr: Expr_StaticCall(
                                                                    class: Name_FullyQualified(
                                                                        parts: array(
                                                                            0: Tools
                                                                        )
                                                                    )
                                                                    name: displayError
                                                                    args: array(
                                                                        0: Arg(
                                                                            value: Scalar_String(
                                                                                value: The voucher code is invalid.
                                                                            )
                                                                            byRef: false
                                                                        )
                                                                    )
                                                                )
                                                            )
                                                        )
                                                    )
                                                )
                                                else: Stmt_Else(
                                                    stmts: array(
                                                        0: Stmt_If(
                                                            stmts: array(
                                                                0: Stmt_If(
                                                                    stmts: array(
                                                                        0: Expr_Assign(
                                                                            var: Expr_ArrayDimFetch(
                                                                                var: Expr_PropertyFetch(
                                                                                    var: Expr_Variable(
                                                                                        name: this
                                                                                    )
                                                                                    name: errors
                                                                                )
                                                                                dim: null
                                                                            )
                                                                            expr: Expr_Variable(
                                                                                name: error
                                                                            )
                                                                        )
                                                                    )
                                                                    elseifs: array(
                                                                    )
                                                                    else: Stmt_Else(
                                                                        stmts: array(
                                                                            0: Expr_MethodCall(
                                                                                var: Expr_PropertyFetch(
                                                                                    var: Expr_PropertyFetch(
                                                                                        var: Expr_Variable(
                                                                                            name: this
                                                                                        )
                                                                                        name: context
                                                                                    )
                                                                                    name: cart
                                                                                )
                                                                                name: addCartRule
                                                                                args: array(
                                                                                    0: Arg(
                                                                                        value: Expr_PropertyFetch(
                                                                                            var: Expr_Variable(
                                                                                                name: cartRule
                                                                                            )
                                                                                            name: id
                                                                                        )
                                                                                        byRef: false
                                                                                    )
                                                                                )
                                                                            )
                                                                            1: Expr_StaticCall(
                                                                                class: Name_FullyQualified(
                                                                                    parts: array(
                                                                                        0: Tools
                                                                                    )
                                                                                )
                                                                                name: redirect
                                                                                args: array(
                                                                                    0: Arg(
                                                                                        value: Scalar_String(
                                                                                            value: index.php?controller=order-opc
                                                                                        )
                                                                                        byRef: false
                                                                                    )
                                                                                )
                                                                            )
                                                                        )
                                                                    )
                                                                    cond: Expr_Assign(
                                                                        var: Expr_Variable(
                                                                            name: error
                                                                        )
                                                                        expr: Expr_MethodCall(
                                                                            var: Expr_Variable(
                                                                                name: cartRule
                                                                            )
                                                                            name: checkValidity
                                                                            args: array(
                                                                                0: Arg(
                                                                                    value: Expr_PropertyFetch(
                                                                                        var: Expr_Variable(
                                                                                            name: this
                                                                                        )
                                                                                        name: context
                                                                                    )
                                                                                    byRef: false
                                                                                )
                                                                                1: Arg(
                                                                                    value: Expr_ConstFetch(
                                                                                        name: Name(
                                                                                            parts: array(
                                                                                                0: false
                                                                                            )
                                                                                        )
                                                                                    )
                                                                                    byRef: false
                                                                                )
                                                                                2: Arg(
                                                                                    value: Expr_ConstFetch(
                                                                                        name: Name(
                                                                                            parts: array(
                                                                                                0: true
                                                                                            )
                                                                                        )
                                                                                    )
                                                                                    byRef: false
                                                                                )
                                                                            )
                                                                        )
                                                                    )
                                                                )
                                                            )
                                                            elseifs: array(
                                                            )
                                                            else: Stmt_Else(
                                                                stmts: array(
                                                                    0: Expr_Assign(
                                                                        var: Expr_ArrayDimFetch(
                                                                            var: Expr_PropertyFetch(
                                                                                var: Expr_Variable(
                                                                                    name: this
                                                                                )
                                                                                name: errors
                                                                            )
                                                                            dim: null
                                                                        )
                                                                        expr: Expr_StaticCall(
                                                                            class: Name_FullyQualified(
                                                                                parts: array(
                                                                                    0: Tools
                                                                                )
                                                                            )
                                                                            name: displayError
                                                                            args: array(
                                                                                0: Arg(
                                                                                    value: Scalar_String(
                                                                                        value: This voucher does not exists.
                                                                                    )
                                                                                    byRef: false
                                                                                )
                                                                            )
                                                                        )
                                                                    )
                                                                )
                                                            )
                                                            cond: Expr_BooleanAnd(
                                                                left: Expr_Assign(
                                                                    var: Expr_Variable(
                                                                        name: cartRule
                                                                    )
                                                                    expr: Expr_New(
                                                                        class: Name_FullyQualified(
                                                                            parts: array(
                                                                                0: CartRule
                                                                            )
                                                                        )
                                                                        args: array(
                                                                            0: Arg(
                                                                                value: Expr_StaticCall(
                                                                                    class: Name_FullyQualified(
                                                                                        parts: array(
                                                                                            0: CartRule
                                                                                        )
                                                                                    )
                                                                                    name: getIdByCode
                                                                                    args: array(
                                                                                        0: Arg(
                                                                                            value: Expr_Variable(
                                                                                                name: code
                                                                                            )
                                                                                            byRef: false
                                                                                        )
                                                                                    )
                                                                                )
                                                                                byRef: false
                                                                            )
                                                                        )
                                                                    )
                                                                )
                                                                right: Expr_StaticCall(
                                                                    class: Name_FullyQualified(
                                                                        parts: array(
                                                                            0: Validate
                                                                        )
                                                                    )
                                                                    name: isLoadedObject
                                                                    args: array(
                                                                        0: Arg(
                                                                            value: Expr_Variable(
                                                                                name: cartRule
                                                                            )
                                                                            byRef: false
                                                                        )
                                                                    )
                                                                )
                                                            )
                                                        )
                                                    )
                                                )
                                                cond: Expr_BooleanNot(
                                                    expr: Expr_Assign(
                                                        var: Expr_Variable(
                                                            name: code
                                                        )
                                                        expr: Expr_FuncCall(
                                                            name: Name(
                                                                parts: array(
                                                                    0: trim
                                                                )
                                                            )
                                                            args: array(
                                                                0: Arg(
                                                                    value: Expr_StaticCall(
                                                                        class: Name_FullyQualified(
                                                                            parts: array(
                                                                                0: Tools
                                                                            )
                                                                        )
                                                                        name: getValue
                                                                        args: array(
                                                                            0: Arg(
                                                                                value: Scalar_String(
                                                                                    value: discount_name
                                                                                )
                                                                                byRef: false
                                                                            )
                                                                        )
                                                                    )
                                                                    byRef: false
                                                                )
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                            1: Expr_MethodCall(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: smarty
                                                )
                                                name: assign
                                                args: array(
                                                    0: Arg(
                                                        value: Expr_Array(
                                                            items: array(
                                                                0: Expr_ArrayItem(
                                                                    key: Scalar_String(
                                                                        value: errors
                                                                    )
                                                                    value: Expr_PropertyFetch(
                                                                        var: Expr_Variable(
                                                                            name: this
                                                                        )
                                                                        name: errors
                                                                    )
                                                                    byRef: false
                                                                )
                                                                1: Expr_ArrayItem(
                                                                    key: Scalar_String(
                                                                        value: discount_name
                                                                    )
                                                                    value: Expr_StaticCall(
                                                                        class: Name_FullyQualified(
                                                                            parts: array(
                                                                                0: Tools
                                                                            )
                                                                        )
                                                                        name: safeOutput
                                                                        args: array(
                                                                            0: Arg(
                                                                                value: Expr_Variable(
                                                                                    name: code
                                                                                )
                                                                                byRef: false
                                                                            )
                                                                        )
                                                                    )
                                                                    byRef: false
                                                                )
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                        )
                                        elseifs: array(
                                            0: Stmt_ElseIf(
                                                cond: Expr_BooleanAnd(
                                                    left: Expr_Assign(
                                                        var: Expr_Variable(
                                                            name: id_cart_rule
                                                        )
                                                        expr: Expr_Cast_Int(
                                                            expr: Expr_StaticCall(
                                                                class: Name_FullyQualified(
                                                                    parts: array(
                                                                        0: Tools
                                                                    )
                                                                )
                                                                name: getValue
                                                                args: array(
                                                                    0: Arg(
                                                                        value: Scalar_String(
                                                                            value: deleteDiscount
                                                                        )
                                                                        byRef: false
                                                                    )
                                                                )
                                                            )
                                                        )
                                                    )
                                                    right: Expr_StaticCall(
                                                        class: Name_FullyQualified(
                                                            parts: array(
                                                                0: Validate
                                                            )
                                                        )
                                                        name: isUnsignedId
                                                        args: array(
                                                            0: Arg(
                                                                value: Expr_Variable(
                                                                    name: id_cart_rule
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                )
                                                stmts: array(
                                                    0: Expr_MethodCall(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: context
                                                            )
                                                            name: cart
                                                        )
                                                        name: removeCartRule
                                                        args: array(
                                                            0: Arg(
                                                                value: Expr_Variable(
                                                                    name: id_cart_rule
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                    1: Expr_StaticCall(
                                                        class: Name_FullyQualified(
                                                            parts: array(
                                                                0: Tools
                                                            )
                                                        )
                                                        name: redirect
                                                        args: array(
                                                            0: Arg(
                                                                value: Scalar_String(
                                                                    value: index.php?controller=order-opc
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                        else: null
                                        cond: Expr_StaticCall(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Tools
                                                )
                                            )
                                            name: isSubmit
                                            args: array(
                                                0: Arg(
                                                    value: Scalar_String(
                                                        value: submitAddDiscount
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: null
                                cond: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: CartRule
                                        )
                                    )
                                    name: isFeatureActive
                                    args: array(
                                    )
                                )
                            )
                            1: Stmt_If(
                                stmts: array(
                                    0: Expr_MethodCall(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: setNoCarrier
                                        args: array(
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: null
                                cond: Expr_Assign(
                                    var: Expr_Variable(
                                        name: isVirtualCart
                                    )
                                    expr: Expr_MethodCall(
                                        var: Expr_PropertyFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_Variable(
                                                    name: this
                                                )
                                                name: context
                                            )
                                            name: cart
                                        )
                                        name: isVirtualCart
                                        args: array(
                                        )
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_PropertyFetch(
                            var: Expr_Variable(
                                name: this
                            )
                            name: nbProducts
                        )
                    )
                    11: Expr_MethodCall(
                        var: Expr_PropertyFetch(
                            var: Expr_PropertyFetch(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: context
                            )
                            name: smarty
                        )
                        name: assign
                        args: array(
                            0: Arg(
                                value: Scalar_String(
                                    value: back
                                )
                                byRef: false
                            )
                            1: Arg(
                                value: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Tools
                                        )
                                    )
                                    name: safeOutput
                                    args: array(
                                        0: Arg(
                                            value: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Tools
                                                    )
                                                )
                                                name: getValue
                                                args: array(
                                                    0: Arg(
                                                        value: Scalar_String(
                                                            value: back
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                                byRef: false
                            )
                        )
                    )
                )
                name: init
            )
            4: Stmt_ClassMethod(
                type: 1
                byRef: false
                params: array(
                )
                stmts: array(
                    0: Expr_StaticCall(
                        class: Name(
                            parts: array(
                                0: parent
                            )
                        )
                        name: setMedia
                        args: array(
                        )
                    )
                    1: Stmt_If(
                        stmts: array(
                            0: Expr_MethodCall(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: addCSS
                                args: array(
                                    0: Arg(
                                        value: Expr_Concat(
                                            left: Expr_ConstFetch(
                                                name: Name(
                                                    parts: array(
                                                        0: _THEME_CSS_DIR_
                                                    )
                                                )
                                            )
                                            right: Scalar_String(
                                                value: addresses.css
                                            )
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_Identical(
                            left: Expr_MethodCall(
                                var: Expr_PropertyFetch(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: context
                                )
                                name: getMobileDevice
                                args: array(
                                )
                            )
                            right: Expr_ConstFetch(
                                name: Name(
                                    parts: array(
                                        0: false
                                    )
                                )
                            )
                        )
                    )
                    2: Expr_MethodCall(
                        var: Expr_Variable(
                            name: this
                        )
                        name: addJS
                        args: array(
                            0: Arg(
                                value: Expr_Concat(
                                    left: Expr_ConstFetch(
                                        name: Name(
                                            parts: array(
                                                0: _THEME_JS_DIR_
                                            )
                                        )
                                    )
                                    right: Scalar_String(
                                        value: tools.js
                                    )
                                )
                                byRef: false
                            )
                        )
                    )
                    3: Stmt_If(
                        stmts: array(
                            0: Expr_MethodCall(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: addJS
                                args: array(
                                    0: Arg(
                                        value: Expr_Concat(
                                            left: Expr_ConstFetch(
                                                name: Name(
                                                    parts: array(
                                                        0: _THEME_JS_DIR_
                                                    )
                                                )
                                            )
                                            right: Scalar_String(
                                                value: order-address.js
                                            )
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_BooleanOr(
                            left: Expr_BooleanAnd(
                                left: Expr_Equal(
                                    left: Expr_StaticCall(
                                        class: Name_FullyQualified(
                                            parts: array(
                                                0: Configuration
                                            )
                                        )
                                        name: get
                                        args: array(
                                            0: Arg(
                                                value: Scalar_String(
                                                    value: PS_ORDER_PROCESS_TYPE
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                    right: Scalar_LNumber(
                                        value: 0
                                    )
                                )
                                right: Expr_Equal(
                                    left: Expr_StaticCall(
                                        class: Name_FullyQualified(
                                            parts: array(
                                                0: Tools
                                            )
                                        )
                                        name: getValue
                                        args: array(
                                            0: Arg(
                                                value: Scalar_String(
                                                    value: step
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                    right: Scalar_LNumber(
                                        value: 1
                                    )
                                )
                            )
                            right: Expr_Equal(
                                left: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Configuration
                                        )
                                    )
                                    name: get
                                    args: array(
                                        0: Arg(
                                            value: Scalar_String(
                                                value: PS_ORDER_PROCESS_TYPE
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                                right: Scalar_LNumber(
                                    value: 1
                                )
                            )
                        )
                    )
                    4: Expr_MethodCall(
                        var: Expr_Variable(
                            name: this
                        )
                        name: addJqueryPlugin
                        args: array(
                            0: Arg(
                                value: Scalar_String(
                                    value: fancybox
                                )
                                byRef: false
                            )
                        )
                    )
                    5: Stmt_If(
                        stmts: array(
                            0: Expr_MethodCall(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: addJqueryPlugin
                                args: array(
                                    0: Arg(
                                        value: Scalar_String(
                                            value: typewatch
                                        )
                                        byRef: false
                                    )
                                )
                            )
                            1: Expr_MethodCall(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: addJS
                                args: array(
                                    0: Arg(
                                        value: Expr_Concat(
                                            left: Expr_ConstFetch(
                                                name: Name(
                                                    parts: array(
                                                        0: _THEME_JS_DIR_
                                                    )
                                                )
                                            )
                                            right: Scalar_String(
                                                value: cart-summary.js
                                            )
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_BooleanOr(
                            left: Expr_Cast_Int(
                                expr: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Configuration
                                        )
                                    )
                                    name: get
                                    args: array(
                                        0: Arg(
                                            value: Scalar_String(
                                                value: PS_BLOCK_CART_AJAX
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                            )
                            right: Expr_Equal(
                                left: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Configuration
                                        )
                                    )
                                    name: get
                                    args: array(
                                        0: Arg(
                                            value: Scalar_String(
                                                value: PS_ORDER_PROCESS_TYPE
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                                right: Scalar_LNumber(
                                    value: 1
                                )
                            )
                        )
                    )
                )
                name: setMedia
            )
            5: Stmt_ClassMethod(
                type: 2
                byRef: false
                params: array(
                )
                stmts: array(
                    0: Stmt_If(
                        stmts: array(
                            0: Expr_Assign(
                                var: Expr_Variable(
                                    name: order
                                )
                                expr: Expr_New(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: FreeOrder
                                        )
                                    )
                                    args: array(
                                    )
                                )
                            )
                            1: Expr_Assign(
                                var: Expr_PropertyFetch(
                                    var: Expr_Variable(
                                        name: order
                                    )
                                    name: free_order_class
                                )
                                expr: Expr_ConstFetch(
                                    name: Name(
                                        parts: array(
                                            0: true
                                        )
                                    )
                                )
                            )
                            2: Expr_MethodCall(
                                var: Expr_Variable(
                                    name: order
                                )
                                name: validateOrder
                                args: array(
                                    0: Arg(
                                        value: Expr_PropertyFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: context
                                                )
                                                name: cart
                                            )
                                            name: id
                                        )
                                        byRef: false
                                    )
                                    1: Arg(
                                        value: Expr_StaticCall(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Configuration
                                                )
                                            )
                                            name: get
                                            args: array(
                                                0: Arg(
                                                    value: Scalar_String(
                                                        value: PS_OS_PAYMENT
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                        byRef: false
                                    )
                                    2: Arg(
                                        value: Scalar_LNumber(
                                            value: 0
                                        )
                                        byRef: false
                                    )
                                    3: Arg(
                                        value: Expr_StaticCall(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Tools
                                                )
                                            )
                                            name: displayError
                                            args: array(
                                                0: Arg(
                                                    value: Scalar_String(
                                                        value: Free order
                                                    )
                                                    byRef: false
                                                )
                                                1: Arg(
                                                    value: Expr_ConstFetch(
                                                        name: Name(
                                                            parts: array(
                                                                0: false
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                        byRef: false
                                    )
                                    4: Arg(
                                        value: Expr_ConstFetch(
                                            name: Name(
                                                parts: array(
                                                    0: null
                                                )
                                            )
                                        )
                                        byRef: false
                                    )
                                    5: Arg(
                                        value: Expr_Array(
                                            items: array(
                                            )
                                        )
                                        byRef: false
                                    )
                                    6: Arg(
                                        value: Expr_ConstFetch(
                                            name: Name(
                                                parts: array(
                                                    0: null
                                                )
                                            )
                                        )
                                        byRef: false
                                    )
                                    7: Arg(
                                        value: Expr_ConstFetch(
                                            name: Name(
                                                parts: array(
                                                    0: false
                                                )
                                            )
                                        )
                                        byRef: false
                                    )
                                    8: Arg(
                                        value: Expr_PropertyFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: context
                                                )
                                                name: cart
                                            )
                                            name: secure_key
                                        )
                                        byRef: false
                                    )
                                )
                            )
                            3: Stmt_Return(
                                expr: Expr_Cast_Int(
                                    expr: Expr_StaticCall(
                                        class: Name_FullyQualified(
                                            parts: array(
                                                0: Order
                                            )
                                        )
                                        name: getOrderByCartId
                                        args: array(
                                            0: Arg(
                                                value: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: context
                                                        )
                                                        name: cart
                                                    )
                                                    name: id
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_SmallerOrEqual(
                            left: Expr_MethodCall(
                                var: Expr_PropertyFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: context
                                    )
                                    name: cart
                                )
                                name: getOrderTotal
                                args: array(
                                )
                            )
                            right: Scalar_LNumber(
                                value: 0
                            )
                        )
                    )
                    1: Stmt_Return(
                        expr: Expr_ConstFetch(
                            name: Name(
                                parts: array(
                                    0: false
                                )
                            )
                        )
                    )
                )
                name: _checkFreeOrder
            )
            6: Stmt_ClassMethod(
                type: 2
                byRef: false
                params: array(
                    0: Param(
                        name: messageContent
                        default: null
                        type: null
                        byRef: false
                    )
                )
                stmts: array(
                    0: Stmt_If(
                        stmts: array(
                            0: Stmt_If(
                                stmts: array(
                                    0: Expr_Assign(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_Variable(
                                                    name: this
                                                )
                                                name: errors
                                            )
                                            dim: null
                                        )
                                        expr: Expr_StaticCall(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Tools
                                                )
                                            )
                                            name: displayError
                                            args: array(
                                                0: Arg(
                                                    value: Scalar_String(
                                                        value: Invalid message
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: Stmt_Else(
                                    stmts: array(
                                        0: Stmt_If(
                                            stmts: array(
                                                0: Expr_Assign(
                                                    var: Expr_Variable(
                                                        name: message
                                                    )
                                                    expr: Expr_New(
                                                        class: Name_FullyQualified(
                                                            parts: array(
                                                                0: Message
                                                            )
                                                        )
                                                        args: array(
                                                            0: Arg(
                                                                value: Expr_Cast_Int(
                                                                    expr: Expr_ArrayDimFetch(
                                                                        var: Expr_Variable(
                                                                            name: oldMessage
                                                                        )
                                                                        dim: Scalar_String(
                                                                            value: id_message
                                                                        )
                                                                    )
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                )
                                                1: Expr_Assign(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: message
                                                        )
                                                        name: message
                                                    )
                                                    expr: Expr_Variable(
                                                        name: messageContent
                                                    )
                                                )
                                                2: Expr_MethodCall(
                                                    var: Expr_Variable(
                                                        name: message
                                                    )
                                                    name: update
                                                    args: array(
                                                    )
                                                )
                                            )
                                            elseifs: array(
                                            )
                                            else: Stmt_Else(
                                                stmts: array(
                                                    0: Expr_Assign(
                                                        var: Expr_Variable(
                                                            name: message
                                                        )
                                                        expr: Expr_New(
                                                            class: Name_FullyQualified(
                                                                parts: array(
                                                                    0: Message
                                                                )
                                                            )
                                                            args: array(
                                                            )
                                                        )
                                                    )
                                                    1: Expr_Assign(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: message
                                                            )
                                                            name: message
                                                        )
                                                        expr: Expr_Variable(
                                                            name: messageContent
                                                        )
                                                    )
                                                    2: Expr_Assign(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: message
                                                            )
                                                            name: id_cart
                                                        )
                                                        expr: Expr_Cast_Int(
                                                            expr: Expr_PropertyFetch(
                                                                var: Expr_PropertyFetch(
                                                                    var: Expr_PropertyFetch(
                                                                        var: Expr_Variable(
                                                                            name: this
                                                                        )
                                                                        name: context
                                                                    )
                                                                    name: cart
                                                                )
                                                                name: id
                                                            )
                                                        )
                                                    )
                                                    3: Expr_Assign(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: message
                                                            )
                                                            name: id_customer
                                                        )
                                                        expr: Expr_Cast_Int(
                                                            expr: Expr_PropertyFetch(
                                                                var: Expr_PropertyFetch(
                                                                    var: Expr_PropertyFetch(
                                                                        var: Expr_Variable(
                                                                            name: this
                                                                        )
                                                                        name: context
                                                                    )
                                                                    name: cart
                                                                )
                                                                name: id_customer
                                                            )
                                                        )
                                                    )
                                                    4: Expr_MethodCall(
                                                        var: Expr_Variable(
                                                            name: message
                                                        )
                                                        name: add
                                                        args: array(
                                                        )
                                                    )
                                                )
                                            )
                                            cond: Expr_Assign(
                                                var: Expr_Variable(
                                                    name: oldMessage
                                                )
                                                expr: Expr_StaticCall(
                                                    class: Name_FullyQualified(
                                                        parts: array(
                                                            0: Message
                                                        )
                                                    )
                                                    name: getMessageByCartId
                                                    args: array(
                                                        0: Arg(
                                                            value: Expr_Cast_Int(
                                                                expr: Expr_PropertyFetch(
                                                                    var: Expr_PropertyFetch(
                                                                        var: Expr_PropertyFetch(
                                                                            var: Expr_Variable(
                                                                                name: this
                                                                            )
                                                                            name: context
                                                                        )
                                                                        name: cart
                                                                    )
                                                                    name: id
                                                                )
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                    )
                                )
                                cond: Expr_BooleanNot(
                                    expr: Expr_StaticCall(
                                        class: Name_FullyQualified(
                                            parts: array(
                                                0: Validate
                                            )
                                        )
                                        name: isMessage
                                        args: array(
                                            0: Arg(
                                                value: Expr_Variable(
                                                    name: messageContent
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: Stmt_Else(
                            stmts: array(
                                0: Stmt_If(
                                    stmts: array(
                                        0: Expr_Assign(
                                            var: Expr_Variable(
                                                name: message
                                            )
                                            expr: Expr_New(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Message
                                                    )
                                                )
                                                args: array(
                                                    0: Arg(
                                                        value: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: oldMessage
                                                            )
                                                            dim: Scalar_String(
                                                                value: id_message
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                        )
                                        1: Expr_MethodCall(
                                            var: Expr_Variable(
                                                name: message
                                            )
                                            name: delete
                                            args: array(
                                            )
                                        )
                                    )
                                    elseifs: array(
                                    )
                                    else: null
                                    cond: Expr_Assign(
                                        var: Expr_Variable(
                                            name: oldMessage
                                        )
                                        expr: Expr_StaticCall(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Message
                                                )
                                            )
                                            name: getMessageByCartId
                                            args: array(
                                                0: Arg(
                                                    value: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: context
                                                            )
                                                            name: cart
                                                        )
                                                        name: id
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        )
                        cond: Expr_Variable(
                            name: messageContent
                        )
                    )
                    1: Stmt_Return(
                        expr: Expr_ConstFetch(
                            name: Name(
                                parts: array(
                                    0: true
                                )
                            )
                        )
                    )
                )
                name: _updateMessage
            )
            7: Stmt_ClassMethod(
                type: 2
                byRef: false
                params: array(
                )
                stmts: array(
                    0: Expr_Assign(
                        var: Expr_PropertyFetch(
                            var: Expr_PropertyFetch(
                                var: Expr_PropertyFetch(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: context
                                )
                                name: cart
                            )
                            name: recyclable
                        )
                        expr: Expr_Cast_Int(
                            expr: Expr_StaticCall(
                                class: Name_FullyQualified(
                                    parts: array(
                                        0: Tools
                                    )
                                )
                                name: getValue
                                args: array(
                                    0: Arg(
                                        value: Scalar_String(
                                            value: recyclable
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                    )
                    1: Expr_Assign(
                        var: Expr_PropertyFetch(
                            var: Expr_PropertyFetch(
                                var: Expr_PropertyFetch(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: context
                                )
                                name: cart
                            )
                            name: gift
                        )
                        expr: Expr_Cast_Int(
                            expr: Expr_StaticCall(
                                class: Name_FullyQualified(
                                    parts: array(
                                        0: Tools
                                    )
                                )
                                name: getValue
                                args: array(
                                    0: Arg(
                                        value: Scalar_String(
                                            value: gift
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                    )
                    2: Stmt_If(
                        stmts: array(
                            0: Stmt_If(
                                stmts: array(
                                    0: Expr_Assign(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_Variable(
                                                    name: this
                                                )
                                                name: errors
                                            )
                                            dim: null
                                        )
                                        expr: Expr_StaticCall(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Tools
                                                )
                                            )
                                            name: displayError
                                            args: array(
                                                0: Arg(
                                                    value: Scalar_String(
                                                        value: Invalid gift message.
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: Stmt_Else(
                                    stmts: array(
                                        0: Expr_Assign(
                                            var: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: cart
                                                )
                                                name: gift_message
                                            )
                                            expr: Expr_FuncCall(
                                                name: Name(
                                                    parts: array(
                                                        0: strip_tags
                                                    )
                                                )
                                                args: array(
                                                    0: Arg(
                                                        value: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: _POST
                                                            )
                                                            dim: Scalar_String(
                                                                value: gift_message
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                        )
                                    )
                                )
                                cond: Expr_BooleanNot(
                                    expr: Expr_StaticCall(
                                        class: Name_FullyQualified(
                                            parts: array(
                                                0: Validate
                                            )
                                        )
                                        name: isMessage
                                        args: array(
                                            0: Arg(
                                                value: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: _POST
                                                    )
                                                    dim: Scalar_String(
                                                        value: gift_message
                                                    )
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_Cast_Int(
                            expr: Expr_StaticCall(
                                class: Name_FullyQualified(
                                    parts: array(
                                        0: Tools
                                    )
                                )
                                name: getValue
                                args: array(
                                    0: Arg(
                                        value: Scalar_String(
                                            value: gift
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                    )
                    3: Stmt_If(
                        stmts: array(
                            0: Expr_Assign(
                                var: Expr_Variable(
                                    name: address
                                )
                                expr: Expr_New(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Address
                                        )
                                    )
                                    args: array(
                                        0: Arg(
                                            value: Expr_Cast_Int(
                                                expr: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: context
                                                        )
                                                        name: cart
                                                    )
                                                    name: id_address_delivery
                                                )
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                            )
                            1: Stmt_If(
                                stmts: array(
                                    0: Expr_Assign(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_Variable(
                                                    name: this
                                                )
                                                name: errors
                                            )
                                            dim: null
                                        )
                                        expr: Expr_StaticCall(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Tools
                                                )
                                            )
                                            name: displayError
                                            args: array(
                                                0: Arg(
                                                    value: Scalar_String(
                                                        value: No zone matches your address.
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: null
                                cond: Expr_BooleanNot(
                                    expr: Expr_Assign(
                                        var: Expr_Variable(
                                            name: id_zone
                                        )
                                        expr: Expr_StaticCall(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Address
                                                )
                                            )
                                            name: getZoneById
                                            args: array(
                                                0: Arg(
                                                    value: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: address
                                                        )
                                                        name: id
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: Stmt_Else(
                            stmts: array(
                                0: Expr_Assign(
                                    var: Expr_Variable(
                                        name: id_zone
                                    )
                                    expr: Expr_StaticCall(
                                        class: Name_FullyQualified(
                                            parts: array(
                                                0: Country
                                            )
                                        )
                                        name: getIdZone
                                        args: array(
                                            0: Arg(
                                                value: Expr_Cast_Int(
                                                    expr: Expr_StaticCall(
                                                        class: Name_FullyQualified(
                                                            parts: array(
                                                                0: Configuration
                                                            )
                                                        )
                                                        name: get
                                                        args: array(
                                                            0: Arg(
                                                                value: Scalar_String(
                                                                    value: PS_COUNTRY_DEFAULT
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                )
                            )
                        )
                        cond: Expr_BooleanAnd(
                            left: Expr_Isset(
                                vars: array(
                                    0: Expr_PropertyFetch(
                                        var: Expr_PropertyFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_Variable(
                                                    name: this
                                                )
                                                name: context
                                            )
                                            name: customer
                                        )
                                        name: id
                                    )
                                )
                            )
                            right: Expr_PropertyFetch(
                                var: Expr_PropertyFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: context
                                    )
                                    name: customer
                                )
                                name: id
                            )
                        )
                    )
                    4: Stmt_If(
                        stmts: array(
                            0: Stmt_If(
                                stmts: array(
                                    0: Expr_MethodCall(
                                        var: Expr_PropertyFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_Variable(
                                                    name: this
                                                )
                                                name: context
                                            )
                                            name: cart
                                        )
                                        name: setDeliveryOption
                                        args: array(
                                            0: Arg(
                                                value: Expr_StaticCall(
                                                    class: Name_FullyQualified(
                                                        parts: array(
                                                            0: Tools
                                                        )
                                                    )
                                                    name: getValue
                                                    args: array(
                                                        0: Arg(
                                                            value: Scalar_String(
                                                                value: delivery_option
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: null
                                cond: Expr_MethodCall(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: validateDeliveryOption
                                    args: array(
                                        0: Arg(
                                            value: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Tools
                                                    )
                                                )
                                                name: getValue
                                                args: array(
                                                    0: Arg(
                                                        value: Scalar_String(
                                                            value: delivery_option
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                            )
                        )
                        elseifs: array(
                            0: Stmt_ElseIf(
                                cond: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Tools
                                        )
                                    )
                                    name: getIsset
                                    args: array(
                                        0: Arg(
                                            value: Scalar_String(
                                                value: id_carrier
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                                stmts: array(
                                    0: Expr_Assign(
                                        var: Expr_Variable(
                                            name: delivery_option_list
                                        )
                                        expr: Expr_MethodCall(
                                            var: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: context
                                                )
                                                name: cart
                                            )
                                            name: getDeliveryOptionList
                                            args: array(
                                            )
                                        )
                                    )
                                    1: Stmt_If(
                                        stmts: array(
                                            0: Expr_Assign(
                                                var: Expr_Variable(
                                                    name: delivery_option
                                                )
                                                expr: Expr_FuncCall(
                                                    name: Name(
                                                        parts: array(
                                                            0: reset
                                                        )
                                                    )
                                                    args: array(
                                                        0: Arg(
                                                            value: Expr_Variable(
                                                                name: delivery_option_list
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                            )
                                            1: Expr_Assign(
                                                var: Expr_Variable(
                                                    name: key
                                                )
                                                expr: Expr_StaticCall(
                                                    class: Name_FullyQualified(
                                                        parts: array(
                                                            0: Cart
                                                        )
                                                    )
                                                    name: desintifier
                                                    args: array(
                                                        0: Arg(
                                                            value: Expr_StaticCall(
                                                                class: Name_FullyQualified(
                                                                    parts: array(
                                                                        0: Tools
                                                                    )
                                                                )
                                                                name: getValue
                                                                args: array(
                                                                    0: Arg(
                                                                        value: Scalar_String(
                                                                            value: id_carrier
                                                                        )
                                                                        byRef: false
                                                                    )
                                                                )
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                            )
                                            2: Stmt_Foreach(
                                                keyVar: Expr_Variable(
                                                    name: id_address
                                                )
                                                byRef: false
                                                stmts: array(
                                                    0: Stmt_If(
                                                        stmts: array(
                                                            0: Expr_Assign(
                                                                var: Expr_PropertyFetch(
                                                                    var: Expr_PropertyFetch(
                                                                        var: Expr_PropertyFetch(
                                                                            var: Expr_Variable(
                                                                                name: this
                                                                            )
                                                                            name: context
                                                                        )
                                                                        name: cart
                                                                    )
                                                                    name: id_carrier
                                                                )
                                                                expr: Expr_Cast_Int(
                                                                    expr: Expr_StaticCall(
                                                                        class: Name_FullyQualified(
                                                                            parts: array(
                                                                                0: Tools
                                                                            )
                                                                        )
                                                                        name: getValue
                                                                        args: array(
                                                                            0: Arg(
                                                                                value: Scalar_String(
                                                                                    value: id_carrier
                                                                                )
                                                                                byRef: false
                                                                            )
                                                                        )
                                                                    )
                                                                )
                                                            )
                                                            1: Expr_MethodCall(
                                                                var: Expr_PropertyFetch(
                                                                    var: Expr_PropertyFetch(
                                                                        var: Expr_Variable(
                                                                            name: this
                                                                        )
                                                                        name: context
                                                                    )
                                                                    name: cart
                                                                )
                                                                name: setDeliveryOption
                                                                args: array(
                                                                    0: Arg(
                                                                        value: Expr_Array(
                                                                            items: array(
                                                                                0: Expr_ArrayItem(
                                                                                    key: Expr_Variable(
                                                                                        name: id_address
                                                                                    )
                                                                                    value: Expr_Variable(
                                                                                        name: key
                                                                                    )
                                                                                    byRef: false
                                                                                )
                                                                            )
                                                                        )
                                                                        byRef: false
                                                                    )
                                                                )
                                                            )
                                                            2: Stmt_If(
                                                                stmts: array(
                                                                    0: Stmt_Unset(
                                                                        vars: array(
                                                                            0: Expr_PropertyFetch(
                                                                                var: Expr_PropertyFetch(
                                                                                    var: Expr_PropertyFetch(
                                                                                        var: Expr_Variable(
                                                                                            name: this
                                                                                        )
                                                                                        name: context
                                                                                    )
                                                                                    name: cookie
                                                                                )
                                                                                name: id_country
                                                                            )
                                                                        )
                                                                    )
                                                                )
                                                                elseifs: array(
                                                                )
                                                                else: null
                                                                cond: Expr_Isset(
                                                                    vars: array(
                                                                        0: Expr_PropertyFetch(
                                                                            var: Expr_PropertyFetch(
                                                                                var: Expr_PropertyFetch(
                                                                                    var: Expr_Variable(
                                                                                        name: this
                                                                                    )
                                                                                    name: context
                                                                                )
                                                                                name: cookie
                                                                            )
                                                                            name: id_country
                                                                        )
                                                                    )
                                                                )
                                                            )
                                                            3: Stmt_If(
                                                                stmts: array(
                                                                    0: Stmt_Unset(
                                                                        vars: array(
                                                                            0: Expr_PropertyFetch(
                                                                                var: Expr_PropertyFetch(
                                                                                    var: Expr_PropertyFetch(
                                                                                        var: Expr_Variable(
                                                                                            name: this
                                                                                        )
                                                                                        name: context
                                                                                    )
                                                                                    name: cookie
                                                                                )
                                                                                name: id_state
                                                                            )
                                                                        )
                                                                    )
                                                                )
                                                                elseifs: array(
                                                                )
                                                                else: null
                                                                cond: Expr_Isset(
                                                                    vars: array(
                                                                        0: Expr_PropertyFetch(
                                                                            var: Expr_PropertyFetch(
                                                                                var: Expr_PropertyFetch(
                                                                                    var: Expr_Variable(
                                                                                        name: this
                                                                                    )
                                                                                    name: context
                                                                                )
                                                                                name: cookie
                                                                            )
                                                                            name: id_state
                                                                        )
                                                                    )
                                                                )
                                                            )
                                                        )
                                                        elseifs: array(
                                                        )
                                                        else: null
                                                        cond: Expr_Isset(
                                                            vars: array(
                                                                0: Expr_ArrayDimFetch(
                                                                    var: Expr_Variable(
                                                                        name: options
                                                                    )
                                                                    dim: Expr_Variable(
                                                                        name: key
                                                                    )
                                                                )
                                                            )
                                                        )
                                                    )
                                                )
                                                expr: Expr_Variable(
                                                    name: delivery_option_list
                                                )
                                                valueVar: Expr_Variable(
                                                    name: options
                                                )
                                            )
                                        )
                                        elseifs: array(
                                        )
                                        else: null
                                        cond: Expr_Equal(
                                            left: Expr_FuncCall(
                                                name: Name(
                                                    parts: array(
                                                        0: count
                                                    )
                                                )
                                                args: array(
                                                    0: Arg(
                                                        value: Expr_Variable(
                                                            name: delivery_option_list
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            right: Scalar_LNumber(
                                                value: 1
                                            )
                                        )
                                    )
                                )
                            )
                        )
                        else: null
                        cond: Expr_StaticCall(
                            class: Name_FullyQualified(
                                parts: array(
                                    0: Tools
                                )
                            )
                            name: getIsset
                            args: array(
                                0: Arg(
                                    value: Scalar_String(
                                        value: delivery_option
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    5: Expr_StaticCall(
                        class: Name_FullyQualified(
                            parts: array(
                                0: Hook
                            )
                        )
                        name: exec
                        args: array(
                            0: Arg(
                                value: Scalar_String(
                                    value: actionCarrierProcess
                                )
                                byRef: false
                            )
                            1: Arg(
                                value: Expr_Array(
                                    items: array(
                                        0: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: cart
                                            )
                                            value: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: context
                                                )
                                                name: cart
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                                byRef: false
                            )
                        )
                    )
                    6: Stmt_If(
                        stmts: array(
                            0: Stmt_Return(
                                expr: Expr_ConstFetch(
                                    name: Name(
                                        parts: array(
                                            0: false
                                        )
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_BooleanNot(
                            expr: Expr_MethodCall(
                                var: Expr_PropertyFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: context
                                    )
                                    name: cart
                                )
                                name: update
                                args: array(
                                )
                            )
                        )
                    )
                    7: Expr_StaticCall(
                        class: Name_FullyQualified(
                            parts: array(
                                0: CartRule
                            )
                        )
                        name: autoRemoveFromCart
                        args: array(
                            0: Arg(
                                value: Expr_PropertyFetch(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: context
                                )
                                byRef: false
                            )
                        )
                    )
                    8: Expr_StaticCall(
                        class: Name_FullyQualified(
                            parts: array(
                                0: CartRule
                            )
                        )
                        name: autoAddToCart
                        args: array(
                            0: Arg(
                                value: Expr_PropertyFetch(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: context
                                )
                                byRef: false
                            )
                        )
                    )
                    9: Stmt_Return(
                        expr: Expr_ConstFetch(
                            name: Name(
                                parts: array(
                                    0: true
                                )
                            )
                        )
                    )
                )
                name: _processCarrier
            )
            8: Stmt_ClassMethod(
                type: 2
                byRef: false
                params: array(
                    0: Param(
                        name: delivery_option
                        default: null
                        type: null
                        byRef: false
                    )
                )
                stmts: array(
                    0: Stmt_If(
                        stmts: array(
                            0: Stmt_Return(
                                expr: Expr_ConstFetch(
                                    name: Name(
                                        parts: array(
                                            0: false
                                        )
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_BooleanNot(
                            expr: Expr_FuncCall(
                                name: Name(
                                    parts: array(
                                        0: is_array
                                    )
                                )
                                args: array(
                                    0: Arg(
                                        value: Expr_Variable(
                                            name: delivery_option
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                    )
                    1: Stmt_Foreach(
                        keyVar: null
                        byRef: false
                        stmts: array(
                            0: Stmt_If(
                                stmts: array(
                                    0: Stmt_Return(
                                        expr: Expr_ConstFetch(
                                            name: Name(
                                                parts: array(
                                                    0: false
                                                )
                                            )
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: null
                                cond: Expr_BooleanNot(
                                    expr: Expr_FuncCall(
                                        name: Name(
                                            parts: array(
                                                0: preg_match
                                            )
                                        )
                                        args: array(
                                            0: Arg(
                                                value: Scalar_String(
                                                    value: /(\d+,)?\d+/
                                                )
                                                byRef: false
                                            )
                                            1: Arg(
                                                value: Expr_Variable(
                                                    name: option
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                )
                            )
                        )
                        expr: Expr_Variable(
                            name: delivery_option
                        )
                        valueVar: Expr_Variable(
                            name: option
                        )
                    )
                    2: Stmt_Return(
                        expr: Expr_ConstFetch(
                            name: Name(
                                parts: array(
                                    0: true
                                )
                            )
                        )
                    )
                )
                name: validateDeliveryOption
            )
            9: Stmt_ClassMethod(
                type: 2
                byRef: false
                params: array(
                )
                stmts: array(
                    0: Expr_Assign(
                        var: Expr_Variable(
                            name: summary
                        )
                        expr: Expr_MethodCall(
                            var: Expr_PropertyFetch(
                                var: Expr_PropertyFetch(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: context
                                )
                                name: cart
                            )
                            name: getSummaryDetails
                            args: array(
                            )
                        )
                    )
                    1: Expr_Assign(
                        var: Expr_Variable(
                            name: customizedDatas
                        )
                        expr: Expr_StaticCall(
                            class: Name_FullyQualified(
                                parts: array(
                                    0: Product
                                )
                            )
                            name: getAllCustomizedDatas
                            args: array(
                                0: Arg(
                                    value: Expr_PropertyFetch(
                                        var: Expr_PropertyFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_Variable(
                                                    name: this
                                                )
                                                name: context
                                            )
                                            name: cart
                                        )
                                        name: id
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    2: Stmt_If(
                        stmts: array(
                            0: Stmt_Foreach(
                                keyVar: null
                                byRef: true
                                stmts: array(
                                    0: Expr_Assign(
                                        var: Expr_Variable(
                                            name: productId
                                        )
                                        expr: Expr_Cast_Int(
                                            expr: Expr_Ternary(
                                                cond: Expr_Isset(
                                                    vars: array(
                                                        0: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: productUpdate
                                                            )
                                                            dim: Scalar_String(
                                                                value: id_product
                                                            )
                                                        )
                                                    )
                                                )
                                                if: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: productUpdate
                                                    )
                                                    dim: Scalar_String(
                                                        value: id_product
                                                    )
                                                )
                                                else: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: productUpdate
                                                    )
                                                    dim: Scalar_String(
                                                        value: product_id
                                                    )
                                                )
                                            )
                                        )
                                    )
                                    1: Expr_Assign(
                                        var: Expr_Variable(
                                            name: productAttributeId
                                        )
                                        expr: Expr_Cast_Int(
                                            expr: Expr_Ternary(
                                                cond: Expr_Isset(
                                                    vars: array(
                                                        0: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: productUpdate
                                                            )
                                                            dim: Scalar_String(
                                                                value: id_product_attribute
                                                            )
                                                        )
                                                    )
                                                )
                                                if: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: productUpdate
                                                    )
                                                    dim: Scalar_String(
                                                        value: id_product_attribute
                                                    )
                                                )
                                                else: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: productUpdate
                                                    )
                                                    dim: Scalar_String(
                                                        value: product_attribute_id
                                                    )
                                                )
                                            )
                                        )
                                    )
                                    2: Stmt_If(
                                        stmts: array(
                                            0: Expr_Assign(
                                                var: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: productUpdate
                                                    )
                                                    dim: Scalar_String(
                                                        value: tax_rate
                                                    )
                                                )
                                                expr: Expr_StaticCall(
                                                    class: Name_FullyQualified(
                                                        parts: array(
                                                            0: Tax
                                                        )
                                                    )
                                                    name: getProductTaxRate
                                                    args: array(
                                                        0: Arg(
                                                            value: Expr_Variable(
                                                                name: productId
                                                            )
                                                            byRef: false
                                                        )
                                                        1: Arg(
                                                            value: Expr_PropertyFetch(
                                                                var: Expr_PropertyFetch(
                                                                    var: Expr_PropertyFetch(
                                                                        var: Expr_Variable(
                                                                            name: this
                                                                        )
                                                                        name: context
                                                                    )
                                                                    name: cart
                                                                )
                                                                name: Expr_StaticCall(
                                                                    class: Name_FullyQualified(
                                                                        parts: array(
                                                                            0: Configuration
                                                                        )
                                                                    )
                                                                    name: get
                                                                    args: array(
                                                                        0: Arg(
                                                                            value: Scalar_String(
                                                                                value: PS_TAX_ADDRESS_TYPE
                                                                            )
                                                                            byRef: false
                                                                        )
                                                                    )
                                                                )
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                        elseifs: array(
                                        )
                                        else: null
                                        cond: Expr_Isset(
                                            vars: array(
                                                0: Expr_ArrayDimFetch(
                                                    var: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: customizedDatas
                                                        )
                                                        dim: Expr_Variable(
                                                            name: productId
                                                        )
                                                    )
                                                    dim: Expr_Variable(
                                                        name: productAttributeId
                                                    )
                                                )
                                            )
                                        )
                                    )
                                )
                                expr: Expr_ArrayDimFetch(
                                    var: Expr_Variable(
                                        name: summary
                                    )
                                    dim: Scalar_String(
                                        value: products
                                    )
                                )
                                valueVar: Expr_Variable(
                                    name: productUpdate
                                )
                            )
                            1: Expr_StaticCall(
                                class: Name_FullyQualified(
                                    parts: array(
                                        0: Product
                                    )
                                )
                                name: addCustomizationPrice
                                args: array(
                                    0: Arg(
                                        value: Expr_ArrayDimFetch(
                                            var: Expr_Variable(
                                                name: summary
                                            )
                                            dim: Scalar_String(
                                                value: products
                                            )
                                        )
                                        byRef: false
                                    )
                                    1: Arg(
                                        value: Expr_Variable(
                                            name: customizedDatas
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_Variable(
                            name: customizedDatas
                        )
                    )
                    3: Expr_Assign(
                        var: Expr_Variable(
                            name: cart_product_context
                        )
                        expr: Expr_MethodCall(
                            var: Expr_StaticCall(
                                class: Name_FullyQualified(
                                    parts: array(
                                        0: Context
                                    )
                                )
                                name: getContext
                                args: array(
                                )
                            )
                            name: cloneContext
                            args: array(
                            )
                        )
                    )
                    4: Stmt_Foreach(
                        keyVar: Expr_Variable(
                            name: key
                        )
                        byRef: true
                        stmts: array(
                            0: Expr_Assign(
                                var: Expr_ArrayDimFetch(
                                    var: Expr_Variable(
                                        name: product
                                    )
                                    dim: Scalar_String(
                                        value: quantity
                                    )
                                )
                                expr: Expr_ArrayDimFetch(
                                    var: Expr_Variable(
                                        name: product
                                    )
                                    dim: Scalar_String(
                                        value: cart_quantity
                                    )
                                )
                            )
                            1: Stmt_If(
                                stmts: array(
                                    0: Expr_Assign(
                                        var: Expr_PropertyFetch(
                                            var: Expr_Variable(
                                                name: cart_product_context
                                            )
                                            name: shop
                                        )
                                        expr: Expr_New(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Shop
                                                )
                                            )
                                            args: array(
                                                0: Arg(
                                                    value: Expr_Cast_Int(
                                                        expr: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: product
                                                            )
                                                            dim: Scalar_String(
                                                                value: id_shop
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: null
                                cond: Expr_NotEqual(
                                    left: Expr_PropertyFetch(
                                        var: Expr_PropertyFetch(
                                            var: Expr_Variable(
                                                name: cart_product_context
                                            )
                                            name: shop
                                        )
                                        name: id
                                    )
                                    right: Expr_ArrayDimFetch(
                                        var: Expr_Variable(
                                            name: product
                                        )
                                        dim: Scalar_String(
                                            value: id_shop
                                        )
                                    )
                                )
                            )
                            2: Expr_Assign(
                                var: Expr_ArrayDimFetch(
                                    var: Expr_Variable(
                                        name: product
                                    )
                                    dim: Scalar_String(
                                        value: price_without_specific_price
                                    )
                                )
                                expr: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Product
                                        )
                                    )
                                    name: getPriceStatic
                                    args: array(
                                        0: Arg(
                                            value: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: product
                                                )
                                                dim: Scalar_String(
                                                    value: id_product
                                                )
                                            )
                                            byRef: false
                                        )
                                        1: Arg(
                                            value: Expr_BooleanNot(
                                                expr: Expr_StaticCall(
                                                    class: Name_FullyQualified(
                                                        parts: array(
                                                            0: Product
                                                        )
                                                    )
                                                    name: getTaxCalculationMethod
                                                    args: array(
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        2: Arg(
                                            value: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: product
                                                )
                                                dim: Scalar_String(
                                                    value: id_product_attribute
                                                )
                                            )
                                            byRef: false
                                        )
                                        3: Arg(
                                            value: Scalar_LNumber(
                                                value: 2
                                            )
                                            byRef: false
                                        )
                                        4: Arg(
                                            value: Expr_ConstFetch(
                                                name: Name(
                                                    parts: array(
                                                        0: null
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        5: Arg(
                                            value: Expr_ConstFetch(
                                                name: Name(
                                                    parts: array(
                                                        0: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        6: Arg(
                                            value: Expr_ConstFetch(
                                                name: Name(
                                                    parts: array(
                                                        0: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        7: Arg(
                                            value: Scalar_LNumber(
                                                value: 1
                                            )
                                            byRef: false
                                        )
                                        8: Arg(
                                            value: Expr_ConstFetch(
                                                name: Name(
                                                    parts: array(
                                                        0: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        9: Arg(
                                            value: Expr_ConstFetch(
                                                name: Name(
                                                    parts: array(
                                                        0: null
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        10: Arg(
                                            value: Expr_ConstFetch(
                                                name: Name(
                                                    parts: array(
                                                        0: null
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        11: Arg(
                                            value: Expr_ConstFetch(
                                                name: Name(
                                                    parts: array(
                                                        0: null
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        12: Arg(
                                            value: Expr_Variable(
                                                name: null
                                            )
                                            byRef: false
                                        )
                                        13: Arg(
                                            value: Expr_ConstFetch(
                                                name: Name(
                                                    parts: array(
                                                        0: true
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        14: Arg(
                                            value: Expr_ConstFetch(
                                                name: Name(
                                                    parts: array(
                                                        0: true
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        15: Arg(
                                            value: Expr_Variable(
                                                name: cart_product_context
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                            )
                            3: Stmt_If(
                                stmts: array(
                                    0: Expr_Assign(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_Variable(
                                                name: product
                                            )
                                            dim: Scalar_String(
                                                value: is_discounted
                                            )
                                        )
                                        expr: Expr_NotEqual(
                                            left: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: product
                                                )
                                                dim: Scalar_String(
                                                    value: price_without_specific_price
                                                )
                                            )
                                            right: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: product
                                                )
                                                dim: Scalar_String(
                                                    value: price
                                                )
                                            )
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: Stmt_Else(
                                    stmts: array(
                                        0: Expr_Assign(
                                            var: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: product
                                                )
                                                dim: Scalar_String(
                                                    value: is_discounted
                                                )
                                            )
                                            expr: Expr_NotEqual(
                                                left: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: product
                                                    )
                                                    dim: Scalar_String(
                                                        value: price_without_specific_price
                                                    )
                                                )
                                                right: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: product
                                                    )
                                                    dim: Scalar_String(
                                                        value: price_wt
                                                    )
                                                )
                                            )
                                        )
                                    )
                                )
                                cond: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Product
                                        )
                                    )
                                    name: getTaxCalculationMethod
                                    args: array(
                                    )
                                )
                            )
                        )
                        expr: Expr_ArrayDimFetch(
                            var: Expr_Variable(
                                name: summary
                            )
                            dim: Scalar_String(
                                value: products
                            )
                        )
                        valueVar: Expr_Variable(
                            name: product
                        )
                    )
                    5: Expr_Assign(
                        var: Expr_Variable(
                            name: available_cart_rules
                        )
                        expr: Expr_StaticCall(
                            class: Name_FullyQualified(
                                parts: array(
                                    0: CartRule
                                )
                            )
                            name: getCustomerCartRules
                            args: array(
                                0: Arg(
                                    value: Expr_PropertyFetch(
                                        var: Expr_PropertyFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_Variable(
                                                    name: this
                                                )
                                                name: context
                                            )
                                            name: language
                                        )
                                        name: id
                                    )
                                    byRef: false
                                )
                                1: Arg(
                                    value: Expr_Ternary(
                                        cond: Expr_Isset(
                                            vars: array(
                                                0: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: context
                                                        )
                                                        name: customer
                                                    )
                                                    name: id
                                                )
                                            )
                                        )
                                        if: Expr_PropertyFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: context
                                                )
                                                name: customer
                                            )
                                            name: id
                                        )
                                        else: Scalar_LNumber(
                                            value: 0
                                        )
                                    )
                                    byRef: false
                                )
                                2: Arg(
                                    value: Expr_ConstFetch(
                                        name: Name(
                                            parts: array(
                                                0: true
                                            )
                                        )
                                    )
                                    byRef: false
                                )
                                3: Arg(
                                    value: Expr_ConstFetch(
                                        name: Name(
                                            parts: array(
                                                0: true
                                            )
                                        )
                                    )
                                    byRef: false
                                )
                                4: Arg(
                                    value: Expr_ConstFetch(
                                        name: Name(
                                            parts: array(
                                                0: true
                                            )
                                        )
                                    )
                                    byRef: false
                                )
                                5: Arg(
                                    value: Expr_PropertyFetch(
                                        var: Expr_PropertyFetch(
                                            var: Expr_Variable(
                                                name: this
                                            )
                                            name: context
                                        )
                                        name: cart
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    6: Expr_Assign(
                        var: Expr_Variable(
                            name: cart_cart_rules
                        )
                        expr: Expr_MethodCall(
                            var: Expr_PropertyFetch(
                                var: Expr_PropertyFetch(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: context
                                )
                                name: cart
                            )
                            name: getCartRules
                            args: array(
                            )
                        )
                    )
                    7: Stmt_Foreach(
                        keyVar: Expr_Variable(
                            name: key
                        )
                        byRef: false
                        stmts: array(
                            0: Stmt_If(
                                stmts: array(
                                    0: Stmt_Unset(
                                        vars: array(
                                            0: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: available_cart_rules
                                                )
                                                dim: Expr_Variable(
                                                    name: key
                                                )
                                            )
                                        )
                                    )
                                    1: Stmt_Continue(
                                        num: null
                                    )
                                )
                                elseifs: array(
                                )
                                else: null
                                cond: Expr_BooleanOr(
                                    left: Expr_BooleanNot(
                                        expr: Expr_ArrayDimFetch(
                                            var: Expr_Variable(
                                                name: available_cart_rule
                                            )
                                            dim: Scalar_String(
                                                value: highlight
                                            )
                                        )
                                    )
                                    right: Expr_Identical(
                                        left: Expr_FuncCall(
                                            name: Name(
                                                parts: array(
                                                    0: strpos
                                                )
                                            )
                                            args: array(
                                                0: Arg(
                                                    value: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: available_cart_rule
                                                        )
                                                        dim: Scalar_String(
                                                            value: code
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                1: Arg(
                                                    value: Scalar_String(
                                                        value: BO_ORDER_
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                        right: Scalar_LNumber(
                                            value: 0
                                        )
                                    )
                                )
                            )
                            1: Stmt_Foreach(
                                keyVar: null
                                byRef: false
                                stmts: array(
                                    0: Stmt_If(
                                        stmts: array(
                                            0: Stmt_Unset(
                                                vars: array(
                                                    0: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: available_cart_rules
                                                        )
                                                        dim: Expr_Variable(
                                                            name: key
                                                        )
                                                    )
                                                )
                                            )
                                            1: Stmt_Continue(
                                                num: Scalar_LNumber(
                                                    value: 2
                                                )
                                            )
                                        )
                                        elseifs: array(
                                        )
                                        else: null
                                        cond: Expr_Equal(
                                            left: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: available_cart_rule
                                                )
                                                dim: Scalar_String(
                                                    value: id_cart_rule
                                                )
                                            )
                                            right: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: cart_cart_rule
                                                )
                                                dim: Scalar_String(
                                                    value: id_cart_rule
                                                )
                                            )
                                        )
                                    )
                                )
                                expr: Expr_Variable(
                                    name: cart_cart_rules
                                )
                                valueVar: Expr_Variable(
                                    name: cart_cart_rule
                                )
                            )
                        )
                        expr: Expr_Variable(
                            name: available_cart_rules
                        )
                        valueVar: Expr_Variable(
                            name: available_cart_rule
                        )
                    )
                    8: Expr_Assign(
                        var: Expr_Variable(
                            name: show_option_allow_separate_package
                        )
                        expr: Expr_BooleanAnd(
                            left: Expr_BooleanNot(
                                expr: Expr_MethodCall(
                                    var: Expr_PropertyFetch(
                                        var: Expr_PropertyFetch(
                                            var: Expr_Variable(
                                                name: this
                                            )
                                            name: context
                                        )
                                        name: cart
                                    )
                                    name: isAllProductsInStock
                                    args: array(
                                        0: Arg(
                                            value: Expr_ConstFetch(
                                                name: Name(
                                                    parts: array(
                                                        0: true
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                            )
                            right: Expr_StaticCall(
                                class: Name_FullyQualified(
                                    parts: array(
                                        0: Configuration
                                    )
                                )
                                name: get
                                args: array(
                                    0: Arg(
                                        value: Scalar_String(
                                            value: PS_SHIP_WHEN_AVAILABLE
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                    )
                    9: Expr_MethodCall(
                        var: Expr_PropertyFetch(
                            var: Expr_PropertyFetch(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: context
                            )
                            name: smarty
                        )
                        name: assign
                        args: array(
                            0: Arg(
                                value: Expr_Variable(
                                    name: summary
                                )
                                byRef: false
                            )
                        )
                    )
                    10: Expr_MethodCall(
                        var: Expr_PropertyFetch(
                            var: Expr_PropertyFetch(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: context
                            )
                            name: smarty
                        )
                        name: assign
                        args: array(
                            0: Arg(
                                value: Expr_Array(
                                    items: array(
                                        0: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: token_cart
                                            )
                                            value: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Tools
                                                    )
                                                )
                                                name: getToken
                                                args: array(
                                                    0: Arg(
                                                        value: Expr_ConstFetch(
                                                            name: Name(
                                                                parts: array(
                                                                    0: false
                                                                )
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        1: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: isLogged
                                            )
                                            value: Expr_PropertyFetch(
                                                var: Expr_Variable(
                                                    name: this
                                                )
                                                name: isLogged
                                            )
                                            byRef: false
                                        )
                                        2: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: isVirtualCart
                                            )
                                            value: Expr_MethodCall(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: cart
                                                )
                                                name: isVirtualCart
                                                args: array(
                                                )
                                            )
                                            byRef: false
                                        )
                                        3: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: productNumber
                                            )
                                            value: Expr_MethodCall(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: cart
                                                )
                                                name: nbProducts
                                                args: array(
                                                )
                                            )
                                            byRef: false
                                        )
                                        4: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: voucherAllowed
                                            )
                                            value: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: CartRule
                                                    )
                                                )
                                                name: isFeatureActive
                                                args: array(
                                                )
                                            )
                                            byRef: false
                                        )
                                        5: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: shippingCost
                                            )
                                            value: Expr_MethodCall(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: cart
                                                )
                                                name: getOrderTotal
                                                args: array(
                                                    0: Arg(
                                                        value: Expr_ConstFetch(
                                                            name: Name(
                                                                parts: array(
                                                                    0: true
                                                                )
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                    1: Arg(
                                                        value: Expr_ClassConstFetch(
                                                            class: Name_FullyQualified(
                                                                parts: array(
                                                                    0: Cart
                                                                )
                                                            )
                                                            name: ONLY_SHIPPING
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        6: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: shippingCostTaxExc
                                            )
                                            value: Expr_MethodCall(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: cart
                                                )
                                                name: getOrderTotal
                                                args: array(
                                                    0: Arg(
                                                        value: Expr_ConstFetch(
                                                            name: Name(
                                                                parts: array(
                                                                    0: false
                                                                )
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                    1: Arg(
                                                        value: Expr_ClassConstFetch(
                                                            class: Name_FullyQualified(
                                                                parts: array(
                                                                    0: Cart
                                                                )
                                                            )
                                                            name: ONLY_SHIPPING
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        7: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: customizedDatas
                                            )
                                            value: Expr_Variable(
                                                name: customizedDatas
                                            )
                                            byRef: false
                                        )
                                        8: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: CUSTOMIZE_FILE
                                            )
                                            value: Expr_ClassConstFetch(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Product
                                                    )
                                                )
                                                name: CUSTOMIZE_FILE
                                            )
                                            byRef: false
                                        )
                                        9: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: CUSTOMIZE_TEXTFIELD
                                            )
                                            value: Expr_ClassConstFetch(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Product
                                                    )
                                                )
                                                name: CUSTOMIZE_TEXTFIELD
                                            )
                                            byRef: false
                                        )
                                        10: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: lastProductAdded
                                            )
                                            value: Expr_MethodCall(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: cart
                                                )
                                                name: getLastProduct
                                                args: array(
                                                )
                                            )
                                            byRef: false
                                        )
                                        11: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: displayVouchers
                                            )
                                            value: Expr_Variable(
                                                name: available_cart_rules
                                            )
                                            byRef: false
                                        )
                                        12: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: currencySign
                                            )
                                            value: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: currency
                                                )
                                                name: sign
                                            )
                                            byRef: false
                                        )
                                        13: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: currencyRate
                                            )
                                            value: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: currency
                                                )
                                                name: conversion_rate
                                            )
                                            byRef: false
                                        )
                                        14: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: currencyFormat
                                            )
                                            value: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: currency
                                                )
                                                name: format
                                            )
                                            byRef: false
                                        )
                                        15: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: currencyBlank
                                            )
                                            value: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: currency
                                                )
                                                name: blank
                                            )
                                            byRef: false
                                        )
                                        16: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: show_option_allow_separate_package
                                            )
                                            value: Expr_Variable(
                                                name: show_option_allow_separate_package
                                            )
                                            byRef: false
                                        )
                                        17: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: smallSize
                                            )
                                            value: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Image
                                                    )
                                                )
                                                name: getSize
                                                args: array(
                                                    0: Arg(
                                                        value: Expr_StaticCall(
                                                            class: Name_FullyQualified(
                                                                parts: array(
                                                                    0: ImageType
                                                                )
                                                            )
                                                            name: getFormatedName
                                                            args: array(
                                                                0: Arg(
                                                                    value: Scalar_String(
                                                                        value: small
                                                                    )
                                                                    byRef: false
                                                                )
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                                byRef: false
                            )
                        )
                    )
                    11: Expr_MethodCall(
                        var: Expr_PropertyFetch(
                            var: Expr_PropertyFetch(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: context
                            )
                            name: smarty
                        )
                        name: assign
                        args: array(
                            0: Arg(
                                value: Expr_Array(
                                    items: array(
                                        0: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: HOOK_SHOPPING_CART
                                            )
                                            value: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Hook
                                                    )
                                                )
                                                name: exec
                                                args: array(
                                                    0: Arg(
                                                        value: Scalar_String(
                                                            value: displayShoppingCartFooter
                                                        )
                                                        byRef: false
                                                    )
                                                    1: Arg(
                                                        value: Expr_Variable(
                                                            name: summary
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        1: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: HOOK_SHOPPING_CART_EXTRA
                                            )
                                            value: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Hook
                                                    )
                                                )
                                                name: exec
                                                args: array(
                                                    0: Arg(
                                                        value: Scalar_String(
                                                            value: displayShoppingCart
                                                        )
                                                        byRef: false
                                                    )
                                                    1: Arg(
                                                        value: Expr_Variable(
                                                            name: summary
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                                byRef: false
                            )
                        )
                    )
                )
                name: _assignSummaryInformations
            )
            10: Stmt_ClassMethod(
                type: 2
                byRef: false
                params: array(
                )
                stmts: array(
                    0: Stmt_If(
                        stmts: array(
                            0: Expr_MethodCall(
                                var: Expr_PropertyFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: context
                                    )
                                    name: customer
                                )
                                name: logout
                                args: array(
                                )
                            )
                            1: Expr_StaticCall(
                                class: Name_FullyQualified(
                                    parts: array(
                                        0: Tools
                                    )
                                )
                                name: redirect
                                args: array(
                                    0: Arg(
                                        value: Scalar_String(
                                            value: 
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: Stmt_Else(
                            stmts: array(
                                0: Stmt_If(
                                    stmts: array(
                                        0: Expr_StaticCall(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Tools
                                                )
                                            )
                                            name: redirect
                                            args: array(
                                                0: Arg(
                                                    value: Expr_Concat(
                                                        left: Scalar_String(
                                                            value: index.php?controller=address&back=
                                                        )
                                                        right: Expr_FuncCall(
                                                            name: Name(
                                                                parts: array(
                                                                    0: urlencode
                                                                )
                                                            )
                                                            args: array(
                                                                0: Arg(
                                                                    value: Expr_Concat(
                                                                        left: Scalar_String(
                                                                            value: order.php?step=1&multi-shipping=
                                                                        )
                                                                        right: Expr_Cast_Int(
                                                                            expr: Expr_StaticCall(
                                                                                class: Name_FullyQualified(
                                                                                    parts: array(
                                                                                        0: Tools
                                                                                    )
                                                                                )
                                                                                name: getValue
                                                                                args: array(
                                                                                    0: Arg(
                                                                                        value: Scalar_String(
                                                                                            value: multi-shipping
                                                                                        )
                                                                                        byRef: false
                                                                                    )
                                                                                )
                                                                            )
                                                                        )
                                                                    )
                                                                    byRef: false
                                                                )
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                    elseifs: array(
                                    )
                                    else: null
                                    cond: Expr_BooleanNot(
                                        expr: Expr_StaticCall(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Customer
                                                )
                                            )
                                            name: getAddressesTotalById
                                            args: array(
                                                0: Arg(
                                                    value: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: context
                                                            )
                                                            name: customer
                                                        )
                                                        name: id
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        )
                        cond: Expr_BooleanAnd(
                            left: Expr_Equal(
                                left: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Configuration
                                        )
                                    )
                                    name: get
                                    args: array(
                                        0: Arg(
                                            value: Scalar_String(
                                                value: PS_GUEST_CHECKOUT_ENABLED
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                                right: Scalar_LNumber(
                                    value: 0
                                )
                            )
                            right: Expr_NotEqual(
                                left: Expr_Cast_Int(
                                    expr: Expr_PropertyFetch(
                                        var: Expr_PropertyFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_Variable(
                                                    name: this
                                                )
                                                name: context
                                            )
                                            name: customer
                                        )
                                        name: is_guest
                                    )
                                )
                                right: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Configuration
                                        )
                                    )
                                    name: get
                                    args: array(
                                        0: Arg(
                                            value: Scalar_String(
                                                value: PS_GUEST_CHECKOUT_ENABLED
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                            )
                        )
                    )
                    1: Expr_Assign(
                        var: Expr_Variable(
                            name: customer
                        )
                        expr: Expr_PropertyFetch(
                            var: Expr_PropertyFetch(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: context
                            )
                            name: customer
                        )
                    )
                    2: Stmt_If(
                        stmts: array(
                            0: Expr_Assign(
                                var: Expr_Variable(
                                    name: customerAddresses
                                )
                                expr: Expr_MethodCall(
                                    var: Expr_Variable(
                                        name: customer
                                    )
                                    name: getAddresses
                                    args: array(
                                        0: Arg(
                                            value: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: language
                                                )
                                                name: id
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                            )
                            1: Expr_Assign(
                                var: Expr_Variable(
                                    name: formatedAddressFieldsValuesList
                                )
                                expr: Expr_Array(
                                    items: array(
                                    )
                                )
                            )
                            2: Stmt_Foreach(
                                keyVar: Expr_Variable(
                                    name: i
                                )
                                byRef: false
                                stmts: array(
                                    0: Stmt_If(
                                        stmts: array(
                                            0: Stmt_Unset(
                                                vars: array(
                                                    0: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: customerAddresses
                                                        )
                                                        dim: Expr_Variable(
                                                            name: i
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                        elseifs: array(
                                        )
                                        else: null
                                        cond: Expr_BooleanNot(
                                            expr: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Address
                                                    )
                                                )
                                                name: isCountryActiveById
                                                args: array(
                                                    0: Arg(
                                                        value: Expr_Cast_Int(
                                                            expr: Expr_ArrayDimFetch(
                                                                var: Expr_Variable(
                                                                    name: address
                                                                )
                                                                dim: Scalar_String(
                                                                    value: id_address
                                                                )
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                        )
                                    )
                                    1: Expr_Assign(
                                        var: Expr_Variable(
                                            name: tmpAddress
                                        )
                                        expr: Expr_New(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Address
                                                )
                                            )
                                            args: array(
                                                0: Arg(
                                                    value: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: address
                                                        )
                                                        dim: Scalar_String(
                                                            value: id_address
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                    2: Expr_Assign(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: formatedAddressFieldsValuesList
                                                )
                                                dim: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: address
                                                    )
                                                    dim: Scalar_String(
                                                        value: id_address
                                                    )
                                                )
                                            )
                                            dim: Scalar_String(
                                                value: ordered_fields
                                            )
                                        )
                                        expr: Expr_StaticCall(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: AddressFormat
                                                )
                                            )
                                            name: getOrderedAddressFields
                                            args: array(
                                                0: Arg(
                                                    value: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: address
                                                        )
                                                        dim: Scalar_String(
                                                            value: id_country
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                    3: Expr_Assign(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: formatedAddressFieldsValuesList
                                                )
                                                dim: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: address
                                                    )
                                                    dim: Scalar_String(
                                                        value: id_address
                                                    )
                                                )
                                            )
                                            dim: Scalar_String(
                                                value: formated_fields_values
                                            )
                                        )
                                        expr: Expr_StaticCall(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: AddressFormat
                                                )
                                            )
                                            name: getFormattedAddressFieldsValues
                                            args: array(
                                                0: Arg(
                                                    value: Expr_Variable(
                                                        name: tmpAddress
                                                    )
                                                    byRef: false
                                                )
                                                1: Arg(
                                                    value: Expr_ArrayDimFetch(
                                                        var: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: formatedAddressFieldsValuesList
                                                            )
                                                            dim: Expr_ArrayDimFetch(
                                                                var: Expr_Variable(
                                                                    name: address
                                                                )
                                                                dim: Scalar_String(
                                                                    value: id_address
                                                                )
                                                            )
                                                        )
                                                        dim: Scalar_String(
                                                            value: ordered_fields
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                    4: Stmt_Unset(
                                        vars: array(
                                            0: Expr_Variable(
                                                name: tmpAddress
                                            )
                                        )
                                    )
                                )
                                expr: Expr_Variable(
                                    name: customerAddresses
                                )
                                valueVar: Expr_Variable(
                                    name: address
                                )
                            )
                            3: Stmt_If(
                                stmts: array(
                                    0: Expr_Assign(
                                        var: Expr_Variable(
                                            name: customerAddresses
                                        )
                                        expr: Expr_FuncCall(
                                            name: Name(
                                                parts: array(
                                                    0: array_values
                                                )
                                            )
                                            args: array(
                                                0: Arg(
                                                    value: Expr_Variable(
                                                        name: customerAddresses
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: null
                                cond: Expr_NotEqual(
                                    left: Expr_FuncCall(
                                        name: Name(
                                            parts: array(
                                                0: key
                                            )
                                        )
                                        args: array(
                                            0: Arg(
                                                value: Expr_Variable(
                                                    name: customerAddresses
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                    right: Scalar_LNumber(
                                        value: 0
                                    )
                                )
                            )
                            4: Expr_MethodCall(
                                var: Expr_PropertyFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: context
                                    )
                                    name: smarty
                                )
                                name: assign
                                args: array(
                                    0: Arg(
                                        value: Expr_Array(
                                            items: array(
                                                0: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: addresses
                                                    )
                                                    value: Expr_Variable(
                                                        name: customerAddresses
                                                    )
                                                    byRef: false
                                                )
                                                1: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: formatedAddressFieldsValuesList
                                                    )
                                                    value: Expr_Variable(
                                                        name: formatedAddressFieldsValuesList
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                        byRef: false
                                    )
                                )
                            )
                            5: Stmt_If(
                                stmts: array(
                                    0: Expr_Assign(
                                        var: Expr_PropertyFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: context
                                                )
                                                name: cart
                                            )
                                            name: id_address_delivery
                                        )
                                        expr: Expr_Cast_Int(
                                            expr: Expr_ArrayDimFetch(
                                                var: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: customerAddresses
                                                    )
                                                    dim: Scalar_LNumber(
                                                        value: 0
                                                    )
                                                )
                                                dim: Scalar_String(
                                                    value: id_address
                                                )
                                            )
                                        )
                                    )
                                    1: Expr_Assign(
                                        var: Expr_Variable(
                                            name: update
                                        )
                                        expr: Scalar_LNumber(
                                            value: 1
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: null
                                cond: Expr_BooleanAnd(
                                    left: Expr_BooleanOr(
                                        left: Expr_BooleanNot(
                                            expr: Expr_Isset(
                                                vars: array(
                                                    0: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: context
                                                            )
                                                            name: cart
                                                        )
                                                        name: id_address_delivery
                                                    )
                                                )
                                            )
                                        )
                                        right: Expr_Empty(
                                            expr: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: cart
                                                )
                                                name: id_address_delivery
                                            )
                                        )
                                    )
                                    right: Expr_FuncCall(
                                        name: Name(
                                            parts: array(
                                                0: count
                                            )
                                        )
                                        args: array(
                                            0: Arg(
                                                value: Expr_Variable(
                                                    name: customerAddresses
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                )
                            )
                            6: Stmt_If(
                                stmts: array(
                                    0: Expr_Assign(
                                        var: Expr_PropertyFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: context
                                                )
                                                name: cart
                                            )
                                            name: id_address_invoice
                                        )
                                        expr: Expr_Cast_Int(
                                            expr: Expr_ArrayDimFetch(
                                                var: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: customerAddresses
                                                    )
                                                    dim: Scalar_LNumber(
                                                        value: 0
                                                    )
                                                )
                                                dim: Scalar_String(
                                                    value: id_address
                                                )
                                            )
                                        )
                                    )
                                    1: Expr_Assign(
                                        var: Expr_Variable(
                                            name: update
                                        )
                                        expr: Scalar_LNumber(
                                            value: 1
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: null
                                cond: Expr_BooleanAnd(
                                    left: Expr_BooleanOr(
                                        left: Expr_BooleanNot(
                                            expr: Expr_Isset(
                                                vars: array(
                                                    0: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: context
                                                            )
                                                            name: cart
                                                        )
                                                        name: id_address_invoice
                                                    )
                                                )
                                            )
                                        )
                                        right: Expr_Empty(
                                            expr: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: cart
                                                )
                                                name: id_address_invoice
                                            )
                                        )
                                    )
                                    right: Expr_FuncCall(
                                        name: Name(
                                            parts: array(
                                                0: count
                                            )
                                        )
                                        args: array(
                                            0: Arg(
                                                value: Expr_Variable(
                                                    name: customerAddresses
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                )
                            )
                            7: Stmt_If(
                                stmts: array(
                                    0: Expr_MethodCall(
                                        var: Expr_PropertyFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_Variable(
                                                    name: this
                                                )
                                                name: context
                                            )
                                            name: cart
                                        )
                                        name: update
                                        args: array(
                                        )
                                    )
                                    1: Expr_StaticCall(
                                        class: Name_FullyQualified(
                                            parts: array(
                                                0: CartRule
                                            )
                                        )
                                        name: autoRemoveFromCart
                                        args: array(
                                            0: Arg(
                                                value: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: context
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                    2: Expr_StaticCall(
                                        class: Name_FullyQualified(
                                            parts: array(
                                                0: CartRule
                                            )
                                        )
                                        name: autoAddToCart
                                        args: array(
                                            0: Arg(
                                                value: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: context
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: null
                                cond: Expr_BooleanAnd(
                                    left: Expr_Isset(
                                        vars: array(
                                            0: Expr_Variable(
                                                name: update
                                            )
                                        )
                                    )
                                    right: Expr_Variable(
                                        name: update
                                    )
                                )
                            )
                            8: Stmt_If(
                                stmts: array(
                                    0: Expr_Assign(
                                        var: Expr_Variable(
                                            name: deliveryAddress
                                        )
                                        expr: Expr_New(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Address
                                                )
                                            )
                                            args: array(
                                                0: Arg(
                                                    value: Expr_Cast_Int(
                                                        expr: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_PropertyFetch(
                                                                    var: Expr_Variable(
                                                                        name: this
                                                                    )
                                                                    name: context
                                                                )
                                                                name: cart
                                                            )
                                                            name: id_address_delivery
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                    1: Stmt_If(
                                        stmts: array(
                                            0: Expr_MethodCall(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: smarty
                                                )
                                                name: assign
                                                args: array(
                                                    0: Arg(
                                                        value: Scalar_String(
                                                            value: delivery
                                                        )
                                                        byRef: false
                                                    )
                                                    1: Arg(
                                                        value: Expr_Variable(
                                                            name: deliveryAddress
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                        )
                                        elseifs: array(
                                        )
                                        else: null
                                        cond: Expr_BooleanAnd(
                                            left: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Validate
                                                    )
                                                )
                                                name: isLoadedObject
                                                args: array(
                                                    0: Arg(
                                                        value: Expr_Variable(
                                                            name: deliveryAddress
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            right: Expr_Equal(
                                                left: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: deliveryAddress
                                                    )
                                                    name: id_customer
                                                )
                                                right: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: customer
                                                    )
                                                    name: id
                                                )
                                            )
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: null
                                cond: Expr_Isset(
                                    vars: array(
                                        0: Expr_PropertyFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: context
                                                )
                                                name: cart
                                            )
                                            name: id_address_delivery
                                        )
                                    )
                                )
                            )
                            9: Stmt_If(
                                stmts: array(
                                    0: Expr_Assign(
                                        var: Expr_Variable(
                                            name: invoiceAddress
                                        )
                                        expr: Expr_New(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Address
                                                )
                                            )
                                            args: array(
                                                0: Arg(
                                                    value: Expr_Cast_Int(
                                                        expr: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_PropertyFetch(
                                                                    var: Expr_Variable(
                                                                        name: this
                                                                    )
                                                                    name: context
                                                                )
                                                                name: cart
                                                            )
                                                            name: id_address_invoice
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                    1: Stmt_If(
                                        stmts: array(
                                            0: Expr_MethodCall(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: smarty
                                                )
                                                name: assign
                                                args: array(
                                                    0: Arg(
                                                        value: Scalar_String(
                                                            value: invoice
                                                        )
                                                        byRef: false
                                                    )
                                                    1: Arg(
                                                        value: Expr_Variable(
                                                            name: invoiceAddress
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                        )
                                        elseifs: array(
                                        )
                                        else: null
                                        cond: Expr_BooleanAnd(
                                            left: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Validate
                                                    )
                                                )
                                                name: isLoadedObject
                                                args: array(
                                                    0: Arg(
                                                        value: Expr_Variable(
                                                            name: invoiceAddress
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            right: Expr_Equal(
                                                left: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: invoiceAddress
                                                    )
                                                    name: id_customer
                                                )
                                                right: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: customer
                                                    )
                                                    name: id
                                                )
                                            )
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: null
                                cond: Expr_Isset(
                                    vars: array(
                                        0: Expr_PropertyFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: context
                                                )
                                                name: cart
                                            )
                                            name: id_address_invoice
                                        )
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_StaticCall(
                            class: Name_FullyQualified(
                                parts: array(
                                    0: Validate
                                )
                            )
                            name: isLoadedObject
                            args: array(
                                0: Arg(
                                    value: Expr_Variable(
                                        name: customer
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    3: Stmt_If(
                        stmts: array(
                            0: Expr_MethodCall(
                                var: Expr_PropertyFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: context
                                    )
                                    name: smarty
                                )
                                name: assign
                                args: array(
                                    0: Arg(
                                        value: Scalar_String(
                                            value: oldMessage
                                        )
                                        byRef: false
                                    )
                                    1: Arg(
                                        value: Expr_ArrayDimFetch(
                                            var: Expr_Variable(
                                                name: oldMessage
                                            )
                                            dim: Scalar_String(
                                                value: message
                                            )
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_Assign(
                            var: Expr_Variable(
                                name: oldMessage
                            )
                            expr: Expr_StaticCall(
                                class: Name_FullyQualified(
                                    parts: array(
                                        0: Message
                                    )
                                )
                                name: getMessageByCartId
                                args: array(
                                    0: Arg(
                                        value: Expr_Cast_Int(
                                            expr: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: cart
                                                )
                                                name: id
                                            )
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                    )
                )
                name: _assignAddress
            )
            11: Stmt_ClassMethod(
                type: 2
                byRef: false
                params: array(
                )
                stmts: array(
                    0: Expr_Assign(
                        var: Expr_Variable(
                            name: address
                        )
                        expr: Expr_New(
                            class: Name_FullyQualified(
                                parts: array(
                                    0: Address
                                )
                            )
                            args: array(
                                0: Arg(
                                    value: Expr_PropertyFetch(
                                        var: Expr_PropertyFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_Variable(
                                                    name: this
                                                )
                                                name: context
                                            )
                                            name: cart
                                        )
                                        name: id_address_delivery
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    1: Expr_Assign(
                        var: Expr_Variable(
                            name: id_zone
                        )
                        expr: Expr_StaticCall(
                            class: Name_FullyQualified(
                                parts: array(
                                    0: Address
                                )
                            )
                            name: getZoneById
                            args: array(
                                0: Arg(
                                    value: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: address
                                        )
                                        name: id
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    2: Stmt_If(
                        stmts: array(
                            0: Expr_StaticCall(
                                class: Name_FullyQualified(
                                    parts: array(
                                        0: Tools
                                    )
                                )
                                name: redirect
                                args: array(
                                    0: Arg(
                                        value: Scalar_String(
                                            value: index.php?controller=order&step=1
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_BooleanOr(
                            left: Expr_BooleanNot(
                                expr: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Address
                                        )
                                    )
                                    name: isCountryActiveById
                                    args: array(
                                        0: Arg(
                                            value: Expr_Cast_Int(
                                                expr: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: context
                                                        )
                                                        name: cart
                                                    )
                                                    name: id_address_delivery
                                                )
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                            )
                            right: Expr_BooleanNot(
                                expr: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Address
                                        )
                                    )
                                    name: isCountryActiveById
                                    args: array(
                                        0: Arg(
                                            value: Expr_Cast_Int(
                                                expr: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: context
                                                        )
                                                        name: cart
                                                    )
                                                    name: id_address_invoice
                                                )
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                            )
                        )
                    )
                    3: Expr_Assign(
                        var: Expr_Variable(
                            name: carriers
                        )
                        expr: Expr_MethodCall(
                            var: Expr_PropertyFetch(
                                var: Expr_PropertyFetch(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: context
                                )
                                name: cart
                            )
                            name: simulateCarriersOutput
                            args: array(
                            )
                        )
                    )
                    4: Expr_Assign(
                        var: Expr_Variable(
                            name: checked
                        )
                        expr: Expr_MethodCall(
                            var: Expr_PropertyFetch(
                                var: Expr_PropertyFetch(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: context
                                )
                                name: cart
                            )
                            name: simulateCarrierSelectedOutput
                            args: array(
                            )
                        )
                    )
                    5: Expr_Assign(
                        var: Expr_Variable(
                            name: delivery_option_list
                        )
                        expr: Expr_MethodCall(
                            var: Expr_PropertyFetch(
                                var: Expr_PropertyFetch(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: context
                                )
                                name: cart
                            )
                            name: getDeliveryOptionList
                            args: array(
                            )
                        )
                    )
                    6: Expr_MethodCall(
                        var: Expr_Variable(
                            name: this
                        )
                        name: setDefaultCarrierSelection
                        args: array(
                            0: Arg(
                                value: Expr_Variable(
                                    name: delivery_option_list
                                )
                                byRef: false
                            )
                        )
                    )
                    7: Expr_MethodCall(
                        var: Expr_PropertyFetch(
                            var: Expr_PropertyFetch(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: context
                            )
                            name: smarty
                        )
                        name: assign
                        args: array(
                            0: Arg(
                                value: Expr_Array(
                                    items: array(
                                        0: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: address_collection
                                            )
                                            value: Expr_MethodCall(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: cart
                                                )
                                                name: getAddressCollection
                                                args: array(
                                                )
                                            )
                                            byRef: false
                                        )
                                        1: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: delivery_option_list
                                            )
                                            value: Expr_Variable(
                                                name: delivery_option_list
                                            )
                                            byRef: false
                                        )
                                        2: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: carriers
                                            )
                                            value: Expr_Variable(
                                                name: carriers
                                            )
                                            byRef: false
                                        )
                                        3: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: checked
                                            )
                                            value: Expr_Variable(
                                                name: checked
                                            )
                                            byRef: false
                                        )
                                        4: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: delivery_option
                                            )
                                            value: Expr_MethodCall(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: cart
                                                )
                                                name: getDeliveryOption
                                                args: array(
                                                    0: Arg(
                                                        value: Expr_ConstFetch(
                                                            name: Name(
                                                                parts: array(
                                                                    0: null
                                                                )
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                    1: Arg(
                                                        value: Expr_ConstFetch(
                                                            name: Name(
                                                                parts: array(
                                                                    0: false
                                                                )
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                                byRef: false
                            )
                        )
                    )
                    8: Expr_Assign(
                        var: Expr_Variable(
                            name: vars
                        )
                        expr: Expr_Array(
                            items: array(
                                0: Expr_ArrayItem(
                                    key: Scalar_String(
                                        value: HOOK_BEFORECARRIER
                                    )
                                    value: Expr_StaticCall(
                                        class: Name_FullyQualified(
                                            parts: array(
                                                0: Hook
                                            )
                                        )
                                        name: exec
                                        args: array(
                                            0: Arg(
                                                value: Scalar_String(
                                                    value: displayBeforeCarrier
                                                )
                                                byRef: false
                                            )
                                            1: Arg(
                                                value: Expr_Array(
                                                    items: array(
                                                        0: Expr_ArrayItem(
                                                            key: Scalar_String(
                                                                value: carriers
                                                            )
                                                            value: Expr_Variable(
                                                                name: carriers
                                                            )
                                                            byRef: false
                                                        )
                                                        1: Expr_ArrayItem(
                                                            key: Scalar_String(
                                                                value: checked
                                                            )
                                                            value: Expr_Variable(
                                                                name: checked
                                                            )
                                                            byRef: false
                                                        )
                                                        2: Expr_ArrayItem(
                                                            key: Scalar_String(
                                                                value: delivery_option_list
                                                            )
                                                            value: Expr_Variable(
                                                                name: delivery_option_list
                                                            )
                                                            byRef: false
                                                        )
                                                        3: Expr_ArrayItem(
                                                            key: Scalar_String(
                                                                value: delivery_option
                                                            )
                                                            value: Expr_MethodCall(
                                                                var: Expr_PropertyFetch(
                                                                    var: Expr_PropertyFetch(
                                                                        var: Expr_Variable(
                                                                            name: this
                                                                        )
                                                                        name: context
                                                                    )
                                                                    name: cart
                                                                )
                                                                name: getDeliveryOption
                                                                args: array(
                                                                    0: Arg(
                                                                        value: Expr_ConstFetch(
                                                                            name: Name(
                                                                                parts: array(
                                                                                    0: null
                                                                                )
                                                                            )
                                                                        )
                                                                        byRef: false
                                                                    )
                                                                    1: Arg(
                                                                        value: Expr_ConstFetch(
                                                                            name: Name(
                                                                                parts: array(
                                                                                    0: false
                                                                                )
                                                                            )
                                                                        )
                                                                        byRef: false
                                                                    )
                                                                )
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    9: Expr_StaticCall(
                        class: Name_FullyQualified(
                            parts: array(
                                0: Cart
                            )
                        )
                        name: addExtraCarriers
                        args: array(
                            0: Arg(
                                value: Expr_Variable(
                                    name: vars
                                )
                                byRef: false
                            )
                        )
                    )
                    10: Expr_MethodCall(
                        var: Expr_PropertyFetch(
                            var: Expr_PropertyFetch(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: context
                            )
                            name: smarty
                        )
                        name: assign
                        args: array(
                            0: Arg(
                                value: Expr_Variable(
                                    name: vars
                                )
                                byRef: false
                            )
                        )
                    )
                )
                name: _assignCarrier
            )
            12: Stmt_ClassMethod(
                type: 2
                byRef: false
                params: array(
                )
                stmts: array(
                    0: Expr_Assign(
                        var: Expr_Variable(
                            name: wrapping_fees
                        )
                        expr: Expr_MethodCall(
                            var: Expr_PropertyFetch(
                                var: Expr_PropertyFetch(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: context
                                )
                                name: cart
                            )
                            name: getGiftWrappingPrice
                            args: array(
                                0: Arg(
                                    value: Expr_ConstFetch(
                                        name: Name(
                                            parts: array(
                                                0: false
                                            )
                                        )
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    1: Expr_Assign(
                        var: Expr_Variable(
                            name: wrapping_fees_tax_inc
                        )
                        expr: Expr_Assign(
                            var: Expr_Variable(
                                name: wrapping_fees
                            )
                            expr: Expr_MethodCall(
                                var: Expr_PropertyFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: context
                                    )
                                    name: cart
                                )
                                name: getGiftWrappingPrice
                                args: array(
                                )
                            )
                        )
                    )
                    2: Expr_Assign(
                        var: Expr_Variable(
                            name: cms
                        )
                        expr: Expr_New(
                            class: Name_FullyQualified(
                                parts: array(
                                    0: CMS
                                )
                            )
                            args: array(
                                0: Arg(
                                    value: Expr_StaticCall(
                                        class: Name_FullyQualified(
                                            parts: array(
                                                0: Configuration
                                            )
                                        )
                                        name: get
                                        args: array(
                                            0: Arg(
                                                value: Scalar_String(
                                                    value: PS_CONDITIONS_CMS_ID
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                    byRef: false
                                )
                                1: Arg(
                                    value: Expr_PropertyFetch(
                                        var: Expr_PropertyFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_Variable(
                                                    name: this
                                                )
                                                name: context
                                            )
                                            name: language
                                        )
                                        name: id
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    3: Expr_Assign(
                        var: Expr_PropertyFetch(
                            var: Expr_Variable(
                                name: this
                            )
                            name: link_conditions
                        )
                        expr: Expr_MethodCall(
                            var: Expr_PropertyFetch(
                                var: Expr_PropertyFetch(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: context
                                )
                                name: link
                            )
                            name: getCMSLink
                            args: array(
                                0: Arg(
                                    value: Expr_Variable(
                                        name: cms
                                    )
                                    byRef: false
                                )
                                1: Arg(
                                    value: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: cms
                                        )
                                        name: link_rewrite
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    4: Stmt_If(
                        stmts: array(
                            0: Expr_AssignConcat(
                                var: Expr_PropertyFetch(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: link_conditions
                                )
                                expr: Scalar_String(
                                    value: ?content_only=1
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: Stmt_Else(
                            stmts: array(
                                0: Expr_AssignConcat(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: link_conditions
                                    )
                                    expr: Scalar_String(
                                        value: &content_only=1
                                    )
                                )
                            )
                        )
                        cond: Expr_BooleanNot(
                            expr: Expr_FuncCall(
                                name: Name(
                                    parts: array(
                                        0: strpos
                                    )
                                )
                                args: array(
                                    0: Arg(
                                        value: Expr_PropertyFetch(
                                            var: Expr_Variable(
                                                name: this
                                            )
                                            name: link_conditions
                                        )
                                        byRef: false
                                    )
                                    1: Arg(
                                        value: Scalar_String(
                                            value: ?
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                    )
                    5: Expr_Assign(
                        var: Expr_Variable(
                            name: free_shipping
                        )
                        expr: Expr_ConstFetch(
                            name: Name(
                                parts: array(
                                    0: false
                                )
                            )
                        )
                    )
                    6: Stmt_Foreach(
                        keyVar: null
                        byRef: false
                        stmts: array(
                            0: Stmt_If(
                                stmts: array(
                                    0: Expr_Assign(
                                        var: Expr_Variable(
                                            name: free_shipping
                                        )
                                        expr: Expr_ConstFetch(
                                            name: Name(
                                                parts: array(
                                                    0: true
                                                )
                                            )
                                        )
                                    )
                                    1: Stmt_Break(
                                        num: null
                                    )
                                )
                                elseifs: array(
                                )
                                else: null
                                cond: Expr_BooleanAnd(
                                    left: Expr_ArrayDimFetch(
                                        var: Expr_Variable(
                                            name: rule
                                        )
                                        dim: Scalar_String(
                                            value: free_shipping
                                        )
                                    )
                                    right: Expr_BooleanNot(
                                        expr: Expr_ArrayDimFetch(
                                            var: Expr_Variable(
                                                name: rule
                                            )
                                            dim: Scalar_String(
                                                value: carrier_restriction
                                            )
                                        )
                                    )
                                )
                            )
                        )
                        expr: Expr_MethodCall(
                            var: Expr_PropertyFetch(
                                var: Expr_PropertyFetch(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: context
                                )
                                name: cart
                            )
                            name: getCartRules
                            args: array(
                            )
                        )
                        valueVar: Expr_Variable(
                            name: rule
                        )
                    )
                    7: Expr_MethodCall(
                        var: Expr_PropertyFetch(
                            var: Expr_PropertyFetch(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: context
                            )
                            name: smarty
                        )
                        name: assign
                        args: array(
                            0: Arg(
                                value: Expr_Array(
                                    items: array(
                                        0: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: free_shipping
                                            )
                                            value: Expr_Variable(
                                                name: free_shipping
                                            )
                                            byRef: false
                                        )
                                        1: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: checkedTOS
                                            )
                                            value: Expr_Cast_Int(
                                                expr: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: context
                                                        )
                                                        name: cookie
                                                    )
                                                    name: checkedTOS
                                                )
                                            )
                                            byRef: false
                                        )
                                        2: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: recyclablePackAllowed
                                            )
                                            value: Expr_Cast_Int(
                                                expr: Expr_StaticCall(
                                                    class: Name_FullyQualified(
                                                        parts: array(
                                                            0: Configuration
                                                        )
                                                    )
                                                    name: get
                                                    args: array(
                                                        0: Arg(
                                                            value: Scalar_String(
                                                                value: PS_RECYCLABLE_PACK
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        3: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: giftAllowed
                                            )
                                            value: Expr_Cast_Int(
                                                expr: Expr_StaticCall(
                                                    class: Name_FullyQualified(
                                                        parts: array(
                                                            0: Configuration
                                                        )
                                                    )
                                                    name: get
                                                    args: array(
                                                        0: Arg(
                                                            value: Scalar_String(
                                                                value: PS_GIFT_WRAPPING
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        4: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: cms_id
                                            )
                                            value: Expr_Cast_Int(
                                                expr: Expr_StaticCall(
                                                    class: Name_FullyQualified(
                                                        parts: array(
                                                            0: Configuration
                                                        )
                                                    )
                                                    name: get
                                                    args: array(
                                                        0: Arg(
                                                            value: Scalar_String(
                                                                value: PS_CONDITIONS_CMS_ID
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        5: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: conditions
                                            )
                                            value: Expr_Cast_Int(
                                                expr: Expr_StaticCall(
                                                    class: Name_FullyQualified(
                                                        parts: array(
                                                            0: Configuration
                                                        )
                                                    )
                                                    name: get
                                                    args: array(
                                                        0: Arg(
                                                            value: Scalar_String(
                                                                value: PS_CONDITIONS
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        6: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: link_conditions
                                            )
                                            value: Expr_PropertyFetch(
                                                var: Expr_Variable(
                                                    name: this
                                                )
                                                name: link_conditions
                                            )
                                            byRef: false
                                        )
                                        7: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: recyclable
                                            )
                                            value: Expr_Cast_Int(
                                                expr: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: context
                                                        )
                                                        name: cart
                                                    )
                                                    name: recyclable
                                                )
                                            )
                                            byRef: false
                                        )
                                        8: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: delivery_option_list
                                            )
                                            value: Expr_MethodCall(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: cart
                                                )
                                                name: getDeliveryOptionList
                                                args: array(
                                                )
                                            )
                                            byRef: false
                                        )
                                        9: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: carriers
                                            )
                                            value: Expr_MethodCall(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: cart
                                                )
                                                name: simulateCarriersOutput
                                                args: array(
                                                )
                                            )
                                            byRef: false
                                        )
                                        10: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: checked
                                            )
                                            value: Expr_MethodCall(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: cart
                                                )
                                                name: simulateCarrierSelectedOutput
                                                args: array(
                                                )
                                            )
                                            byRef: false
                                        )
                                        11: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: address_collection
                                            )
                                            value: Expr_MethodCall(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: cart
                                                )
                                                name: getAddressCollection
                                                args: array(
                                                )
                                            )
                                            byRef: false
                                        )
                                        12: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: delivery_option
                                            )
                                            value: Expr_MethodCall(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: cart
                                                )
                                                name: getDeliveryOption
                                                args: array(
                                                    0: Arg(
                                                        value: Expr_ConstFetch(
                                                            name: Name(
                                                                parts: array(
                                                                    0: null
                                                                )
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                    1: Arg(
                                                        value: Expr_ConstFetch(
                                                            name: Name(
                                                                parts: array(
                                                                    0: false
                                                                )
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        13: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: gift_wrapping_price
                                            )
                                            value: Expr_Cast_Double(
                                                expr: Expr_Variable(
                                                    name: wrapping_fees
                                                )
                                            )
                                            byRef: false
                                        )
                                        14: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: total_wrapping_cost
                                            )
                                            value: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Tools
                                                    )
                                                )
                                                name: convertPrice
                                                args: array(
                                                    0: Arg(
                                                        value: Expr_Variable(
                                                            name: wrapping_fees_tax_inc
                                                        )
                                                        byRef: false
                                                    )
                                                    1: Arg(
                                                        value: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: context
                                                            )
                                                            name: currency
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        15: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: total_wrapping_tax_exc_cost
                                            )
                                            value: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Tools
                                                    )
                                                )
                                                name: convertPrice
                                                args: array(
                                                    0: Arg(
                                                        value: Expr_Variable(
                                                            name: wrapping_fees
                                                        )
                                                        byRef: false
                                                    )
                                                    1: Arg(
                                                        value: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: context
                                                            )
                                                            name: currency
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                                byRef: false
                            )
                        )
                    )
                )
                name: _assignWrappingAndTOS
            )
            13: Stmt_ClassMethod(
                type: 2
                byRef: false
                params: array(
                )
                stmts: array(
                    0: Expr_MethodCall(
                        var: Expr_PropertyFetch(
                            var: Expr_PropertyFetch(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: context
                            )
                            name: smarty
                        )
                        name: assign
                        args: array(
                            0: Arg(
                                value: Expr_Array(
                                    items: array(
                                        0: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: HOOK_TOP_PAYMENT
                                            )
                                            value: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Hook
                                                    )
                                                )
                                                name: exec
                                                args: array(
                                                    0: Arg(
                                                        value: Scalar_String(
                                                            value: displayPaymentTop
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        1: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: HOOK_PAYMENT
                                            )
                                            value: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Hook
                                                    )
                                                )
                                                name: exec
                                                args: array(
                                                    0: Arg(
                                                        value: Scalar_String(
                                                            value: displayPayment
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                                byRef: false
                            )
                        )
                    )
                )
                name: _assignPayment
            )
            14: Stmt_ClassMethod(
                type: 2
                byRef: false
                params: array(
                )
                stmts: array(
                    0: Expr_MethodCall(
                        var: Expr_PropertyFetch(
                            var: Expr_PropertyFetch(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: context
                            )
                            name: cart
                        )
                        name: setDeliveryOption
                        args: array(
                            0: Arg(
                                value: Expr_ConstFetch(
                                    name: Name(
                                        parts: array(
                                            0: null
                                        )
                                    )
                                )
                                byRef: false
                            )
                        )
                    )
                    1: Expr_MethodCall(
                        var: Expr_PropertyFetch(
                            var: Expr_PropertyFetch(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: context
                            )
                            name: cart
                        )
                        name: update
                        args: array(
                        )
                    )
                )
                name: setNoCarrier
            )
            15: Stmt_ClassMethod(
                type: 2
                byRef: false
                params: array(
                    0: Param(
                        name: carriers
                        default: null
                        type: null
                        byRef: false
                    )
                )
                stmts: array(
                    0: Stmt_If(
                        stmts: array(
                            0: Expr_MethodCall(
                                var: Expr_PropertyFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: context
                                    )
                                    name: cart
                                )
                                name: setDeliveryOption
                                args: array(
                                    0: Arg(
                                        value: Expr_MethodCall(
                                            var: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: context
                                                )
                                                name: cart
                                            )
                                            name: getDeliveryOption
                                            args: array(
                                            )
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_BooleanNot(
                            expr: Expr_MethodCall(
                                var: Expr_PropertyFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: context
                                    )
                                    name: cart
                                )
                                name: getDeliveryOption
                                args: array(
                                    0: Arg(
                                        value: Expr_ConstFetch(
                                            name: Name(
                                                parts: array(
                                                    0: null
                                                )
                                            )
                                        )
                                        byRef: false
                                    )
                                    1: Arg(
                                        value: Expr_ConstFetch(
                                            name: Name(
                                                parts: array(
                                                    0: true
                                                )
                                            )
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                    )
                )
                name: setDefaultCarrierSelection
            )
            16: Stmt_ClassMethod(
                type: 2
                byRef: false
                params: array(
                    0: Param(
                        name: carriers
                        default: null
                        type: null
                        byRef: false
                    )
                )
                stmts: array(
                    0: Expr_Assign(
                        var: Expr_PropertyFetch(
                            var: Expr_PropertyFetch(
                                var: Expr_PropertyFetch(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: context
                                )
                                name: cart
                            )
                            name: id_carrier
                        )
                        expr: Expr_StaticCall(
                            class: Name_FullyQualified(
                                parts: array(
                                    0: Carrier
                                )
                            )
                            name: getDefaultCarrierSelection
                            args: array(
                                0: Arg(
                                    value: Expr_Variable(
                                        name: carriers
                                    )
                                    byRef: false
                                )
                                1: Arg(
                                    value: Expr_Cast_Int(
                                        expr: Expr_PropertyFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: context
                                                )
                                                name: cart
                                            )
                                            name: id_carrier
                                        )
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    1: Stmt_If(
                        stmts: array(
                            0: Stmt_Return(
                                expr: Expr_PropertyFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_PropertyFetch(
                                            var: Expr_Variable(
                                                name: this
                                            )
                                            name: context
                                        )
                                        name: cart
                                    )
                                    name: id_carrier
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_MethodCall(
                            var: Expr_PropertyFetch(
                                var: Expr_PropertyFetch(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: context
                                )
                                name: cart
                            )
                            name: update
                            args: array(
                            )
                        )
                    )
                    2: Stmt_Return(
                        expr: Scalar_LNumber(
                            value: 0
                        )
                    )
                )
                name: _setDefaultCarrierSelection
            )
        )
        name: ParentOrderControllerCore
        namespacedName: Name(
            parts: array(
                0: ParentOrderControllerCore
            )
        )
    )
)