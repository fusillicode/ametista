array(
    0: Stmt_Class(
        type: 0
        extends: Name_FullyQualified(
            parts: array(
                0: FrontController
            )
        )
        implements: array(
        )
        stmts: array(
            0: Stmt_Property(
                type: 1
                props: array(
                    0: Stmt_PropertyProperty(
                        name: php_self
                        default: Scalar_String(
                            value: product
                        )
                    )
                )
            )
            1: Stmt_Property(
                type: 2
                props: array(
                    0: Stmt_PropertyProperty(
                        name: product
                        default: null
                    )
                )
            )
            2: Stmt_Property(
                type: 2
                props: array(
                    0: Stmt_PropertyProperty(
                        name: category
                        default: null
                    )
                )
            )
            3: Stmt_ClassMethod(
                type: 1
                byRef: false
                params: array(
                )
                stmts: array(
                    0: Expr_StaticCall(
                        class: Name(
                            parts: array(
                                0: parent
                            )
                        )
                        name: setMedia
                        args: array(
                        )
                    )
                    1: Stmt_If(
                        stmts: array(
                            0: Stmt_Return(
                                expr: null
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_FuncCall(
                            name: Name(
                                parts: array(
                                    0: count
                                )
                            )
                            args: array(
                                0: Arg(
                                    value: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: errors
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    2: Stmt_If(
                        stmts: array(
                            0: Expr_MethodCall(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: addCSS
                                args: array(
                                    0: Arg(
                                        value: Expr_Concat(
                                            left: Expr_ConstFetch(
                                                name: Name(
                                                    parts: array(
                                                        0: _THEME_CSS_DIR_
                                                    )
                                                )
                                            )
                                            right: Scalar_String(
                                                value: product.css
                                            )
                                        )
                                        byRef: false
                                    )
                                )
                            )
                            1: Expr_MethodCall(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: addCSS
                                args: array(
                                    0: Arg(
                                        value: Expr_Concat(
                                            left: Expr_ConstFetch(
                                                name: Name(
                                                    parts: array(
                                                        0: _PS_CSS_DIR_
                                                    )
                                                )
                                            )
                                            right: Scalar_String(
                                                value: jquery.fancybox-1.3.4.css
                                            )
                                        )
                                        byRef: false
                                    )
                                    1: Arg(
                                        value: Scalar_String(
                                            value: screen
                                        )
                                        byRef: false
                                    )
                                )
                            )
                            2: Expr_MethodCall(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: addJqueryPlugin
                                args: array(
                                    0: Arg(
                                        value: Expr_Array(
                                            items: array(
                                                0: Expr_ArrayItem(
                                                    key: null
                                                    value: Scalar_String(
                                                        value: fancybox
                                                    )
                                                    byRef: false
                                                )
                                                1: Expr_ArrayItem(
                                                    key: null
                                                    value: Scalar_String(
                                                        value: idTabs
                                                    )
                                                    byRef: false
                                                )
                                                2: Expr_ArrayItem(
                                                    key: null
                                                    value: Scalar_String(
                                                        value: scrollTo
                                                    )
                                                    byRef: false
                                                )
                                                3: Expr_ArrayItem(
                                                    key: null
                                                    value: Scalar_String(
                                                        value: serialScroll
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                        byRef: false
                                    )
                                )
                            )
                            3: Expr_MethodCall(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: addJS
                                args: array(
                                    0: Arg(
                                        value: Expr_Array(
                                            items: array(
                                                0: Expr_ArrayItem(
                                                    key: null
                                                    value: Expr_Concat(
                                                        left: Expr_ConstFetch(
                                                            name: Name(
                                                                parts: array(
                                                                    0: _THEME_JS_DIR_
                                                                )
                                                            )
                                                        )
                                                        right: Scalar_String(
                                                            value: tools.js
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                1: Expr_ArrayItem(
                                                    key: null
                                                    value: Expr_Concat(
                                                        left: Expr_ConstFetch(
                                                            name: Name(
                                                                parts: array(
                                                                    0: _THEME_JS_DIR_
                                                                )
                                                            )
                                                        )
                                                        right: Scalar_String(
                                                            value: product.js
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: Stmt_Else(
                            stmts: array(
                                0: Expr_MethodCall(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: addJqueryPlugin
                                    args: array(
                                        0: Arg(
                                            value: Expr_Array(
                                                items: array(
                                                    0: Expr_ArrayItem(
                                                        key: null
                                                        value: Scalar_String(
                                                            value: scrollTo
                                                        )
                                                        byRef: false
                                                    )
                                                    1: Expr_ArrayItem(
                                                        key: null
                                                        value: Scalar_String(
                                                            value: serialScroll
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                                1: Expr_MethodCall(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: addJS
                                    args: array(
                                        0: Arg(
                                            value: Expr_Array(
                                                items: array(
                                                    0: Expr_ArrayItem(
                                                        key: null
                                                        value: Expr_Concat(
                                                            left: Expr_ConstFetch(
                                                                name: Name(
                                                                    parts: array(
                                                                        0: _THEME_JS_DIR_
                                                                    )
                                                                )
                                                            )
                                                            right: Scalar_String(
                                                                value: tools.js
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                    1: Expr_ArrayItem(
                                                        key: null
                                                        value: Expr_Concat(
                                                            left: Expr_ConstFetch(
                                                                name: Name(
                                                                    parts: array(
                                                                        0: _THEME_MOBILE_JS_DIR_
                                                                    )
                                                                )
                                                            )
                                                            right: Scalar_String(
                                                                value: product.js
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                    2: Expr_ArrayItem(
                                                        key: null
                                                        value: Expr_Concat(
                                                            left: Expr_ConstFetch(
                                                                name: Name(
                                                                    parts: array(
                                                                        0: _THEME_MOBILE_JS_DIR_
                                                                    )
                                                                )
                                                            )
                                                            right: Scalar_String(
                                                                value: jquery.touch-gallery.js
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                            )
                        )
                        cond: Expr_Equal(
                            left: Expr_MethodCall(
                                var: Expr_PropertyFetch(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: context
                                )
                                name: getMobileDevice
                                args: array(
                                )
                            )
                            right: Expr_ConstFetch(
                                name: Name(
                                    parts: array(
                                        0: false
                                    )
                                )
                            )
                        )
                    )
                    3: Stmt_If(
                        stmts: array(
                            0: Expr_MethodCall(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: addJqueryPlugin
                                args: array(
                                    0: Arg(
                                        value: Scalar_String(
                                            value: jqzoom
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_Equal(
                            left: Expr_StaticCall(
                                class: Name_FullyQualified(
                                    parts: array(
                                        0: Configuration
                                    )
                                )
                                name: get
                                args: array(
                                    0: Arg(
                                        value: Scalar_String(
                                            value: PS_DISPLAY_JQZOOM
                                        )
                                        byRef: false
                                    )
                                )
                            )
                            right: Scalar_LNumber(
                                value: 1
                            )
                        )
                    )
                )
                name: setMedia
            )
            4: Stmt_ClassMethod(
                type: 1
                byRef: false
                params: array(
                    0: Param(
                        name: canonical_url
                        default: Scalar_String(
                            value: 
                        )
                        type: null
                        byRef: false
                    )
                )
                stmts: array(
                    0: Stmt_If(
                        stmts: array(
                            0: Stmt_Return(
                                expr: null
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_StaticCall(
                            class: Name_FullyQualified(
                                parts: array(
                                    0: Tools
                                )
                            )
                            name: getValue
                            args: array(
                                0: Arg(
                                    value: Scalar_String(
                                        value: live_edit
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    1: Stmt_If(
                        stmts: array(
                            0: Expr_StaticCall(
                                class: Name(
                                    parts: array(
                                        0: parent
                                    )
                                )
                                name: canonicalRedirection
                                args: array(
                                    0: Arg(
                                        value: Expr_MethodCall(
                                            var: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: context
                                                )
                                                name: link
                                            )
                                            name: getProductLink
                                            args: array(
                                                0: Arg(
                                                    value: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: product
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_StaticCall(
                            class: Name_FullyQualified(
                                parts: array(
                                    0: Validate
                                )
                            )
                            name: isLoadedObject
                            args: array(
                                0: Arg(
                                    value: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: product
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                )
                name: canonicalRedirection
            )
            5: Stmt_ClassMethod(
                type: 1
                byRef: false
                params: array(
                )
                stmts: array(
                    0: Expr_StaticCall(
                        class: Name(
                            parts: array(
                                0: parent
                            )
                        )
                        name: init
                        args: array(
                        )
                    )
                    1: Stmt_If(
                        stmts: array(
                            0: Expr_Assign(
                                var: Expr_PropertyFetch(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: product
                                )
                                expr: Expr_New(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Product
                                        )
                                    )
                                    args: array(
                                        0: Arg(
                                            value: Expr_Variable(
                                                name: id_product
                                            )
                                            byRef: false
                                        )
                                        1: Arg(
                                            value: Expr_ConstFetch(
                                                name: Name(
                                                    parts: array(
                                                        0: true
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        2: Arg(
                                            value: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: language
                                                )
                                                name: id
                                            )
                                            byRef: false
                                        )
                                        3: Arg(
                                            value: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: shop
                                                )
                                                name: id
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_Assign(
                            var: Expr_Variable(
                                name: id_product
                            )
                            expr: Expr_Cast_Int(
                                expr: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Tools
                                        )
                                    )
                                    name: getValue
                                    args: array(
                                        0: Arg(
                                            value: Scalar_String(
                                                value: id_product
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                            )
                        )
                    )
                    2: Stmt_If(
                        stmts: array(
                            0: Expr_FuncCall(
                                name: Name(
                                    parts: array(
                                        0: header
                                    )
                                )
                                args: array(
                                    0: Arg(
                                        value: Scalar_String(
                                            value: HTTP/1.1 404 Not Found
                                        )
                                        byRef: false
                                    )
                                )
                            )
                            1: Expr_FuncCall(
                                name: Name(
                                    parts: array(
                                        0: header
                                    )
                                )
                                args: array(
                                    0: Arg(
                                        value: Scalar_String(
                                            value: Status: 404 Not Found
                                        )
                                        byRef: false
                                    )
                                )
                            )
                            2: Expr_Assign(
                                var: Expr_ArrayDimFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: errors
                                    )
                                    dim: null
                                )
                                expr: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Tools
                                        )
                                    )
                                    name: displayError
                                    args: array(
                                        0: Arg(
                                            value: Scalar_String(
                                                value: Product not found
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: Stmt_Else(
                            stmts: array(
                                0: Expr_MethodCall(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: canonicalRedirection
                                    args: array(
                                    )
                                )
                                1: Stmt_If(
                                    stmts: array(
                                        0: Stmt_If(
                                            stmts: array(
                                                0: Expr_MethodCall(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: context
                                                        )
                                                        name: smarty
                                                    )
                                                    name: assign
                                                    args: array(
                                                        0: Arg(
                                                            value: Scalar_String(
                                                                value: adminActionDisplay
                                                            )
                                                            byRef: false
                                                        )
                                                        1: Arg(
                                                            value: Expr_ConstFetch(
                                                                name: Name(
                                                                    parts: array(
                                                                        0: true
                                                                    )
                                                                )
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                            )
                                            elseifs: array(
                                            )
                                            else: Stmt_Else(
                                                stmts: array(
                                                    0: Expr_MethodCall(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: context
                                                            )
                                                            name: smarty
                                                        )
                                                        name: assign
                                                        args: array(
                                                            0: Arg(
                                                                value: Scalar_String(
                                                                    value: adminActionDisplay
                                                                )
                                                                byRef: false
                                                            )
                                                            1: Arg(
                                                                value: Expr_ConstFetch(
                                                                    name: Name(
                                                                        parts: array(
                                                                            0: false
                                                                        )
                                                                    )
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                    1: Stmt_If(
                                                        stmts: array(
                                                            0: Expr_Assign(
                                                                var: Expr_PropertyFetch(
                                                                    var: Expr_PropertyFetch(
                                                                        var: Expr_Variable(
                                                                            name: this
                                                                        )
                                                                        name: product
                                                                    )
                                                                    name: redirect_type
                                                                )
                                                                expr: Scalar_String(
                                                                    value: 404
                                                                )
                                                            )
                                                        )
                                                        elseifs: array(
                                                        )
                                                        else: null
                                                        cond: Expr_Equal(
                                                            left: Expr_PropertyFetch(
                                                                var: Expr_PropertyFetch(
                                                                    var: Expr_Variable(
                                                                        name: this
                                                                    )
                                                                    name: product
                                                                )
                                                                name: id_product_redirected
                                                            )
                                                            right: Expr_PropertyFetch(
                                                                var: Expr_PropertyFetch(
                                                                    var: Expr_Variable(
                                                                        name: this
                                                                    )
                                                                    name: product
                                                                )
                                                                name: id
                                                            )
                                                        )
                                                    )
                                                    2: Stmt_Switch(
                                                        cond: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: product
                                                            )
                                                            name: redirect_type
                                                        )
                                                        cases: array(
                                                            0: Stmt_Case(
                                                                cond: Scalar_String(
                                                                    value: 301
                                                                )
                                                                stmts: array(
                                                                    0: Expr_FuncCall(
                                                                        name: Name(
                                                                            parts: array(
                                                                                0: header
                                                                            )
                                                                        )
                                                                        args: array(
                                                                            0: Arg(
                                                                                value: Scalar_String(
                                                                                    value: HTTP/1.1 301 Moved Permanently
                                                                                )
                                                                                byRef: false
                                                                            )
                                                                        )
                                                                    )
                                                                    1: Expr_FuncCall(
                                                                        name: Name(
                                                                            parts: array(
                                                                                0: header
                                                                            )
                                                                        )
                                                                        args: array(
                                                                            0: Arg(
                                                                                value: Expr_Concat(
                                                                                    left: Scalar_String(
                                                                                        value: Location: 
                                                                                    )
                                                                                    right: Expr_MethodCall(
                                                                                        var: Expr_PropertyFetch(
                                                                                            var: Expr_PropertyFetch(
                                                                                                var: Expr_Variable(
                                                                                                    name: this
                                                                                                )
                                                                                                name: context
                                                                                            )
                                                                                            name: link
                                                                                        )
                                                                                        name: getProductLink
                                                                                        args: array(
                                                                                            0: Arg(
                                                                                                value: Expr_PropertyFetch(
                                                                                                    var: Expr_PropertyFetch(
                                                                                                        var: Expr_Variable(
                                                                                                            name: this
                                                                                                        )
                                                                                                        name: product
                                                                                                    )
                                                                                                    name: id_product_redirected
                                                                                                )
                                                                                                byRef: false
                                                                                            )
                                                                                        )
                                                                                    )
                                                                                )
                                                                                byRef: false
                                                                            )
                                                                        )
                                                                    )
                                                                    2: Stmt_Break(
                                                                        num: null
                                                                    )
                                                                )
                                                            )
                                                            1: Stmt_Case(
                                                                cond: Scalar_String(
                                                                    value: 302
                                                                )
                                                                stmts: array(
                                                                    0: Expr_FuncCall(
                                                                        name: Name(
                                                                            parts: array(
                                                                                0: header
                                                                            )
                                                                        )
                                                                        args: array(
                                                                            0: Arg(
                                                                                value: Scalar_String(
                                                                                    value: HTTP/1.1 302 Moved Temporarily
                                                                                )
                                                                                byRef: false
                                                                            )
                                                                        )
                                                                    )
                                                                    1: Expr_FuncCall(
                                                                        name: Name(
                                                                            parts: array(
                                                                                0: header
                                                                            )
                                                                        )
                                                                        args: array(
                                                                            0: Arg(
                                                                                value: Scalar_String(
                                                                                    value: Cache-Control: no-cache
                                                                                )
                                                                                byRef: false
                                                                            )
                                                                        )
                                                                    )
                                                                    2: Expr_FuncCall(
                                                                        name: Name(
                                                                            parts: array(
                                                                                0: header
                                                                            )
                                                                        )
                                                                        args: array(
                                                                            0: Arg(
                                                                                value: Expr_Concat(
                                                                                    left: Scalar_String(
                                                                                        value: Location: 
                                                                                    )
                                                                                    right: Expr_MethodCall(
                                                                                        var: Expr_PropertyFetch(
                                                                                            var: Expr_PropertyFetch(
                                                                                                var: Expr_Variable(
                                                                                                    name: this
                                                                                                )
                                                                                                name: context
                                                                                            )
                                                                                            name: link
                                                                                        )
                                                                                        name: getProductLink
                                                                                        args: array(
                                                                                            0: Arg(
                                                                                                value: Expr_PropertyFetch(
                                                                                                    var: Expr_PropertyFetch(
                                                                                                        var: Expr_Variable(
                                                                                                            name: this
                                                                                                        )
                                                                                                        name: product
                                                                                                    )
                                                                                                    name: id_product_redirected
                                                                                                )
                                                                                                byRef: false
                                                                                            )
                                                                                        )
                                                                                    )
                                                                                )
                                                                                byRef: false
                                                                            )
                                                                        )
                                                                    )
                                                                    3: Stmt_Break(
                                                                        num: null
                                                                    )
                                                                )
                                                            )
                                                            2: Stmt_Case(
                                                                cond: Scalar_String(
                                                                    value: 404
                                                                )
                                                                stmts: array(
                                                                )
                                                            )
                                                            3: Stmt_Case(
                                                                cond: null
                                                                stmts: array(
                                                                    0: Expr_FuncCall(
                                                                        name: Name(
                                                                            parts: array(
                                                                                0: header
                                                                            )
                                                                        )
                                                                        args: array(
                                                                            0: Arg(
                                                                                value: Scalar_String(
                                                                                    value: HTTP/1.1 404 Not Found
                                                                                )
                                                                                byRef: false
                                                                            )
                                                                        )
                                                                    )
                                                                    1: Expr_FuncCall(
                                                                        name: Name(
                                                                            parts: array(
                                                                                0: header
                                                                            )
                                                                        )
                                                                        args: array(
                                                                            0: Arg(
                                                                                value: Scalar_String(
                                                                                    value: Status: 404 Not Found
                                                                                )
                                                                                byRef: false
                                                                            )
                                                                        )
                                                                    )
                                                                    2: Expr_Assign(
                                                                        var: Expr_ArrayDimFetch(
                                                                            var: Expr_PropertyFetch(
                                                                                var: Expr_Variable(
                                                                                    name: this
                                                                                )
                                                                                name: errors
                                                                            )
                                                                            dim: null
                                                                        )
                                                                        expr: Expr_StaticCall(
                                                                            class: Name_FullyQualified(
                                                                                parts: array(
                                                                                    0: Tools
                                                                                )
                                                                            )
                                                                            name: displayError
                                                                            args: array(
                                                                                0: Arg(
                                                                                    value: Scalar_String(
                                                                                        value: This product is no longer available.
                                                                                    )
                                                                                    byRef: false
                                                                                )
                                                                            )
                                                                        )
                                                                    )
                                                                    3: Stmt_Break(
                                                                        num: null
                                                                    )
                                                                )
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                            cond: Expr_Equal(
                                                left: Expr_StaticCall(
                                                    class: Name_FullyQualified(
                                                        parts: array(
                                                            0: Tools
                                                        )
                                                    )
                                                    name: getValue
                                                    args: array(
                                                        0: Arg(
                                                            value: Scalar_String(
                                                                value: adtoken
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                                right: Expr_StaticCall(
                                                    class: Name_FullyQualified(
                                                        parts: array(
                                                            0: Tools
                                                        )
                                                    )
                                                    name: getAdminToken
                                                    args: array(
                                                        0: Arg(
                                                            value: Expr_Concat(
                                                                left: Expr_Concat(
                                                                    left: Scalar_String(
                                                                        value: AdminProducts
                                                                    )
                                                                    right: Expr_Cast_Int(
                                                                        expr: Expr_StaticCall(
                                                                            class: Name_FullyQualified(
                                                                                parts: array(
                                                                                    0: Tab
                                                                                )
                                                                            )
                                                                            name: getIdFromClassName
                                                                            args: array(
                                                                                0: Arg(
                                                                                    value: Scalar_String(
                                                                                        value: AdminProducts
                                                                                    )
                                                                                    byRef: false
                                                                                )
                                                                            )
                                                                        )
                                                                    )
                                                                )
                                                                right: Expr_Cast_Int(
                                                                    expr: Expr_StaticCall(
                                                                        class: Name_FullyQualified(
                                                                            parts: array(
                                                                                0: Tools
                                                                            )
                                                                        )
                                                                        name: getValue
                                                                        args: array(
                                                                            0: Arg(
                                                                                value: Scalar_String(
                                                                                    value: id_employee
                                                                                )
                                                                                byRef: false
                                                                            )
                                                                        )
                                                                    )
                                                                )
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                    )
                                    elseifs: array(
                                        0: Stmt_ElseIf(
                                            cond: Expr_BooleanNot(
                                                expr: Expr_MethodCall(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: product
                                                    )
                                                    name: checkAccess
                                                    args: array(
                                                        0: Arg(
                                                            value: Expr_Ternary(
                                                                cond: Expr_Isset(
                                                                    vars: array(
                                                                        0: Expr_PropertyFetch(
                                                                            var: Expr_PropertyFetch(
                                                                                var: Expr_Variable(
                                                                                    name: this
                                                                                )
                                                                                name: context
                                                                            )
                                                                            name: customer
                                                                        )
                                                                    )
                                                                )
                                                                if: Expr_PropertyFetch(
                                                                    var: Expr_PropertyFetch(
                                                                        var: Expr_PropertyFetch(
                                                                            var: Expr_Variable(
                                                                                name: this
                                                                            )
                                                                            name: context
                                                                        )
                                                                        name: customer
                                                                    )
                                                                    name: id
                                                                )
                                                                else: Scalar_LNumber(
                                                                    value: 0
                                                                )
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                            )
                                            stmts: array(
                                                0: Expr_FuncCall(
                                                    name: Name(
                                                        parts: array(
                                                            0: header
                                                        )
                                                    )
                                                    args: array(
                                                        0: Arg(
                                                            value: Scalar_String(
                                                                value: HTTP/1.1 403 Forbidden
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                                1: Expr_FuncCall(
                                                    name: Name(
                                                        parts: array(
                                                            0: header
                                                        )
                                                    )
                                                    args: array(
                                                        0: Arg(
                                                            value: Scalar_String(
                                                                value: Status: 403 Forbidden
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                                2: Expr_Assign(
                                                    var: Expr_ArrayDimFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: errors
                                                        )
                                                        dim: null
                                                    )
                                                    expr: Expr_StaticCall(
                                                        class: Name_FullyQualified(
                                                            parts: array(
                                                                0: Tools
                                                            )
                                                        )
                                                        name: displayError
                                                        args: array(
                                                            0: Arg(
                                                                value: Scalar_String(
                                                                    value: You do not have access to this product.
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                    )
                                    else: Stmt_Else(
                                        stmts: array(
                                            0: Stmt_If(
                                                stmts: array(
                                                    0: Stmt_If(
                                                        stmts: array(
                                                            0: Stmt_If(
                                                                stmts: array(
                                                                    0: Expr_Assign(
                                                                        var: Expr_PropertyFetch(
                                                                            var: Expr_Variable(
                                                                                name: this
                                                                            )
                                                                            name: category
                                                                        )
                                                                        expr: Expr_New(
                                                                            class: Name_FullyQualified(
                                                                                parts: array(
                                                                                    0: Category
                                                                                )
                                                                            )
                                                                            args: array(
                                                                                0: Arg(
                                                                                    value: Expr_ArrayDimFetch(
                                                                                        var: Expr_Variable(
                                                                                            name: regs
                                                                                        )
                                                                                        dim: Scalar_LNumber(
                                                                                            value: 2
                                                                                        )
                                                                                    )
                                                                                    byRef: false
                                                                                )
                                                                                1: Arg(
                                                                                    value: Expr_Cast_Int(
                                                                                        expr: Expr_PropertyFetch(
                                                                                            var: Expr_PropertyFetch(
                                                                                                var: Expr_PropertyFetch(
                                                                                                    var: Expr_Variable(
                                                                                                        name: this
                                                                                                    )
                                                                                                    name: context
                                                                                                )
                                                                                                name: cookie
                                                                                            )
                                                                                            name: id_lang
                                                                                        )
                                                                                    )
                                                                                    byRef: false
                                                                                )
                                                                            )
                                                                        )
                                                                    )
                                                                )
                                                                elseifs: array(
                                                                )
                                                                else: null
                                                                cond: Expr_StaticCall(
                                                                    class: Name_FullyQualified(
                                                                        parts: array(
                                                                            0: Product
                                                                        )
                                                                    )
                                                                    name: idIsOnCategoryId
                                                                    args: array(
                                                                        0: Arg(
                                                                            value: Expr_Cast_Int(
                                                                                expr: Expr_PropertyFetch(
                                                                                    var: Expr_PropertyFetch(
                                                                                        var: Expr_Variable(
                                                                                            name: this
                                                                                        )
                                                                                        name: product
                                                                                    )
                                                                                    name: id
                                                                                )
                                                                            )
                                                                            byRef: false
                                                                        )
                                                                        1: Arg(
                                                                            value: Expr_Array(
                                                                                items: array(
                                                                                    0: Expr_ArrayItem(
                                                                                        key: Scalar_String(
                                                                                            value: 0
                                                                                        )
                                                                                        value: Expr_Array(
                                                                                            items: array(
                                                                                                0: Expr_ArrayItem(
                                                                                                    key: Scalar_String(
                                                                                                        value: id_category
                                                                                                    )
                                                                                                    value: Expr_Cast_Int(
                                                                                                        expr: Expr_ArrayDimFetch(
                                                                                                            var: Expr_Variable(
                                                                                                                name: regs
                                                                                                            )
                                                                                                            dim: Scalar_LNumber(
                                                                                                                value: 2
                                                                                                            )
                                                                                                        )
                                                                                                    )
                                                                                                    byRef: false
                                                                                                )
                                                                                            )
                                                                                        )
                                                                                        byRef: false
                                                                                    )
                                                                                )
                                                                            )
                                                                            byRef: false
                                                                        )
                                                                    )
                                                                )
                                                            )
                                                        )
                                                        elseifs: array(
                                                        )
                                                        else: Stmt_Else(
                                                            stmts: array(
                                                                0: Stmt_If(
                                                                    stmts: array(
                                                                        0: Stmt_If(
                                                                            stmts: array(
                                                                                0: Expr_Assign(
                                                                                    var: Expr_PropertyFetch(
                                                                                        var: Expr_Variable(
                                                                                            name: this
                                                                                        )
                                                                                        name: category
                                                                                    )
                                                                                    expr: Expr_New(
                                                                                        class: Name_FullyQualified(
                                                                                            parts: array(
                                                                                                0: Category
                                                                                            )
                                                                                        )
                                                                                        args: array(
                                                                                            0: Arg(
                                                                                                value: Expr_ArrayDimFetch(
                                                                                                    var: Expr_Variable(
                                                                                                        name: regs
                                                                                                    )
                                                                                                    dim: Scalar_LNumber(
                                                                                                        value: 5
                                                                                                    )
                                                                                                )
                                                                                                byRef: false
                                                                                            )
                                                                                            1: Arg(
                                                                                                value: Expr_Cast_Int(
                                                                                                    expr: Expr_PropertyFetch(
                                                                                                        var: Expr_PropertyFetch(
                                                                                                            var: Expr_PropertyFetch(
                                                                                                                var: Expr_Variable(
                                                                                                                    name: this
                                                                                                                )
                                                                                                                name: context
                                                                                                            )
                                                                                                            name: cookie
                                                                                                        )
                                                                                                        name: id_lang
                                                                                                    )
                                                                                                )
                                                                                                byRef: false
                                                                                            )
                                                                                        )
                                                                                    )
                                                                                )
                                                                            )
                                                                            elseifs: array(
                                                                            )
                                                                            else: null
                                                                            cond: Expr_StaticCall(
                                                                                class: Name_FullyQualified(
                                                                                    parts: array(
                                                                                        0: Product
                                                                                    )
                                                                                )
                                                                                name: idIsOnCategoryId
                                                                                args: array(
                                                                                    0: Arg(
                                                                                        value: Expr_Cast_Int(
                                                                                            expr: Expr_PropertyFetch(
                                                                                                var: Expr_PropertyFetch(
                                                                                                    var: Expr_Variable(
                                                                                                        name: this
                                                                                                    )
                                                                                                    name: product
                                                                                                )
                                                                                                name: id
                                                                                            )
                                                                                        )
                                                                                        byRef: false
                                                                                    )
                                                                                    1: Arg(
                                                                                        value: Expr_Array(
                                                                                            items: array(
                                                                                                0: Expr_ArrayItem(
                                                                                                    key: Scalar_String(
                                                                                                        value: 0
                                                                                                    )
                                                                                                    value: Expr_Array(
                                                                                                        items: array(
                                                                                                            0: Expr_ArrayItem(
                                                                                                                key: Scalar_String(
                                                                                                                    value: id_category
                                                                                                                )
                                                                                                                value: Expr_Cast_Int(
                                                                                                                    expr: Expr_ArrayDimFetch(
                                                                                                                        var: Expr_Variable(
                                                                                                                            name: regs
                                                                                                                        )
                                                                                                                        dim: Scalar_LNumber(
                                                                                                                            value: 5
                                                                                                                        )
                                                                                                                    )
                                                                                                                )
                                                                                                                byRef: false
                                                                                                            )
                                                                                                        )
                                                                                                    )
                                                                                                    byRef: false
                                                                                                )
                                                                                            )
                                                                                        )
                                                                                        byRef: false
                                                                                    )
                                                                                )
                                                                            )
                                                                        )
                                                                    )
                                                                    elseifs: array(
                                                                    )
                                                                    else: null
                                                                    cond: Expr_BooleanAnd(
                                                                        left: Expr_Isset(
                                                                            vars: array(
                                                                                0: Expr_ArrayDimFetch(
                                                                                    var: Expr_Variable(
                                                                                        name: regs
                                                                                    )
                                                                                    dim: Scalar_LNumber(
                                                                                        value: 5
                                                                                    )
                                                                                )
                                                                            )
                                                                        )
                                                                        right: Expr_FuncCall(
                                                                            name: Name(
                                                                                parts: array(
                                                                                    0: is_numeric
                                                                                )
                                                                            )
                                                                            args: array(
                                                                                0: Arg(
                                                                                    value: Expr_ArrayDimFetch(
                                                                                        var: Expr_Variable(
                                                                                            name: regs
                                                                                        )
                                                                                        dim: Scalar_LNumber(
                                                                                            value: 5
                                                                                        )
                                                                                    )
                                                                                    byRef: false
                                                                                )
                                                                            )
                                                                        )
                                                                    )
                                                                )
                                                            )
                                                        )
                                                        cond: Expr_BooleanAnd(
                                                            left: Expr_Isset(
                                                                vars: array(
                                                                    0: Expr_ArrayDimFetch(
                                                                        var: Expr_Variable(
                                                                            name: regs
                                                                        )
                                                                        dim: Scalar_LNumber(
                                                                            value: 2
                                                                        )
                                                                    )
                                                                )
                                                            )
                                                            right: Expr_FuncCall(
                                                                name: Name(
                                                                    parts: array(
                                                                        0: is_numeric
                                                                    )
                                                                )
                                                                args: array(
                                                                    0: Arg(
                                                                        value: Expr_ArrayDimFetch(
                                                                            var: Expr_Variable(
                                                                                name: regs
                                                                            )
                                                                            dim: Scalar_LNumber(
                                                                                value: 2
                                                                            )
                                                                        )
                                                                        byRef: false
                                                                    )
                                                                )
                                                            )
                                                        )
                                                    )
                                                )
                                                elseifs: array(
                                                )
                                                else: null
                                                cond: Expr_BooleanAnd(
                                                    left: Expr_BooleanAnd(
                                                        left: Expr_BooleanAnd(
                                                            left: Expr_Isset(
                                                                vars: array(
                                                                    0: Expr_ArrayDimFetch(
                                                                        var: Expr_Variable(
                                                                            name: _SERVER
                                                                        )
                                                                        dim: Scalar_String(
                                                                            value: HTTP_REFERER
                                                                        )
                                                                    )
                                                                )
                                                            )
                                                            right: Expr_FuncCall(
                                                                name: Name(
                                                                    parts: array(
                                                                        0: strstr
                                                                    )
                                                                )
                                                                args: array(
                                                                    0: Arg(
                                                                        value: Expr_ArrayDimFetch(
                                                                            var: Expr_Variable(
                                                                                name: _SERVER
                                                                            )
                                                                            dim: Scalar_String(
                                                                                value: HTTP_REFERER
                                                                            )
                                                                        )
                                                                        byRef: false
                                                                    )
                                                                    1: Arg(
                                                                        value: Expr_StaticCall(
                                                                            class: Name_FullyQualified(
                                                                                parts: array(
                                                                                    0: Tools
                                                                                )
                                                                            )
                                                                            name: getHttpHost
                                                                            args: array(
                                                                            )
                                                                        )
                                                                        byRef: false
                                                                    )
                                                                )
                                                            )
                                                        )
                                                        right: Expr_Identical(
                                                            left: Expr_FuncCall(
                                                                name: Name(
                                                                    parts: array(
                                                                        0: stripos
                                                                    )
                                                                )
                                                                args: array(
                                                                    0: Arg(
                                                                        value: Expr_ArrayDimFetch(
                                                                            var: Expr_Variable(
                                                                                name: _SERVER
                                                                            )
                                                                            dim: Scalar_String(
                                                                                value: HTTP_REFERER
                                                                            )
                                                                        )
                                                                        byRef: false
                                                                    )
                                                                    1: Arg(
                                                                        value: Scalar_String(
                                                                            value: .html
                                                                        )
                                                                        byRef: false
                                                                    )
                                                                )
                                                            )
                                                            right: Expr_ConstFetch(
                                                                name: Name(
                                                                    parts: array(
                                                                        0: false
                                                                    )
                                                                )
                                                            )
                                                        )
                                                    )
                                                    right: Expr_FuncCall(
                                                        name: Name(
                                                            parts: array(
                                                                0: preg_match
                                                            )
                                                        )
                                                        args: array(
                                                            0: Arg(
                                                                value: Scalar_String(
                                                                    value: ~^(.*)\/([0-9]+)\-((?![.]+html).*)|(.*)id_category=([0-9]+)(.*)$~
                                                                )
                                                                byRef: false
                                                            )
                                                            1: Arg(
                                                                value: Expr_ArrayDimFetch(
                                                                    var: Expr_Variable(
                                                                        name: _SERVER
                                                                    )
                                                                    dim: Scalar_String(
                                                                        value: HTTP_REFERER
                                                                    )
                                                                )
                                                                byRef: false
                                                            )
                                                            2: Arg(
                                                                value: Expr_Variable(
                                                                    name: regs
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                            1: Stmt_If(
                                                stmts: array(
                                                    0: Expr_Assign(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: category
                                                        )
                                                        expr: Expr_New(
                                                            class: Name_FullyQualified(
                                                                parts: array(
                                                                    0: Category
                                                                )
                                                            )
                                                            args: array(
                                                                0: Arg(
                                                                    value: Expr_PropertyFetch(
                                                                        var: Expr_PropertyFetch(
                                                                            var: Expr_Variable(
                                                                                name: this
                                                                            )
                                                                            name: product
                                                                        )
                                                                        name: id_category_default
                                                                    )
                                                                    byRef: false
                                                                )
                                                                1: Arg(
                                                                    value: Expr_Cast_Int(
                                                                        expr: Expr_PropertyFetch(
                                                                            var: Expr_PropertyFetch(
                                                                                var: Expr_PropertyFetch(
                                                                                    var: Expr_Variable(
                                                                                        name: this
                                                                                    )
                                                                                    name: context
                                                                                )
                                                                                name: cookie
                                                                            )
                                                                            name: id_lang
                                                                        )
                                                                    )
                                                                    byRef: false
                                                                )
                                                            )
                                                        )
                                                    )
                                                )
                                                elseifs: array(
                                                )
                                                else: null
                                                cond: Expr_BooleanNot(
                                                    expr: Expr_Isset(
                                                        vars: array(
                                                            0: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: category
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                    )
                                    cond: Expr_BooleanOr(
                                        left: Expr_BooleanNot(
                                            expr: Expr_MethodCall(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: product
                                                )
                                                name: isAssociatedToShop
                                                args: array(
                                                )
                                            )
                                        )
                                        right: Expr_BooleanNot(
                                            expr: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: product
                                                )
                                                name: active
                                            )
                                        )
                                    )
                                )
                            )
                        )
                        cond: Expr_BooleanNot(
                            expr: Expr_StaticCall(
                                class: Name_FullyQualified(
                                    parts: array(
                                        0: Validate
                                    )
                                )
                                name: isLoadedObject
                                args: array(
                                    0: Arg(
                                        value: Expr_PropertyFetch(
                                            var: Expr_Variable(
                                                name: this
                                            )
                                            name: product
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                    )
                )
                name: init
            )
            6: Stmt_ClassMethod(
                type: 1
                byRef: false
                params: array(
                )
                stmts: array(
                    0: Expr_StaticCall(
                        class: Name(
                            parts: array(
                                0: parent
                            )
                        )
                        name: initContent
                        args: array(
                        )
                    )
                    1: Stmt_If(
                        stmts: array(
                            0: Stmt_If(
                                stmts: array(
                                    0: Expr_Assign(
                                        var: Expr_PropertyFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_Variable(
                                                    name: this
                                                )
                                                name: product
                                            )
                                            name: quantity
                                        )
                                        expr: Scalar_LNumber(
                                            value: 0
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: null
                                cond: Expr_BooleanAnd(
                                    left: Expr_StaticCall(
                                        class: Name_FullyQualified(
                                            parts: array(
                                                0: Pack
                                            )
                                        )
                                        name: isPack
                                        args: array(
                                            0: Arg(
                                                value: Expr_Cast_Int(
                                                    expr: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: product
                                                        )
                                                        name: id
                                                    )
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                    right: Expr_BooleanNot(
                                        expr: Expr_StaticCall(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Pack
                                                )
                                            )
                                            name: isInStock
                                            args: array(
                                                0: Arg(
                                                    value: Expr_Cast_Int(
                                                        expr: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: product
                                                            )
                                                            name: id
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                            1: Expr_Assign(
                                var: Expr_PropertyFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: product
                                    )
                                    name: description
                                )
                                expr: Expr_MethodCall(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: transformDescriptionWithImg
                                    args: array(
                                        0: Arg(
                                            value: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: product
                                                )
                                                name: description
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                            )
                            2: Expr_MethodCall(
                                var: Expr_PropertyFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: context
                                    )
                                    name: smarty
                                )
                                name: assign
                                args: array(
                                    0: Arg(
                                        value: Scalar_String(
                                            value: virtual
                                        )
                                        byRef: false
                                    )
                                    1: Arg(
                                        value: Expr_StaticCall(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: ProductDownload
                                                )
                                            )
                                            name: getIdFromIdProduct
                                            args: array(
                                                0: Arg(
                                                    value: Expr_Cast_Int(
                                                        expr: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: product
                                                            )
                                                            name: id
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                        byRef: false
                                    )
                                )
                            )
                            3: Expr_MethodCall(
                                var: Expr_PropertyFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: context
                                    )
                                    name: smarty
                                )
                                name: assign
                                args: array(
                                    0: Arg(
                                        value: Scalar_String(
                                            value: customizationFormTarget
                                        )
                                        byRef: false
                                    )
                                    1: Arg(
                                        value: Expr_StaticCall(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Tools
                                                )
                                            )
                                            name: safeOutput
                                            args: array(
                                                0: Arg(
                                                    value: Expr_FuncCall(
                                                        name: Name(
                                                            parts: array(
                                                                0: urldecode
                                                            )
                                                        )
                                                        args: array(
                                                            0: Arg(
                                                                value: Expr_ArrayDimFetch(
                                                                    var: Expr_Variable(
                                                                        name: _SERVER
                                                                    )
                                                                    dim: Scalar_String(
                                                                        value: REQUEST_URI
                                                                    )
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                        byRef: false
                                    )
                                )
                            )
                            4: Stmt_If(
                                stmts: array(
                                    0: Stmt_If(
                                        stmts: array(
                                            0: Expr_MethodCall(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: cart
                                                )
                                                name: add
                                                args: array(
                                                )
                                            )
                                            1: Expr_Assign(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: context
                                                        )
                                                        name: cookie
                                                    )
                                                    name: id_cart
                                                )
                                                expr: Expr_Cast_Int(
                                                    expr: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: context
                                                            )
                                                            name: cart
                                                        )
                                                        name: id
                                                    )
                                                )
                                            )
                                        )
                                        elseifs: array(
                                        )
                                        else: null
                                        cond: Expr_BooleanAnd(
                                            left: Expr_BooleanNot(
                                                expr: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: context
                                                        )
                                                        name: cart
                                                    )
                                                    name: id
                                                )
                                            )
                                            right: Expr_Isset(
                                                vars: array(
                                                    0: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: _COOKIE
                                                        )
                                                        dim: Expr_MethodCall(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_PropertyFetch(
                                                                    var: Expr_Variable(
                                                                        name: this
                                                                    )
                                                                    name: context
                                                                )
                                                                name: cookie
                                                            )
                                                            name: getName
                                                            args: array(
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                    )
                                    1: Expr_MethodCall(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: pictureUpload
                                        args: array(
                                        )
                                    )
                                    2: Expr_MethodCall(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: textRecord
                                        args: array(
                                        )
                                    )
                                    3: Expr_MethodCall(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: formTargetFormat
                                        args: array(
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: Stmt_Else(
                                    stmts: array(
                                        0: Stmt_If(
                                            stmts: array(
                                                0: Expr_Assign(
                                                    var: Expr_ArrayDimFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: errors
                                                        )
                                                        dim: null
                                                    )
                                                    expr: Expr_StaticCall(
                                                        class: Name_FullyQualified(
                                                            parts: array(
                                                                0: Tools
                                                            )
                                                        )
                                                        name: displayError
                                                        args: array(
                                                            0: Arg(
                                                                value: Scalar_String(
                                                                    value: An error occurred while deleting the selected picture.
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                            elseifs: array(
                                            )
                                            else: null
                                            cond: Expr_BooleanAnd(
                                                left: Expr_StaticCall(
                                                    class: Name_FullyQualified(
                                                        parts: array(
                                                            0: Tools
                                                        )
                                                    )
                                                    name: getIsset
                                                    args: array(
                                                        0: Arg(
                                                            value: Scalar_String(
                                                                value: deletePicture
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                                right: Expr_BooleanNot(
                                                    expr: Expr_MethodCall(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: context
                                                            )
                                                            name: cart
                                                        )
                                                        name: deleteCustomizationToProduct
                                                        args: array(
                                                            0: Arg(
                                                                value: Expr_PropertyFetch(
                                                                    var: Expr_PropertyFetch(
                                                                        var: Expr_Variable(
                                                                            name: this
                                                                        )
                                                                        name: product
                                                                    )
                                                                    name: id
                                                                )
                                                                byRef: false
                                                            )
                                                            1: Arg(
                                                                value: Expr_StaticCall(
                                                                    class: Name_FullyQualified(
                                                                        parts: array(
                                                                            0: Tools
                                                                        )
                                                                    )
                                                                    name: getValue
                                                                    args: array(
                                                                        0: Arg(
                                                                            value: Scalar_String(
                                                                                value: deletePicture
                                                                            )
                                                                            byRef: false
                                                                        )
                                                                    )
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                    )
                                )
                                cond: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Tools
                                        )
                                    )
                                    name: isSubmit
                                    args: array(
                                        0: Arg(
                                            value: Scalar_String(
                                                value: submitCustomizedDatas
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                            )
                            5: Expr_Assign(
                                var: Expr_Variable(
                                    name: pictures
                                )
                                expr: Expr_Array(
                                    items: array(
                                    )
                                )
                            )
                            6: Expr_Assign(
                                var: Expr_Variable(
                                    name: text_fields
                                )
                                expr: Expr_Array(
                                    items: array(
                                    )
                                )
                            )
                            7: Stmt_If(
                                stmts: array(
                                    0: Expr_Assign(
                                        var: Expr_Variable(
                                            name: files
                                        )
                                        expr: Expr_MethodCall(
                                            var: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: context
                                                )
                                                name: cart
                                            )
                                            name: getProductCustomization
                                            args: array(
                                                0: Arg(
                                                    value: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: product
                                                        )
                                                        name: id
                                                    )
                                                    byRef: false
                                                )
                                                1: Arg(
                                                    value: Expr_ClassConstFetch(
                                                        class: Name_FullyQualified(
                                                            parts: array(
                                                                0: Product
                                                            )
                                                        )
                                                        name: CUSTOMIZE_FILE
                                                    )
                                                    byRef: false
                                                )
                                                2: Arg(
                                                    value: Expr_ConstFetch(
                                                        name: Name(
                                                            parts: array(
                                                                0: true
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                    1: Stmt_Foreach(
                                        keyVar: null
                                        byRef: false
                                        stmts: array(
                                            0: Expr_Assign(
                                                var: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: pictures
                                                    )
                                                    dim: Expr_Concat(
                                                        left: Expr_Concat(
                                                            left: Expr_Concat(
                                                                left: Scalar_String(
                                                                    value: pictures_
                                                                )
                                                                right: Expr_PropertyFetch(
                                                                    var: Expr_PropertyFetch(
                                                                        var: Expr_Variable(
                                                                            name: this
                                                                        )
                                                                        name: product
                                                                    )
                                                                    name: id
                                                                )
                                                            )
                                                            right: Scalar_String(
                                                                value: _
                                                            )
                                                        )
                                                        right: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: file
                                                            )
                                                            dim: Scalar_String(
                                                                value: index
                                                            )
                                                        )
                                                    )
                                                )
                                                expr: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: file
                                                    )
                                                    dim: Scalar_String(
                                                        value: value
                                                    )
                                                )
                                            )
                                        )
                                        expr: Expr_Variable(
                                            name: files
                                        )
                                        valueVar: Expr_Variable(
                                            name: file
                                        )
                                    )
                                    2: Expr_Assign(
                                        var: Expr_Variable(
                                            name: texts
                                        )
                                        expr: Expr_MethodCall(
                                            var: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: context
                                                )
                                                name: cart
                                            )
                                            name: getProductCustomization
                                            args: array(
                                                0: Arg(
                                                    value: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: product
                                                        )
                                                        name: id
                                                    )
                                                    byRef: false
                                                )
                                                1: Arg(
                                                    value: Expr_ClassConstFetch(
                                                        class: Name_FullyQualified(
                                                            parts: array(
                                                                0: Product
                                                            )
                                                        )
                                                        name: CUSTOMIZE_TEXTFIELD
                                                    )
                                                    byRef: false
                                                )
                                                2: Arg(
                                                    value: Expr_ConstFetch(
                                                        name: Name(
                                                            parts: array(
                                                                0: true
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                    3: Stmt_Foreach(
                                        keyVar: null
                                        byRef: false
                                        stmts: array(
                                            0: Expr_Assign(
                                                var: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: text_fields
                                                    )
                                                    dim: Expr_Concat(
                                                        left: Expr_Concat(
                                                            left: Expr_Concat(
                                                                left: Scalar_String(
                                                                    value: textFields_
                                                                )
                                                                right: Expr_PropertyFetch(
                                                                    var: Expr_PropertyFetch(
                                                                        var: Expr_Variable(
                                                                            name: this
                                                                        )
                                                                        name: product
                                                                    )
                                                                    name: id
                                                                )
                                                            )
                                                            right: Scalar_String(
                                                                value: _
                                                            )
                                                        )
                                                        right: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: text_field
                                                            )
                                                            dim: Scalar_String(
                                                                value: index
                                                            )
                                                        )
                                                    )
                                                )
                                                expr: Expr_FuncCall(
                                                    name: Name(
                                                        parts: array(
                                                            0: str_replace
                                                        )
                                                    )
                                                    args: array(
                                                        0: Arg(
                                                            value: Scalar_String(
                                                                value: <br />
                                                            )
                                                            byRef: false
                                                        )
                                                        1: Arg(
                                                            value: Scalar_String(
                                                                value: 
                                                            
                                                            )
                                                            byRef: false
                                                        )
                                                        2: Arg(
                                                            value: Expr_ArrayDimFetch(
                                                                var: Expr_Variable(
                                                                    name: text_field
                                                                )
                                                                dim: Scalar_String(
                                                                    value: value
                                                                )
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                        expr: Expr_Variable(
                                            name: texts
                                        )
                                        valueVar: Expr_Variable(
                                            name: text_field
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: null
                                cond: Expr_PropertyFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: product
                                    )
                                    name: customizable
                                )
                            )
                            8: Expr_MethodCall(
                                var: Expr_PropertyFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: context
                                    )
                                    name: smarty
                                )
                                name: assign
                                args: array(
                                    0: Arg(
                                        value: Expr_Array(
                                            items: array(
                                                0: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: pictures
                                                    )
                                                    value: Expr_Variable(
                                                        name: pictures
                                                    )
                                                    byRef: false
                                                )
                                                1: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: textFields
                                                    )
                                                    value: Expr_Variable(
                                                        name: text_fields
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                        byRef: false
                                    )
                                )
                            )
                            9: Expr_MethodCall(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: assignCategory
                                args: array(
                                )
                            )
                            10: Expr_MethodCall(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: assignPriceAndTax
                                args: array(
                                )
                            )
                            11: Expr_MethodCall(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: assignImages
                                args: array(
                                )
                            )
                            12: Expr_MethodCall(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: assignAttributesGroups
                                args: array(
                                )
                            )
                            13: Expr_MethodCall(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: assignAttributesCombinations
                                args: array(
                                )
                            )
                            14: Expr_Assign(
                                var: Expr_Variable(
                                    name: pack_items
                                )
                                expr: Expr_Ternary(
                                    cond: Expr_PropertyFetch(
                                        var: Expr_PropertyFetch(
                                            var: Expr_Variable(
                                                name: this
                                            )
                                            name: product
                                        )
                                        name: cache_is_pack
                                    )
                                    if: Expr_StaticCall(
                                        class: Name_FullyQualified(
                                            parts: array(
                                                0: Pack
                                            )
                                        )
                                        name: getItemTable
                                        args: array(
                                            0: Arg(
                                                value: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: product
                                                    )
                                                    name: id
                                                )
                                                byRef: false
                                            )
                                            1: Arg(
                                                value: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: context
                                                        )
                                                        name: language
                                                    )
                                                    name: id
                                                )
                                                byRef: false
                                            )
                                            2: Arg(
                                                value: Expr_ConstFetch(
                                                    name: Name(
                                                        parts: array(
                                                            0: true
                                                        )
                                                    )
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                    else: Expr_Array(
                                        items: array(
                                        )
                                    )
                                )
                            )
                            15: Expr_MethodCall(
                                var: Expr_PropertyFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: context
                                    )
                                    name: smarty
                                )
                                name: assign
                                args: array(
                                    0: Arg(
                                        value: Scalar_String(
                                            value: packItems
                                        )
                                        byRef: false
                                    )
                                    1: Arg(
                                        value: Expr_Variable(
                                            name: pack_items
                                        )
                                        byRef: false
                                    )
                                )
                            )
                            16: Expr_MethodCall(
                                var: Expr_PropertyFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: context
                                    )
                                    name: smarty
                                )
                                name: assign
                                args: array(
                                    0: Arg(
                                        value: Scalar_String(
                                            value: packs
                                        )
                                        byRef: false
                                    )
                                    1: Arg(
                                        value: Expr_StaticCall(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Pack
                                                )
                                            )
                                            name: getPacksTable
                                            args: array(
                                                0: Arg(
                                                    value: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: product
                                                        )
                                                        name: id
                                                    )
                                                    byRef: false
                                                )
                                                1: Arg(
                                                    value: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: context
                                                            )
                                                            name: language
                                                        )
                                                        name: id
                                                    )
                                                    byRef: false
                                                )
                                                2: Arg(
                                                    value: Expr_ConstFetch(
                                                        name: Name(
                                                            parts: array(
                                                                0: true
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                3: Arg(
                                                    value: Scalar_LNumber(
                                                        value: 1
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                        byRef: false
                                    )
                                )
                            )
                            17: Stmt_If(
                                stmts: array(
                                    0: Expr_Assign(
                                        var: Expr_Variable(
                                            name: return_link
                                        )
                                        expr: Expr_StaticCall(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Tools
                                                )
                                            )
                                            name: safeOutput
                                            args: array(
                                                0: Arg(
                                                    value: Expr_MethodCall(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: context
                                                            )
                                                            name: link
                                                        )
                                                        name: getCategoryLink
                                                        args: array(
                                                            0: Arg(
                                                                value: Expr_PropertyFetch(
                                                                    var: Expr_Variable(
                                                                        name: this
                                                                    )
                                                                    name: category
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: Stmt_Else(
                                    stmts: array(
                                        0: Expr_Assign(
                                            var: Expr_Variable(
                                                name: return_link
                                            )
                                            expr: Scalar_String(
                                                value: javascript: history.back();
                                            )
                                        )
                                    )
                                )
                                cond: Expr_BooleanAnd(
                                    left: Expr_Isset(
                                        vars: array(
                                            0: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: category
                                                )
                                                name: id
                                            )
                                        )
                                    )
                                    right: Expr_PropertyFetch(
                                        var: Expr_PropertyFetch(
                                            var: Expr_Variable(
                                                name: this
                                            )
                                            name: category
                                        )
                                        name: id
                                    )
                                )
                            )
                            18: Expr_MethodCall(
                                var: Expr_PropertyFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: context
                                    )
                                    name: smarty
                                )
                                name: assign
                                args: array(
                                    0: Arg(
                                        value: Expr_Array(
                                            items: array(
                                                0: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: stock_management
                                                    )
                                                    value: Expr_StaticCall(
                                                        class: Name_FullyQualified(
                                                            parts: array(
                                                                0: Configuration
                                                            )
                                                        )
                                                        name: get
                                                        args: array(
                                                            0: Arg(
                                                                value: Scalar_String(
                                                                    value: PS_STOCK_MANAGEMENT
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                1: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: customizationFields
                                                    )
                                                    value: Expr_Ternary(
                                                        cond: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: product
                                                            )
                                                            name: customizable
                                                        )
                                                        if: Expr_MethodCall(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: product
                                                            )
                                                            name: getCustomizationFields
                                                            args: array(
                                                                0: Arg(
                                                                    value: Expr_PropertyFetch(
                                                                        var: Expr_PropertyFetch(
                                                                            var: Expr_PropertyFetch(
                                                                                var: Expr_Variable(
                                                                                    name: this
                                                                                )
                                                                                name: context
                                                                            )
                                                                            name: language
                                                                        )
                                                                        name: id
                                                                    )
                                                                    byRef: false
                                                                )
                                                            )
                                                        )
                                                        else: Expr_ConstFetch(
                                                            name: Name(
                                                                parts: array(
                                                                    0: false
                                                                )
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                2: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: accessories
                                                    )
                                                    value: Expr_MethodCall(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: product
                                                        )
                                                        name: getAccessories
                                                        args: array(
                                                            0: Arg(
                                                                value: Expr_PropertyFetch(
                                                                    var: Expr_PropertyFetch(
                                                                        var: Expr_PropertyFetch(
                                                                            var: Expr_Variable(
                                                                                name: this
                                                                            )
                                                                            name: context
                                                                        )
                                                                        name: language
                                                                    )
                                                                    name: id
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                3: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: return_link
                                                    )
                                                    value: Expr_Variable(
                                                        name: return_link
                                                    )
                                                    byRef: false
                                                )
                                                4: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: product
                                                    )
                                                    value: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: product
                                                    )
                                                    byRef: false
                                                )
                                                5: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: product_manufacturer
                                                    )
                                                    value: Expr_New(
                                                        class: Name_FullyQualified(
                                                            parts: array(
                                                                0: Manufacturer
                                                            )
                                                        )
                                                        args: array(
                                                            0: Arg(
                                                                value: Expr_Cast_Int(
                                                                    expr: Expr_PropertyFetch(
                                                                        var: Expr_PropertyFetch(
                                                                            var: Expr_Variable(
                                                                                name: this
                                                                            )
                                                                            name: product
                                                                        )
                                                                        name: id_manufacturer
                                                                    )
                                                                )
                                                                byRef: false
                                                            )
                                                            1: Arg(
                                                                value: Expr_PropertyFetch(
                                                                    var: Expr_PropertyFetch(
                                                                        var: Expr_PropertyFetch(
                                                                            var: Expr_Variable(
                                                                                name: this
                                                                            )
                                                                            name: context
                                                                        )
                                                                        name: language
                                                                    )
                                                                    name: id
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                6: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: token
                                                    )
                                                    value: Expr_StaticCall(
                                                        class: Name_FullyQualified(
                                                            parts: array(
                                                                0: Tools
                                                            )
                                                        )
                                                        name: getToken
                                                        args: array(
                                                            0: Arg(
                                                                value: Expr_ConstFetch(
                                                                    name: Name(
                                                                        parts: array(
                                                                            0: false
                                                                        )
                                                                    )
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                7: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: features
                                                    )
                                                    value: Expr_MethodCall(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: product
                                                        )
                                                        name: getFrontFeatures
                                                        args: array(
                                                            0: Arg(
                                                                value: Expr_PropertyFetch(
                                                                    var: Expr_PropertyFetch(
                                                                        var: Expr_PropertyFetch(
                                                                            var: Expr_Variable(
                                                                                name: this
                                                                            )
                                                                            name: context
                                                                        )
                                                                        name: language
                                                                    )
                                                                    name: id
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                8: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: attachments
                                                    )
                                                    value: Expr_Ternary(
                                                        cond: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: product
                                                            )
                                                            name: cache_has_attachments
                                                        )
                                                        if: Expr_MethodCall(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: product
                                                            )
                                                            name: getAttachments
                                                            args: array(
                                                                0: Arg(
                                                                    value: Expr_PropertyFetch(
                                                                        var: Expr_PropertyFetch(
                                                                            var: Expr_PropertyFetch(
                                                                                var: Expr_Variable(
                                                                                    name: this
                                                                                )
                                                                                name: context
                                                                            )
                                                                            name: language
                                                                        )
                                                                        name: id
                                                                    )
                                                                    byRef: false
                                                                )
                                                            )
                                                        )
                                                        else: Expr_Array(
                                                            items: array(
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                9: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: allow_oosp
                                                    )
                                                    value: Expr_MethodCall(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: product
                                                        )
                                                        name: isAvailableWhenOutOfStock
                                                        args: array(
                                                            0: Arg(
                                                                value: Expr_Cast_Int(
                                                                    expr: Expr_PropertyFetch(
                                                                        var: Expr_PropertyFetch(
                                                                            var: Expr_Variable(
                                                                                name: this
                                                                            )
                                                                            name: product
                                                                        )
                                                                        name: out_of_stock
                                                                    )
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                10: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: last_qties
                                                    )
                                                    value: Expr_Cast_Int(
                                                        expr: Expr_StaticCall(
                                                            class: Name_FullyQualified(
                                                                parts: array(
                                                                    0: Configuration
                                                                )
                                                            )
                                                            name: get
                                                            args: array(
                                                                0: Arg(
                                                                    value: Scalar_String(
                                                                        value: PS_LAST_QTIES
                                                                    )
                                                                    byRef: false
                                                                )
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                11: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: HOOK_EXTRA_LEFT
                                                    )
                                                    value: Expr_StaticCall(
                                                        class: Name_FullyQualified(
                                                            parts: array(
                                                                0: Hook
                                                            )
                                                        )
                                                        name: exec
                                                        args: array(
                                                            0: Arg(
                                                                value: Scalar_String(
                                                                    value: displayLeftColumnProduct
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                12: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: HOOK_EXTRA_RIGHT
                                                    )
                                                    value: Expr_StaticCall(
                                                        class: Name_FullyQualified(
                                                            parts: array(
                                                                0: Hook
                                                            )
                                                        )
                                                        name: exec
                                                        args: array(
                                                            0: Arg(
                                                                value: Scalar_String(
                                                                    value: displayRightColumnProduct
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                13: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: HOOK_PRODUCT_OOS
                                                    )
                                                    value: Expr_StaticCall(
                                                        class: Name_FullyQualified(
                                                            parts: array(
                                                                0: Hook
                                                            )
                                                        )
                                                        name: exec
                                                        args: array(
                                                            0: Arg(
                                                                value: Scalar_String(
                                                                    value: actionProductOutOfStock
                                                                )
                                                                byRef: false
                                                            )
                                                            1: Arg(
                                                                value: Expr_Array(
                                                                    items: array(
                                                                        0: Expr_ArrayItem(
                                                                            key: Scalar_String(
                                                                                value: product
                                                                            )
                                                                            value: Expr_PropertyFetch(
                                                                                var: Expr_Variable(
                                                                                    name: this
                                                                                )
                                                                                name: product
                                                                            )
                                                                            byRef: false
                                                                        )
                                                                    )
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                14: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: HOOK_PRODUCT_ACTIONS
                                                    )
                                                    value: Expr_StaticCall(
                                                        class: Name_FullyQualified(
                                                            parts: array(
                                                                0: Hook
                                                            )
                                                        )
                                                        name: exec
                                                        args: array(
                                                            0: Arg(
                                                                value: Scalar_String(
                                                                    value: displayProductButtons
                                                                )
                                                                byRef: false
                                                            )
                                                            1: Arg(
                                                                value: Expr_Array(
                                                                    items: array(
                                                                        0: Expr_ArrayItem(
                                                                            key: Scalar_String(
                                                                                value: product
                                                                            )
                                                                            value: Expr_PropertyFetch(
                                                                                var: Expr_Variable(
                                                                                    name: this
                                                                                )
                                                                                name: product
                                                                            )
                                                                            byRef: false
                                                                        )
                                                                    )
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                15: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: HOOK_PRODUCT_TAB
                                                    )
                                                    value: Expr_StaticCall(
                                                        class: Name_FullyQualified(
                                                            parts: array(
                                                                0: Hook
                                                            )
                                                        )
                                                        name: exec
                                                        args: array(
                                                            0: Arg(
                                                                value: Scalar_String(
                                                                    value: displayProductTab
                                                                )
                                                                byRef: false
                                                            )
                                                            1: Arg(
                                                                value: Expr_Array(
                                                                    items: array(
                                                                        0: Expr_ArrayItem(
                                                                            key: Scalar_String(
                                                                                value: product
                                                                            )
                                                                            value: Expr_PropertyFetch(
                                                                                var: Expr_Variable(
                                                                                    name: this
                                                                                )
                                                                                name: product
                                                                            )
                                                                            byRef: false
                                                                        )
                                                                    )
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                16: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: HOOK_PRODUCT_TAB_CONTENT
                                                    )
                                                    value: Expr_StaticCall(
                                                        class: Name_FullyQualified(
                                                            parts: array(
                                                                0: Hook
                                                            )
                                                        )
                                                        name: exec
                                                        args: array(
                                                            0: Arg(
                                                                value: Scalar_String(
                                                                    value: displayProductTabContent
                                                                )
                                                                byRef: false
                                                            )
                                                            1: Arg(
                                                                value: Expr_Array(
                                                                    items: array(
                                                                        0: Expr_ArrayItem(
                                                                            key: Scalar_String(
                                                                                value: product
                                                                            )
                                                                            value: Expr_PropertyFetch(
                                                                                var: Expr_Variable(
                                                                                    name: this
                                                                                )
                                                                                name: product
                                                                            )
                                                                            byRef: false
                                                                        )
                                                                    )
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                17: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: display_qties
                                                    )
                                                    value: Expr_Cast_Int(
                                                        expr: Expr_StaticCall(
                                                            class: Name_FullyQualified(
                                                                parts: array(
                                                                    0: Configuration
                                                                )
                                                            )
                                                            name: get
                                                            args: array(
                                                                0: Arg(
                                                                    value: Scalar_String(
                                                                        value: PS_DISPLAY_QTIES
                                                                    )
                                                                    byRef: false
                                                                )
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                18: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: display_ht
                                                    )
                                                    value: Expr_BooleanNot(
                                                        expr: Expr_StaticCall(
                                                            class: Name_FullyQualified(
                                                                parts: array(
                                                                    0: Tax
                                                                )
                                                            )
                                                            name: excludeTaxeOption
                                                            args: array(
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                19: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: currencySign
                                                    )
                                                    value: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: context
                                                            )
                                                            name: currency
                                                        )
                                                        name: sign
                                                    )
                                                    byRef: false
                                                )
                                                20: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: currencyRate
                                                    )
                                                    value: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: context
                                                            )
                                                            name: currency
                                                        )
                                                        name: conversion_rate
                                                    )
                                                    byRef: false
                                                )
                                                21: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: currencyFormat
                                                    )
                                                    value: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: context
                                                            )
                                                            name: currency
                                                        )
                                                        name: format
                                                    )
                                                    byRef: false
                                                )
                                                22: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: currencyBlank
                                                    )
                                                    value: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: context
                                                            )
                                                            name: currency
                                                        )
                                                        name: blank
                                                    )
                                                    byRef: false
                                                )
                                                23: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: jqZoomEnabled
                                                    )
                                                    value: Expr_StaticCall(
                                                        class: Name_FullyQualified(
                                                            parts: array(
                                                                0: Configuration
                                                            )
                                                        )
                                                        name: get
                                                        args: array(
                                                            0: Arg(
                                                                value: Scalar_String(
                                                                    value: PS_DISPLAY_JQZOOM
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                24: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: ENT_NOQUOTES
                                                    )
                                                    value: Expr_ConstFetch(
                                                        name: Name(
                                                            parts: array(
                                                                0: ENT_NOQUOTES
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                25: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: outOfStockAllowed
                                                    )
                                                    value: Expr_Cast_Int(
                                                        expr: Expr_StaticCall(
                                                            class: Name_FullyQualified(
                                                                parts: array(
                                                                    0: Configuration
                                                                )
                                                            )
                                                            name: get
                                                            args: array(
                                                                0: Arg(
                                                                    value: Scalar_String(
                                                                        value: PS_ORDER_OUT_OF_STOCK
                                                                    )
                                                                    byRef: false
                                                                )
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_BooleanNot(
                            expr: Expr_PropertyFetch(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: errors
                            )
                        )
                    )
                    2: Expr_MethodCall(
                        var: Expr_PropertyFetch(
                            var: Expr_PropertyFetch(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: context
                            )
                            name: smarty
                        )
                        name: assign
                        args: array(
                            0: Arg(
                                value: Scalar_String(
                                    value: errors
                                )
                                byRef: false
                            )
                            1: Arg(
                                value: Expr_PropertyFetch(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: errors
                                )
                                byRef: false
                            )
                        )
                    )
                    3: Expr_MethodCall(
                        var: Expr_Variable(
                            name: this
                        )
                        name: setTemplate
                        args: array(
                            0: Arg(
                                value: Expr_Concat(
                                    left: Expr_ConstFetch(
                                        name: Name(
                                            parts: array(
                                                0: _PS_THEME_DIR_
                                            )
                                        )
                                    )
                                    right: Scalar_String(
                                        value: product.tpl
                                    )
                                )
                                byRef: false
                            )
                        )
                    )
                )
                name: initContent
            )
            7: Stmt_ClassMethod(
                type: 2
                byRef: false
                params: array(
                )
                stmts: array(
                    0: Expr_Assign(
                        var: Expr_Variable(
                            name: id_customer
                        )
                        expr: Expr_Ternary(
                            cond: Expr_Isset(
                                vars: array(
                                    0: Expr_PropertyFetch(
                                        var: Expr_PropertyFetch(
                                            var: Expr_Variable(
                                                name: this
                                            )
                                            name: context
                                        )
                                        name: customer
                                    )
                                )
                            )
                            if: Expr_Cast_Int(
                                expr: Expr_PropertyFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_PropertyFetch(
                                            var: Expr_Variable(
                                                name: this
                                            )
                                            name: context
                                        )
                                        name: customer
                                    )
                                    name: id
                                )
                            )
                            else: Scalar_LNumber(
                                value: 0
                            )
                        )
                    )
                    1: Expr_Assign(
                        var: Expr_Variable(
                            name: id_group
                        )
                        expr: Expr_Cast_Int(
                            expr: Expr_PropertyFetch(
                                var: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Group
                                        )
                                    )
                                    name: getCurrent
                                    args: array(
                                    )
                                )
                                name: id
                            )
                        )
                    )
                    2: Expr_Assign(
                        var: Expr_Variable(
                            name: id_country
                        )
                        expr: Expr_Ternary(
                            cond: Expr_Cast_Int(
                                expr: Expr_Variable(
                                    name: id_customer
                                )
                            )
                            if: Expr_StaticCall(
                                class: Name_FullyQualified(
                                    parts: array(
                                        0: Customer
                                    )
                                )
                                name: getCurrentCountry
                                args: array(
                                    0: Arg(
                                        value: Expr_Variable(
                                            name: id_customer
                                        )
                                        byRef: false
                                    )
                                )
                            )
                            else: Expr_StaticCall(
                                class: Name_FullyQualified(
                                    parts: array(
                                        0: Configuration
                                    )
                                )
                                name: get
                                args: array(
                                    0: Arg(
                                        value: Scalar_String(
                                            value: PS_COUNTRY_DEFAULT
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                    )
                    3: Expr_Assign(
                        var: Expr_Variable(
                            name: group_reduction
                        )
                        expr: Expr_StaticCall(
                            class: Name_FullyQualified(
                                parts: array(
                                    0: GroupReduction
                                )
                            )
                            name: getValueForProduct
                            args: array(
                                0: Arg(
                                    value: Expr_PropertyFetch(
                                        var: Expr_PropertyFetch(
                                            var: Expr_Variable(
                                                name: this
                                            )
                                            name: product
                                        )
                                        name: id
                                    )
                                    byRef: false
                                )
                                1: Arg(
                                    value: Expr_Variable(
                                        name: id_group
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    4: Stmt_If(
                        stmts: array(
                            0: Expr_Assign(
                                var: Expr_Variable(
                                    name: group_reduction
                                )
                                expr: Expr_Div(
                                    left: Expr_StaticCall(
                                        class: Name_FullyQualified(
                                            parts: array(
                                                0: Group
                                            )
                                        )
                                        name: getReduction
                                        args: array(
                                            0: Arg(
                                                value: Expr_Cast_Int(
                                                    expr: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: context
                                                            )
                                                            name: cookie
                                                        )
                                                        name: id_customer
                                                    )
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                    right: Scalar_LNumber(
                                        value: 100
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_Equal(
                            left: Expr_Variable(
                                name: group_reduction
                            )
                            right: Scalar_LNumber(
                                value: 0
                            )
                        )
                    )
                    5: Expr_Assign(
                        var: Expr_Variable(
                            name: tax
                        )
                        expr: Expr_Cast_Double(
                            expr: Expr_MethodCall(
                                var: Expr_PropertyFetch(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: product
                                )
                                name: getTaxesRate
                                args: array(
                                    0: Arg(
                                        value: Expr_New(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Address
                                                )
                                            )
                                            args: array(
                                                0: Arg(
                                                    value: Expr_Cast_Int(
                                                        expr: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_PropertyFetch(
                                                                    var: Expr_Variable(
                                                                        name: this
                                                                    )
                                                                    name: context
                                                                )
                                                                name: cart
                                                            )
                                                            name: Expr_StaticCall(
                                                                class: Name_FullyQualified(
                                                                    parts: array(
                                                                        0: Configuration
                                                                    )
                                                                )
                                                                name: get
                                                                args: array(
                                                                    0: Arg(
                                                                        value: Scalar_String(
                                                                            value: PS_TAX_ADDRESS_TYPE
                                                                        )
                                                                        byRef: false
                                                                    )
                                                                )
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                    )
                    6: Expr_MethodCall(
                        var: Expr_PropertyFetch(
                            var: Expr_PropertyFetch(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: context
                            )
                            name: smarty
                        )
                        name: assign
                        args: array(
                            0: Arg(
                                value: Scalar_String(
                                    value: tax_rate
                                )
                                byRef: false
                            )
                            1: Arg(
                                value: Expr_Variable(
                                    name: tax
                                )
                                byRef: false
                            )
                        )
                    )
                    7: Expr_Assign(
                        var: Expr_Variable(
                            name: product_price_with_tax
                        )
                        expr: Expr_StaticCall(
                            class: Name_FullyQualified(
                                parts: array(
                                    0: Product
                                )
                            )
                            name: getPriceStatic
                            args: array(
                                0: Arg(
                                    value: Expr_PropertyFetch(
                                        var: Expr_PropertyFetch(
                                            var: Expr_Variable(
                                                name: this
                                            )
                                            name: product
                                        )
                                        name: id
                                    )
                                    byRef: false
                                )
                                1: Arg(
                                    value: Expr_ConstFetch(
                                        name: Name(
                                            parts: array(
                                                0: true
                                            )
                                        )
                                    )
                                    byRef: false
                                )
                                2: Arg(
                                    value: Expr_ConstFetch(
                                        name: Name(
                                            parts: array(
                                                0: null
                                            )
                                        )
                                    )
                                    byRef: false
                                )
                                3: Arg(
                                    value: Scalar_LNumber(
                                        value: 6
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    8: Stmt_If(
                        stmts: array(
                            0: Expr_Assign(
                                var: Expr_Variable(
                                    name: product_price_with_tax
                                )
                                expr: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Tools
                                        )
                                    )
                                    name: ps_round
                                    args: array(
                                        0: Arg(
                                            value: Expr_Variable(
                                                name: product_price_with_tax
                                            )
                                            byRef: false
                                        )
                                        1: Arg(
                                            value: Scalar_LNumber(
                                                value: 2
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_Equal(
                            left: Expr_StaticPropertyFetch(
                                class: Name_FullyQualified(
                                    parts: array(
                                        0: Product
                                    )
                                )
                                name: _taxCalculationMethod
                            )
                            right: Expr_ConstFetch(
                                name: Name(
                                    parts: array(
                                        0: PS_TAX_INC
                                    )
                                )
                            )
                        )
                    )
                    9: Expr_Assign(
                        var: Expr_Variable(
                            name: product_price_without_eco_tax
                        )
                        expr: Expr_Minus(
                            left: Expr_Cast_Double(
                                expr: Expr_Variable(
                                    name: product_price_with_tax
                                )
                            )
                            right: Expr_PropertyFetch(
                                var: Expr_PropertyFetch(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: product
                                )
                                name: ecotax
                            )
                        )
                    )
                    10: Expr_Assign(
                        var: Expr_Variable(
                            name: ecotax_rate
                        )
                        expr: Expr_Cast_Double(
                            expr: Expr_StaticCall(
                                class: Name_FullyQualified(
                                    parts: array(
                                        0: Tax
                                    )
                                )
                                name: getProductEcotaxRate
                                args: array(
                                    0: Arg(
                                        value: Expr_PropertyFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: context
                                                )
                                                name: cart
                                            )
                                            name: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Configuration
                                                    )
                                                )
                                                name: get
                                                args: array(
                                                    0: Arg(
                                                        value: Scalar_String(
                                                            value: PS_TAX_ADDRESS_TYPE
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                    )
                    11: Expr_Assign(
                        var: Expr_Variable(
                            name: ecotax_tax_amount
                        )
                        expr: Expr_StaticCall(
                            class: Name_FullyQualified(
                                parts: array(
                                    0: Tools
                                )
                            )
                            name: ps_round
                            args: array(
                                0: Arg(
                                    value: Expr_PropertyFetch(
                                        var: Expr_PropertyFetch(
                                            var: Expr_Variable(
                                                name: this
                                            )
                                            name: product
                                        )
                                        name: ecotax
                                    )
                                    byRef: false
                                )
                                1: Arg(
                                    value: Scalar_LNumber(
                                        value: 2
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    12: Stmt_If(
                        stmts: array(
                            0: Expr_Assign(
                                var: Expr_Variable(
                                    name: ecotax_tax_amount
                                )
                                expr: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Tools
                                        )
                                    )
                                    name: ps_round
                                    args: array(
                                        0: Arg(
                                            value: Expr_Mul(
                                                left: Expr_Variable(
                                                    name: ecotax_tax_amount
                                                )
                                                right: Expr_Plus(
                                                    left: Scalar_LNumber(
                                                        value: 1
                                                    )
                                                    right: Expr_Div(
                                                        left: Expr_Variable(
                                                            name: ecotax_rate
                                                        )
                                                        right: Scalar_LNumber(
                                                            value: 100
                                                        )
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        1: Arg(
                                            value: Scalar_LNumber(
                                                value: 2
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_BooleanAnd(
                            left: Expr_Equal(
                                left: Expr_StaticPropertyFetch(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Product
                                        )
                                    )
                                    name: _taxCalculationMethod
                                )
                                right: Expr_ConstFetch(
                                    name: Name(
                                        parts: array(
                                            0: PS_TAX_INC
                                        )
                                    )
                                )
                            )
                            right: Expr_Cast_Int(
                                expr: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Configuration
                                        )
                                    )
                                    name: get
                                    args: array(
                                        0: Arg(
                                            value: Scalar_String(
                                                value: PS_TAX
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                            )
                        )
                    )
                    13: Expr_Assign(
                        var: Expr_Variable(
                            name: id_currency
                        )
                        expr: Expr_Cast_Int(
                            expr: Expr_PropertyFetch(
                                var: Expr_PropertyFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: context
                                    )
                                    name: cookie
                                )
                                name: id_currency
                            )
                        )
                    )
                    14: Expr_Assign(
                        var: Expr_Variable(
                            name: id_product
                        )
                        expr: Expr_Cast_Int(
                            expr: Expr_PropertyFetch(
                                var: Expr_PropertyFetch(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: product
                                )
                                name: id
                            )
                        )
                    )
                    15: Expr_Assign(
                        var: Expr_Variable(
                            name: id_shop
                        )
                        expr: Expr_PropertyFetch(
                            var: Expr_PropertyFetch(
                                var: Expr_PropertyFetch(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: context
                                )
                                name: shop
                            )
                            name: id
                        )
                    )
                    16: Expr_Assign(
                        var: Expr_Variable(
                            name: quantity_discounts
                        )
                        expr: Expr_StaticCall(
                            class: Name_FullyQualified(
                                parts: array(
                                    0: SpecificPrice
                                )
                            )
                            name: getQuantityDiscounts
                            args: array(
                                0: Arg(
                                    value: Expr_Variable(
                                        name: id_product
                                    )
                                    byRef: false
                                )
                                1: Arg(
                                    value: Expr_Variable(
                                        name: id_shop
                                    )
                                    byRef: false
                                )
                                2: Arg(
                                    value: Expr_Variable(
                                        name: id_currency
                                    )
                                    byRef: false
                                )
                                3: Arg(
                                    value: Expr_Variable(
                                        name: id_country
                                    )
                                    byRef: false
                                )
                                4: Arg(
                                    value: Expr_Variable(
                                        name: id_group
                                    )
                                    byRef: false
                                )
                                5: Arg(
                                    value: Expr_ConstFetch(
                                        name: Name(
                                            parts: array(
                                                0: null
                                            )
                                        )
                                    )
                                    byRef: false
                                )
                                6: Arg(
                                    value: Expr_ConstFetch(
                                        name: Name(
                                            parts: array(
                                                0: true
                                            )
                                        )
                                    )
                                    byRef: false
                                )
                                7: Arg(
                                    value: Expr_Cast_Int(
                                        expr: Expr_PropertyFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: context
                                                )
                                                name: customer
                                            )
                                            name: id
                                        )
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    17: Stmt_Foreach(
                        keyVar: null
                        byRef: true
                        stmts: array(
                            0: Stmt_If(
                                stmts: array(
                                    0: Expr_Assign(
                                        var: Expr_Variable(
                                            name: combination
                                        )
                                        expr: Expr_New(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Combination
                                                )
                                            )
                                            args: array(
                                                0: Arg(
                                                    value: Expr_Cast_Int(
                                                        expr: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: quantity_discount
                                                            )
                                                            dim: Scalar_String(
                                                                value: id_product_attribute
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                    1: Expr_Assign(
                                        var: Expr_Variable(
                                            name: attributes
                                        )
                                        expr: Expr_MethodCall(
                                            var: Expr_Variable(
                                                name: combination
                                            )
                                            name: getAttributesName
                                            args: array(
                                                0: Arg(
                                                    value: Expr_Cast_Int(
                                                        expr: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_PropertyFetch(
                                                                    var: Expr_Variable(
                                                                        name: this
                                                                    )
                                                                    name: context
                                                                )
                                                                name: language
                                                            )
                                                            name: id
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                    2: Stmt_Foreach(
                                        keyVar: null
                                        byRef: false
                                        stmts: array(
                                            0: Expr_Assign(
                                                var: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: quantity_discount
                                                    )
                                                    dim: Scalar_String(
                                                        value: attributes
                                                    )
                                                )
                                                expr: Expr_Concat(
                                                    left: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: attribute
                                                        )
                                                        dim: Scalar_String(
                                                            value: name
                                                        )
                                                    )
                                                    right: Scalar_String(
                                                        value:  - 
                                                    )
                                                )
                                            )
                                        )
                                        expr: Expr_Variable(
                                            name: attributes
                                        )
                                        valueVar: Expr_Variable(
                                            name: attribute
                                        )
                                    )
                                    3: Expr_Assign(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_Variable(
                                                name: quantity_discount
                                            )
                                            dim: Scalar_String(
                                                value: attributes
                                            )
                                        )
                                        expr: Expr_FuncCall(
                                            name: Name(
                                                parts: array(
                                                    0: rtrim
                                                )
                                            )
                                            args: array(
                                                0: Arg(
                                                    value: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: quantity_discount
                                                        )
                                                        dim: Scalar_String(
                                                            value: attributes
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                1: Arg(
                                                    value: Scalar_String(
                                                        value:  - 
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: null
                                cond: Expr_ArrayDimFetch(
                                    var: Expr_Variable(
                                        name: quantity_discount
                                    )
                                    dim: Scalar_String(
                                        value: id_product_attribute
                                    )
                                )
                            )
                        )
                        expr: Expr_Variable(
                            name: quantity_discounts
                        )
                        valueVar: Expr_Variable(
                            name: quantity_discount
                        )
                    )
                    18: Expr_Assign(
                        var: Expr_Variable(
                            name: product_price
                        )
                        expr: Expr_MethodCall(
                            var: Expr_PropertyFetch(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: product
                            )
                            name: getPrice
                            args: array(
                                0: Arg(
                                    value: Expr_Equal(
                                        left: Expr_StaticPropertyFetch(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Product
                                                )
                                            )
                                            name: _taxCalculationMethod
                                        )
                                        right: Expr_ConstFetch(
                                            name: Name(
                                                parts: array(
                                                    0: PS_TAX_INC
                                                )
                                            )
                                        )
                                    )
                                    byRef: false
                                )
                                1: Arg(
                                    value: Expr_ConstFetch(
                                        name: Name(
                                            parts: array(
                                                0: false
                                            )
                                        )
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    19: Expr_Assign(
                        var: Expr_Variable(
                            name: address
                        )
                        expr: Expr_New(
                            class: Name_FullyQualified(
                                parts: array(
                                    0: Address
                                )
                            )
                            args: array(
                                0: Arg(
                                    value: Expr_PropertyFetch(
                                        var: Expr_PropertyFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_Variable(
                                                    name: this
                                                )
                                                name: context
                                            )
                                            name: cart
                                        )
                                        name: Expr_StaticCall(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Configuration
                                                )
                                            )
                                            name: get
                                            args: array(
                                                0: Arg(
                                                    value: Scalar_String(
                                                        value: PS_TAX_ADDRESS_TYPE
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    20: Expr_MethodCall(
                        var: Expr_PropertyFetch(
                            var: Expr_PropertyFetch(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: context
                            )
                            name: smarty
                        )
                        name: assign
                        args: array(
                            0: Arg(
                                value: Expr_Array(
                                    items: array(
                                        0: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: quantity_discounts
                                            )
                                            value: Expr_MethodCall(
                                                var: Expr_Variable(
                                                    name: this
                                                )
                                                name: formatQuantityDiscounts
                                                args: array(
                                                    0: Arg(
                                                        value: Expr_Variable(
                                                            name: quantity_discounts
                                                        )
                                                        byRef: false
                                                    )
                                                    1: Arg(
                                                        value: Expr_Variable(
                                                            name: product_price
                                                        )
                                                        byRef: false
                                                    )
                                                    2: Arg(
                                                        value: Expr_Cast_Double(
                                                            expr: Expr_Variable(
                                                                name: tax
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                    3: Arg(
                                                        value: Expr_Variable(
                                                            name: ecotax_tax_amount
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        1: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: ecotax_tax_inc
                                            )
                                            value: Expr_Variable(
                                                name: ecotax_tax_amount
                                            )
                                            byRef: false
                                        )
                                        2: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: ecotax_tax_exc
                                            )
                                            value: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Tools
                                                    )
                                                )
                                                name: ps_round
                                                args: array(
                                                    0: Arg(
                                                        value: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: product
                                                            )
                                                            name: ecotax
                                                        )
                                                        byRef: false
                                                    )
                                                    1: Arg(
                                                        value: Scalar_LNumber(
                                                            value: 2
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        3: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: ecotaxTax_rate
                                            )
                                            value: Expr_Variable(
                                                name: ecotax_rate
                                            )
                                            byRef: false
                                        )
                                        4: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: productPriceWithoutEcoTax
                                            )
                                            value: Expr_Cast_Double(
                                                expr: Expr_Variable(
                                                    name: product_price_without_eco_tax
                                                )
                                            )
                                            byRef: false
                                        )
                                        5: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: group_reduction
                                            )
                                            value: Expr_Minus(
                                                left: Scalar_LNumber(
                                                    value: 1
                                                )
                                                right: Expr_Variable(
                                                    name: group_reduction
                                                )
                                            )
                                            byRef: false
                                        )
                                        6: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: no_tax
                                            )
                                            value: Expr_BooleanOr(
                                                left: Expr_StaticCall(
                                                    class: Name_FullyQualified(
                                                        parts: array(
                                                            0: Tax
                                                        )
                                                    )
                                                    name: excludeTaxeOption
                                                    args: array(
                                                    )
                                                )
                                                right: Expr_BooleanNot(
                                                    expr: Expr_MethodCall(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: product
                                                        )
                                                        name: getTaxesRate
                                                        args: array(
                                                            0: Arg(
                                                                value: Expr_Variable(
                                                                    name: address
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        7: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: ecotax
                                            )
                                            value: Expr_Ternary(
                                                cond: Expr_BooleanAnd(
                                                    left: Expr_BooleanNot(
                                                        expr: Expr_FuncCall(
                                                            name: Name(
                                                                parts: array(
                                                                    0: count
                                                                )
                                                            )
                                                            args: array(
                                                                0: Arg(
                                                                    value: Expr_PropertyFetch(
                                                                        var: Expr_Variable(
                                                                            name: this
                                                                        )
                                                                        name: errors
                                                                    )
                                                                    byRef: false
                                                                )
                                                            )
                                                        )
                                                    )
                                                    right: Expr_Greater(
                                                        left: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: product
                                                            )
                                                            name: ecotax
                                                        )
                                                        right: Scalar_LNumber(
                                                            value: 0
                                                        )
                                                    )
                                                )
                                                if: Expr_StaticCall(
                                                    class: Name_FullyQualified(
                                                        parts: array(
                                                            0: Tools
                                                        )
                                                    )
                                                    name: convertPrice
                                                    args: array(
                                                        0: Arg(
                                                            value: Expr_Cast_Double(
                                                                expr: Expr_PropertyFetch(
                                                                    var: Expr_PropertyFetch(
                                                                        var: Expr_Variable(
                                                                            name: this
                                                                        )
                                                                        name: product
                                                                    )
                                                                    name: ecotax
                                                                )
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                                else: Scalar_LNumber(
                                                    value: 0
                                                )
                                            )
                                            byRef: false
                                        )
                                        8: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: tax_enabled
                                            )
                                            value: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Configuration
                                                    )
                                                )
                                                name: get
                                                args: array(
                                                    0: Arg(
                                                        value: Scalar_String(
                                                            value: PS_TAX
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                                byRef: false
                            )
                        )
                    )
                )
                name: assignPriceAndTax
            )
            8: Stmt_ClassMethod(
                type: 2
                byRef: false
                params: array(
                )
                stmts: array(
                    0: Expr_Assign(
                        var: Expr_Variable(
                            name: images
                        )
                        expr: Expr_MethodCall(
                            var: Expr_PropertyFetch(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: product
                            )
                            name: getImages
                            args: array(
                                0: Arg(
                                    value: Expr_Cast_Int(
                                        expr: Expr_PropertyFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: context
                                                )
                                                name: cookie
                                            )
                                            name: id_lang
                                        )
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    1: Expr_Assign(
                        var: Expr_Variable(
                            name: product_images
                        )
                        expr: Expr_Array(
                            items: array(
                            )
                        )
                    )
                    2: Stmt_If(
                        stmts: array(
                            0: Expr_MethodCall(
                                var: Expr_PropertyFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: context
                                    )
                                    name: smarty
                                )
                                name: assign
                                args: array(
                                    0: Arg(
                                        value: Scalar_String(
                                            value: mainImage
                                        )
                                        byRef: false
                                    )
                                    1: Arg(
                                        value: Expr_ArrayDimFetch(
                                            var: Expr_Variable(
                                                name: images
                                            )
                                            dim: Scalar_LNumber(
                                                value: 0
                                            )
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_Isset(
                            vars: array(
                                0: Expr_ArrayDimFetch(
                                    var: Expr_Variable(
                                        name: images
                                    )
                                    dim: Scalar_LNumber(
                                        value: 0
                                    )
                                )
                            )
                        )
                    )
                    3: Stmt_Foreach(
                        keyVar: Expr_Variable(
                            name: k
                        )
                        byRef: false
                        stmts: array(
                            0: Stmt_If(
                                stmts: array(
                                    0: Expr_MethodCall(
                                        var: Expr_PropertyFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_Variable(
                                                    name: this
                                                )
                                                name: context
                                            )
                                            name: smarty
                                        )
                                        name: assign
                                        args: array(
                                            0: Arg(
                                                value: Scalar_String(
                                                    value: mainImage
                                                )
                                                byRef: false
                                            )
                                            1: Arg(
                                                value: Expr_Variable(
                                                    name: image
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                    1: Expr_Assign(
                                        var: Expr_Variable(
                                            name: cover
                                        )
                                        expr: Expr_Variable(
                                            name: image
                                        )
                                    )
                                    2: Expr_Assign(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_Variable(
                                                name: cover
                                            )
                                            dim: Scalar_String(
                                                value: id_image
                                            )
                                        )
                                        expr: Expr_Ternary(
                                            cond: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Configuration
                                                    )
                                                )
                                                name: get
                                                args: array(
                                                    0: Arg(
                                                        value: Scalar_String(
                                                            value: PS_LEGACY_IMAGES
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            if: Expr_Concat(
                                                left: Expr_Concat(
                                                    left: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: product
                                                        )
                                                        name: id
                                                    )
                                                    right: Scalar_String(
                                                        value: -
                                                    )
                                                )
                                                right: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: image
                                                    )
                                                    dim: Scalar_String(
                                                        value: id_image
                                                    )
                                                )
                                            )
                                            else: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: image
                                                )
                                                dim: Scalar_String(
                                                    value: id_image
                                                )
                                            )
                                        )
                                    )
                                    3: Expr_Assign(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_Variable(
                                                name: cover
                                            )
                                            dim: Scalar_String(
                                                value: id_image_only
                                            )
                                        )
                                        expr: Expr_Cast_Int(
                                            expr: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: image
                                                )
                                                dim: Scalar_String(
                                                    value: id_image
                                                )
                                            )
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: null
                                cond: Expr_ArrayDimFetch(
                                    var: Expr_Variable(
                                        name: image
                                    )
                                    dim: Scalar_String(
                                        value: cover
                                    )
                                )
                            )
                            1: Expr_Assign(
                                var: Expr_ArrayDimFetch(
                                    var: Expr_Variable(
                                        name: product_images
                                    )
                                    dim: Expr_Cast_Int(
                                        expr: Expr_ArrayDimFetch(
                                            var: Expr_Variable(
                                                name: image
                                            )
                                            dim: Scalar_String(
                                                value: id_image
                                            )
                                        )
                                    )
                                )
                                expr: Expr_Variable(
                                    name: image
                                )
                            )
                        )
                        expr: Expr_Variable(
                            name: images
                        )
                        valueVar: Expr_Variable(
                            name: image
                        )
                    )
                    4: Stmt_If(
                        stmts: array(
                            0: Stmt_If(
                                stmts: array(
                                    0: Expr_Assign(
                                        var: Expr_Variable(
                                            name: cover
                                        )
                                        expr: Expr_ArrayDimFetch(
                                            var: Expr_Variable(
                                                name: images
                                            )
                                            dim: Scalar_LNumber(
                                                value: 0
                                            )
                                        )
                                    )
                                    1: Expr_Assign(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_Variable(
                                                name: cover
                                            )
                                            dim: Scalar_String(
                                                value: id_image
                                            )
                                        )
                                        expr: Expr_Ternary(
                                            cond: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Configuration
                                                    )
                                                )
                                                name: get
                                                args: array(
                                                    0: Arg(
                                                        value: Scalar_String(
                                                            value: PS_LEGACY_IMAGES
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            if: Expr_Concat(
                                                left: Expr_Concat(
                                                    left: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: product
                                                        )
                                                        name: id
                                                    )
                                                    right: Scalar_String(
                                                        value: -
                                                    )
                                                )
                                                right: Expr_ArrayDimFetch(
                                                    var: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: images
                                                        )
                                                        dim: Scalar_LNumber(
                                                            value: 0
                                                        )
                                                    )
                                                    dim: Scalar_String(
                                                        value: id_image
                                                    )
                                                )
                                            )
                                            else: Expr_ArrayDimFetch(
                                                var: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: images
                                                    )
                                                    dim: Scalar_LNumber(
                                                        value: 0
                                                    )
                                                )
                                                dim: Scalar_String(
                                                    value: id_image
                                                )
                                            )
                                        )
                                    )
                                    2: Expr_Assign(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_Variable(
                                                name: cover
                                            )
                                            dim: Scalar_String(
                                                value: id_image_only
                                            )
                                        )
                                        expr: Expr_Cast_Int(
                                            expr: Expr_ArrayDimFetch(
                                                var: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: images
                                                    )
                                                    dim: Scalar_LNumber(
                                                        value: 0
                                                    )
                                                )
                                                dim: Scalar_String(
                                                    value: id_image
                                                )
                                            )
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: Stmt_Else(
                                    stmts: array(
                                        0: Expr_Assign(
                                            var: Expr_Variable(
                                                name: cover
                                            )
                                            expr: Expr_Array(
                                                items: array(
                                                    0: Expr_ArrayItem(
                                                        key: Scalar_String(
                                                            value: id_image
                                                        )
                                                        value: Expr_Concat(
                                                            left: Expr_PropertyFetch(
                                                                var: Expr_PropertyFetch(
                                                                    var: Expr_PropertyFetch(
                                                                        var: Expr_Variable(
                                                                            name: this
                                                                        )
                                                                        name: context
                                                                    )
                                                                    name: language
                                                                )
                                                                name: iso_code
                                                            )
                                                            right: Scalar_String(
                                                                value: -default
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                    1: Expr_ArrayItem(
                                                        key: Scalar_String(
                                                            value: legend
                                                        )
                                                        value: Scalar_String(
                                                            value: No picture
                                                        )
                                                        byRef: false
                                                    )
                                                    2: Expr_ArrayItem(
                                                        key: Scalar_String(
                                                            value: title
                                                        )
                                                        value: Scalar_String(
                                                            value: No picture
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                        )
                                    )
                                )
                                cond: Expr_Isset(
                                    vars: array(
                                        0: Expr_ArrayDimFetch(
                                            var: Expr_Variable(
                                                name: images
                                            )
                                            dim: Scalar_LNumber(
                                                value: 0
                                            )
                                        )
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_BooleanNot(
                            expr: Expr_Isset(
                                vars: array(
                                    0: Expr_Variable(
                                        name: cover
                                    )
                                )
                            )
                        )
                    )
                    5: Expr_Assign(
                        var: Expr_Variable(
                            name: size
                        )
                        expr: Expr_StaticCall(
                            class: Name_FullyQualified(
                                parts: array(
                                    0: Image
                                )
                            )
                            name: getSize
                            args: array(
                                0: Arg(
                                    value: Expr_StaticCall(
                                        class: Name_FullyQualified(
                                            parts: array(
                                                0: ImageType
                                            )
                                        )
                                        name: getFormatedName
                                        args: array(
                                            0: Arg(
                                                value: Scalar_String(
                                                    value: large
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    6: Expr_MethodCall(
                        var: Expr_PropertyFetch(
                            var: Expr_PropertyFetch(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: context
                            )
                            name: smarty
                        )
                        name: assign
                        args: array(
                            0: Arg(
                                value: Expr_Array(
                                    items: array(
                                        0: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: have_image
                                            )
                                            value: Expr_Ternary(
                                                cond: Expr_Isset(
                                                    vars: array(
                                                        0: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: cover
                                                            )
                                                            dim: Scalar_String(
                                                                value: id_image
                                                            )
                                                        )
                                                    )
                                                )
                                                if: Expr_Array(
                                                    items: array(
                                                        0: Expr_ArrayItem(
                                                            key: null
                                                            value: Expr_Cast_Int(
                                                                expr: Expr_ArrayDimFetch(
                                                                    var: Expr_Variable(
                                                                        name: cover
                                                                    )
                                                                    dim: Scalar_String(
                                                                        value: id_image
                                                                    )
                                                                )
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                                else: Expr_StaticCall(
                                                    class: Name_FullyQualified(
                                                        parts: array(
                                                            0: Product
                                                        )
                                                    )
                                                    name: getCover
                                                    args: array(
                                                        0: Arg(
                                                            value: Expr_Cast_Int(
                                                                expr: Expr_StaticCall(
                                                                    class: Name_FullyQualified(
                                                                        parts: array(
                                                                            0: Tools
                                                                        )
                                                                    )
                                                                    name: getValue
                                                                    args: array(
                                                                        0: Arg(
                                                                            value: Scalar_String(
                                                                                value: id_product
                                                                            )
                                                                            byRef: false
                                                                        )
                                                                    )
                                                                )
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        1: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: cover
                                            )
                                            value: Expr_Variable(
                                                name: cover
                                            )
                                            byRef: false
                                        )
                                        2: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: imgWidth
                                            )
                                            value: Expr_Cast_Int(
                                                expr: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: size
                                                    )
                                                    dim: Scalar_String(
                                                        value: width
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        3: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: mediumSize
                                            )
                                            value: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Image
                                                    )
                                                )
                                                name: getSize
                                                args: array(
                                                    0: Arg(
                                                        value: Expr_StaticCall(
                                                            class: Name_FullyQualified(
                                                                parts: array(
                                                                    0: ImageType
                                                                )
                                                            )
                                                            name: getFormatedName
                                                            args: array(
                                                                0: Arg(
                                                                    value: Scalar_String(
                                                                        value: medium
                                                                    )
                                                                    byRef: false
                                                                )
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        4: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: largeSize
                                            )
                                            value: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Image
                                                    )
                                                )
                                                name: getSize
                                                args: array(
                                                    0: Arg(
                                                        value: Expr_StaticCall(
                                                            class: Name_FullyQualified(
                                                                parts: array(
                                                                    0: ImageType
                                                                )
                                                            )
                                                            name: getFormatedName
                                                            args: array(
                                                                0: Arg(
                                                                    value: Scalar_String(
                                                                        value: large
                                                                    )
                                                                    byRef: false
                                                                )
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        5: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: homeSize
                                            )
                                            value: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Image
                                                    )
                                                )
                                                name: getSize
                                                args: array(
                                                    0: Arg(
                                                        value: Expr_StaticCall(
                                                            class: Name_FullyQualified(
                                                                parts: array(
                                                                    0: ImageType
                                                                )
                                                            )
                                                            name: getFormatedName
                                                            args: array(
                                                                0: Arg(
                                                                    value: Scalar_String(
                                                                        value: home
                                                                    )
                                                                    byRef: false
                                                                )
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        6: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: col_img_dir
                                            )
                                            value: Expr_ConstFetch(
                                                name: Name(
                                                    parts: array(
                                                        0: _PS_COL_IMG_DIR_
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                                byRef: false
                            )
                        )
                    )
                    7: Stmt_If(
                        stmts: array(
                            0: Expr_MethodCall(
                                var: Expr_PropertyFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: context
                                    )
                                    name: smarty
                                )
                                name: assign
                                args: array(
                                    0: Arg(
                                        value: Scalar_String(
                                            value: images
                                        )
                                        byRef: false
                                    )
                                    1: Arg(
                                        value: Expr_Variable(
                                            name: product_images
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_FuncCall(
                            name: Name(
                                parts: array(
                                    0: count
                                )
                            )
                            args: array(
                                0: Arg(
                                    value: Expr_Variable(
                                        name: product_images
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                )
                name: assignImages
            )
            9: Stmt_ClassMethod(
                type: 2
                byRef: false
                params: array(
                )
                stmts: array(
                    0: Expr_Assign(
                        var: Expr_Variable(
                            name: colors
                        )
                        expr: Expr_Array(
                            items: array(
                            )
                        )
                    )
                    1: Expr_Assign(
                        var: Expr_Variable(
                            name: groups
                        )
                        expr: Expr_Array(
                            items: array(
                            )
                        )
                    )
                    2: Expr_Assign(
                        var: Expr_Variable(
                            name: attributes_groups
                        )
                        expr: Expr_MethodCall(
                            var: Expr_PropertyFetch(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: product
                            )
                            name: getAttributesGroups
                            args: array(
                                0: Arg(
                                    value: Expr_PropertyFetch(
                                        var: Expr_PropertyFetch(
                                            var: Expr_PropertyFetch(
                                                var: Expr_Variable(
                                                    name: this
                                                )
                                                name: context
                                            )
                                            name: language
                                        )
                                        name: id
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    3: Stmt_If(
                        stmts: array(
                            0: Expr_Assign(
                                var: Expr_Variable(
                                    name: combination_images
                                )
                                expr: Expr_MethodCall(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: product
                                    )
                                    name: getCombinationImages
                                    args: array(
                                        0: Arg(
                                            value: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: language
                                                )
                                                name: id
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                            )
                            1: Expr_Assign(
                                var: Expr_Variable(
                                    name: combination_prices_set
                                )
                                expr: Expr_Array(
                                    items: array(
                                    )
                                )
                            )
                            2: Stmt_Foreach(
                                keyVar: Expr_Variable(
                                    name: k
                                )
                                byRef: false
                                stmts: array(
                                    0: Stmt_If(
                                        stmts: array(
                                            0: Expr_Assign(
                                                var: Expr_ArrayDimFetch(
                                                    var: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: colors
                                                        )
                                                        dim: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: row
                                                            )
                                                            dim: Scalar_String(
                                                                value: id_attribute
                                                            )
                                                        )
                                                    )
                                                    dim: Scalar_String(
                                                        value: value
                                                    )
                                                )
                                                expr: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: row
                                                    )
                                                    dim: Scalar_String(
                                                        value: attribute_color
                                                    )
                                                )
                                            )
                                            1: Expr_Assign(
                                                var: Expr_ArrayDimFetch(
                                                    var: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: colors
                                                        )
                                                        dim: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: row
                                                            )
                                                            dim: Scalar_String(
                                                                value: id_attribute
                                                            )
                                                        )
                                                    )
                                                    dim: Scalar_String(
                                                        value: name
                                                    )
                                                )
                                                expr: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: row
                                                    )
                                                    dim: Scalar_String(
                                                        value: attribute_name
                                                    )
                                                )
                                            )
                                            2: Stmt_If(
                                                stmts: array(
                                                    0: Expr_Assign(
                                                        var: Expr_ArrayDimFetch(
                                                            var: Expr_ArrayDimFetch(
                                                                var: Expr_Variable(
                                                                    name: colors
                                                                )
                                                                dim: Expr_ArrayDimFetch(
                                                                    var: Expr_Variable(
                                                                        name: row
                                                                    )
                                                                    dim: Scalar_String(
                                                                        value: id_attribute
                                                                    )
                                                                )
                                                            )
                                                            dim: Scalar_String(
                                                                value: attributes_quantity
                                                            )
                                                        )
                                                        expr: Scalar_LNumber(
                                                            value: 0
                                                        )
                                                    )
                                                )
                                                elseifs: array(
                                                )
                                                else: null
                                                cond: Expr_BooleanNot(
                                                    expr: Expr_Isset(
                                                        vars: array(
                                                            0: Expr_ArrayDimFetch(
                                                                var: Expr_ArrayDimFetch(
                                                                    var: Expr_Variable(
                                                                        name: colors
                                                                    )
                                                                    dim: Expr_ArrayDimFetch(
                                                                        var: Expr_Variable(
                                                                            name: row
                                                                        )
                                                                        dim: Scalar_String(
                                                                            value: id_attribute
                                                                        )
                                                                    )
                                                                )
                                                                dim: Scalar_String(
                                                                    value: attributes_quantity
                                                                )
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                            3: Expr_AssignPlus(
                                                var: Expr_ArrayDimFetch(
                                                    var: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: colors
                                                        )
                                                        dim: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: row
                                                            )
                                                            dim: Scalar_String(
                                                                value: id_attribute
                                                            )
                                                        )
                                                    )
                                                    dim: Scalar_String(
                                                        value: attributes_quantity
                                                    )
                                                )
                                                expr: Expr_Cast_Int(
                                                    expr: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: row
                                                        )
                                                        dim: Scalar_String(
                                                            value: quantity
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                        elseifs: array(
                                        )
                                        else: null
                                        cond: Expr_BooleanOr(
                                            left: Expr_BooleanAnd(
                                                left: Expr_Isset(
                                                    vars: array(
                                                        0: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: row
                                                            )
                                                            dim: Scalar_String(
                                                                value: attribute_color
                                                            )
                                                        )
                                                    )
                                                )
                                                right: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: row
                                                    )
                                                    dim: Scalar_String(
                                                        value: attribute_color
                                                    )
                                                )
                                            )
                                            right: Expr_FuncCall(
                                                name: Name(
                                                    parts: array(
                                                        0: file_exists
                                                    )
                                                )
                                                args: array(
                                                    0: Arg(
                                                        value: Expr_Concat(
                                                            left: Expr_Concat(
                                                                left: Expr_ConstFetch(
                                                                    name: Name(
                                                                        parts: array(
                                                                            0: _PS_COL_IMG_DIR_
                                                                        )
                                                                    )
                                                                )
                                                                right: Expr_ArrayDimFetch(
                                                                    var: Expr_Variable(
                                                                        name: row
                                                                    )
                                                                    dim: Scalar_String(
                                                                        value: id_attribute
                                                                    )
                                                                )
                                                            )
                                                            right: Scalar_String(
                                                                value: .jpg
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                        )
                                    )
                                    1: Stmt_If(
                                        stmts: array(
                                            0: Expr_Assign(
                                                var: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: groups
                                                    )
                                                    dim: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: row
                                                        )
                                                        dim: Scalar_String(
                                                            value: id_attribute_group
                                                        )
                                                    )
                                                )
                                                expr: Expr_Array(
                                                    items: array(
                                                        0: Expr_ArrayItem(
                                                            key: Scalar_String(
                                                                value: name
                                                            )
                                                            value: Expr_ArrayDimFetch(
                                                                var: Expr_Variable(
                                                                    name: row
                                                                )
                                                                dim: Scalar_String(
                                                                    value: public_group_name
                                                                )
                                                            )
                                                            byRef: false
                                                        )
                                                        1: Expr_ArrayItem(
                                                            key: Scalar_String(
                                                                value: group_type
                                                            )
                                                            value: Expr_ArrayDimFetch(
                                                                var: Expr_Variable(
                                                                    name: row
                                                                )
                                                                dim: Scalar_String(
                                                                    value: group_type
                                                                )
                                                            )
                                                            byRef: false
                                                        )
                                                        2: Expr_ArrayItem(
                                                            key: Scalar_String(
                                                                value: default
                                                            )
                                                            value: Expr_UnaryMinus(
                                                                expr: Scalar_LNumber(
                                                                    value: 1
                                                                )
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                        elseifs: array(
                                        )
                                        else: null
                                        cond: Expr_BooleanNot(
                                            expr: Expr_Isset(
                                                vars: array(
                                                    0: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: groups
                                                        )
                                                        dim: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: row
                                                            )
                                                            dim: Scalar_String(
                                                                value: id_attribute_group
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                    )
                                    2: Expr_Assign(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_ArrayDimFetch(
                                                var: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: groups
                                                    )
                                                    dim: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: row
                                                        )
                                                        dim: Scalar_String(
                                                            value: id_attribute_group
                                                        )
                                                    )
                                                )
                                                dim: Scalar_String(
                                                    value: attributes
                                                )
                                            )
                                            dim: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: row
                                                )
                                                dim: Scalar_String(
                                                    value: id_attribute
                                                )
                                            )
                                        )
                                        expr: Expr_ArrayDimFetch(
                                            var: Expr_Variable(
                                                name: row
                                            )
                                            dim: Scalar_String(
                                                value: attribute_name
                                            )
                                        )
                                    )
                                    3: Stmt_If(
                                        stmts: array(
                                            0: Expr_Assign(
                                                var: Expr_ArrayDimFetch(
                                                    var: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: groups
                                                        )
                                                        dim: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: row
                                                            )
                                                            dim: Scalar_String(
                                                                value: id_attribute_group
                                                            )
                                                        )
                                                    )
                                                    dim: Scalar_String(
                                                        value: default
                                                    )
                                                )
                                                expr: Expr_Cast_Int(
                                                    expr: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: row
                                                        )
                                                        dim: Scalar_String(
                                                            value: id_attribute
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                        elseifs: array(
                                        )
                                        else: null
                                        cond: Expr_BooleanAnd(
                                            left: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: row
                                                )
                                                dim: Scalar_String(
                                                    value: default_on
                                                )
                                            )
                                            right: Expr_Equal(
                                                left: Expr_ArrayDimFetch(
                                                    var: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: groups
                                                        )
                                                        dim: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: row
                                                            )
                                                            dim: Scalar_String(
                                                                value: id_attribute_group
                                                            )
                                                        )
                                                    )
                                                    dim: Scalar_String(
                                                        value: default
                                                    )
                                                )
                                                right: Expr_UnaryMinus(
                                                    expr: Scalar_LNumber(
                                                        value: 1
                                                    )
                                                )
                                            )
                                        )
                                    )
                                    4: Stmt_If(
                                        stmts: array(
                                            0: Expr_Assign(
                                                var: Expr_ArrayDimFetch(
                                                    var: Expr_ArrayDimFetch(
                                                        var: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: groups
                                                            )
                                                            dim: Expr_ArrayDimFetch(
                                                                var: Expr_Variable(
                                                                    name: row
                                                                )
                                                                dim: Scalar_String(
                                                                    value: id_attribute_group
                                                                )
                                                            )
                                                        )
                                                        dim: Scalar_String(
                                                            value: attributes_quantity
                                                        )
                                                    )
                                                    dim: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: row
                                                        )
                                                        dim: Scalar_String(
                                                            value: id_attribute
                                                        )
                                                    )
                                                )
                                                expr: Scalar_LNumber(
                                                    value: 0
                                                )
                                            )
                                        )
                                        elseifs: array(
                                        )
                                        else: null
                                        cond: Expr_BooleanNot(
                                            expr: Expr_Isset(
                                                vars: array(
                                                    0: Expr_ArrayDimFetch(
                                                        var: Expr_ArrayDimFetch(
                                                            var: Expr_ArrayDimFetch(
                                                                var: Expr_Variable(
                                                                    name: groups
                                                                )
                                                                dim: Expr_ArrayDimFetch(
                                                                    var: Expr_Variable(
                                                                        name: row
                                                                    )
                                                                    dim: Scalar_String(
                                                                        value: id_attribute_group
                                                                    )
                                                                )
                                                            )
                                                            dim: Scalar_String(
                                                                value: attributes_quantity
                                                            )
                                                        )
                                                        dim: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: row
                                                            )
                                                            dim: Scalar_String(
                                                                value: id_attribute
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                    )
                                    5: Expr_AssignPlus(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_ArrayDimFetch(
                                                var: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: groups
                                                    )
                                                    dim: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: row
                                                        )
                                                        dim: Scalar_String(
                                                            value: id_attribute_group
                                                        )
                                                    )
                                                )
                                                dim: Scalar_String(
                                                    value: attributes_quantity
                                                )
                                            )
                                            dim: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: row
                                                )
                                                dim: Scalar_String(
                                                    value: id_attribute
                                                )
                                            )
                                        )
                                        expr: Expr_Cast_Int(
                                            expr: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: row
                                                )
                                                dim: Scalar_String(
                                                    value: quantity
                                                )
                                            )
                                        )
                                    )
                                    6: Expr_Assign(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_ArrayDimFetch(
                                                var: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: combinations
                                                    )
                                                    dim: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: row
                                                        )
                                                        dim: Scalar_String(
                                                            value: id_product_attribute
                                                        )
                                                    )
                                                )
                                                dim: Scalar_String(
                                                    value: attributes_values
                                                )
                                            )
                                            dim: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: row
                                                )
                                                dim: Scalar_String(
                                                    value: id_attribute_group
                                                )
                                            )
                                        )
                                        expr: Expr_ArrayDimFetch(
                                            var: Expr_Variable(
                                                name: row
                                            )
                                            dim: Scalar_String(
                                                value: attribute_name
                                            )
                                        )
                                    )
                                    7: Expr_Assign(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_ArrayDimFetch(
                                                var: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: combinations
                                                    )
                                                    dim: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: row
                                                        )
                                                        dim: Scalar_String(
                                                            value: id_product_attribute
                                                        )
                                                    )
                                                )
                                                dim: Scalar_String(
                                                    value: attributes
                                                )
                                            )
                                            dim: null
                                        )
                                        expr: Expr_Cast_Int(
                                            expr: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: row
                                                )
                                                dim: Scalar_String(
                                                    value: id_attribute
                                                )
                                            )
                                        )
                                    )
                                    8: Expr_Assign(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: combinations
                                                )
                                                dim: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: row
                                                    )
                                                    dim: Scalar_String(
                                                        value: id_product_attribute
                                                    )
                                                )
                                            )
                                            dim: Scalar_String(
                                                value: price
                                            )
                                        )
                                        expr: Expr_Cast_Double(
                                            expr: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: row
                                                )
                                                dim: Scalar_String(
                                                    value: price
                                                )
                                            )
                                        )
                                    )
                                    9: Stmt_If(
                                        stmts: array(
                                            0: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Product
                                                    )
                                                )
                                                name: getPriceStatic
                                                args: array(
                                                    0: Arg(
                                                        value: Expr_Cast_Int(
                                                            expr: Expr_PropertyFetch(
                                                                var: Expr_PropertyFetch(
                                                                    var: Expr_Variable(
                                                                        name: this
                                                                    )
                                                                    name: product
                                                                )
                                                                name: id
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                    1: Arg(
                                                        value: Expr_ConstFetch(
                                                            name: Name(
                                                                parts: array(
                                                                    0: false
                                                                )
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                    2: Arg(
                                                        value: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: row
                                                            )
                                                            dim: Scalar_String(
                                                                value: id_product_attribute
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                    3: Arg(
                                                        value: Scalar_LNumber(
                                                            value: 6
                                                        )
                                                        byRef: false
                                                    )
                                                    4: Arg(
                                                        value: Expr_ConstFetch(
                                                            name: Name(
                                                                parts: array(
                                                                    0: null
                                                                )
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                    5: Arg(
                                                        value: Expr_ConstFetch(
                                                            name: Name(
                                                                parts: array(
                                                                    0: false
                                                                )
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                    6: Arg(
                                                        value: Expr_ConstFetch(
                                                            name: Name(
                                                                parts: array(
                                                                    0: true
                                                                )
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                    7: Arg(
                                                        value: Scalar_LNumber(
                                                            value: 1
                                                        )
                                                        byRef: false
                                                    )
                                                    8: Arg(
                                                        value: Expr_ConstFetch(
                                                            name: Name(
                                                                parts: array(
                                                                    0: false
                                                                )
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                    9: Arg(
                                                        value: Expr_ConstFetch(
                                                            name: Name(
                                                                parts: array(
                                                                    0: null
                                                                )
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                    10: Arg(
                                                        value: Expr_ConstFetch(
                                                            name: Name(
                                                                parts: array(
                                                                    0: null
                                                                )
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                    11: Arg(
                                                        value: Expr_ConstFetch(
                                                            name: Name(
                                                                parts: array(
                                                                    0: null
                                                                )
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                    12: Arg(
                                                        value: Expr_Variable(
                                                            name: combination_specific_price
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            1: Expr_Assign(
                                                var: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: combination_prices_set
                                                    )
                                                    dim: Expr_Cast_Int(
                                                        expr: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: row
                                                            )
                                                            dim: Scalar_String(
                                                                value: id_product_attribute
                                                            )
                                                        )
                                                    )
                                                )
                                                expr: Expr_ConstFetch(
                                                    name: Name(
                                                        parts: array(
                                                            0: true
                                                        )
                                                    )
                                                )
                                            )
                                            2: Expr_Assign(
                                                var: Expr_ArrayDimFetch(
                                                    var: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: combinations
                                                        )
                                                        dim: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: row
                                                            )
                                                            dim: Scalar_String(
                                                                value: id_product_attribute
                                                            )
                                                        )
                                                    )
                                                    dim: Scalar_String(
                                                        value: specific_price
                                                    )
                                                )
                                                expr: Expr_Variable(
                                                    name: combination_specific_price
                                                )
                                            )
                                        )
                                        elseifs: array(
                                        )
                                        else: null
                                        cond: Expr_BooleanNot(
                                            expr: Expr_Isset(
                                                vars: array(
                                                    0: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: combination_prices_set
                                                        )
                                                        dim: Expr_Cast_Int(
                                                            expr: Expr_ArrayDimFetch(
                                                                var: Expr_Variable(
                                                                    name: row
                                                                )
                                                                dim: Scalar_String(
                                                                    value: id_product_attribute
                                                                )
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                    )
                                    10: Expr_Assign(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: combinations
                                                )
                                                dim: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: row
                                                    )
                                                    dim: Scalar_String(
                                                        value: id_product_attribute
                                                    )
                                                )
                                            )
                                            dim: Scalar_String(
                                                value: ecotax
                                            )
                                        )
                                        expr: Expr_Cast_Double(
                                            expr: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: row
                                                )
                                                dim: Scalar_String(
                                                    value: ecotax
                                                )
                                            )
                                        )
                                    )
                                    11: Expr_Assign(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: combinations
                                                )
                                                dim: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: row
                                                    )
                                                    dim: Scalar_String(
                                                        value: id_product_attribute
                                                    )
                                                )
                                            )
                                            dim: Scalar_String(
                                                value: weight
                                            )
                                        )
                                        expr: Expr_Cast_Double(
                                            expr: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: row
                                                )
                                                dim: Scalar_String(
                                                    value: weight
                                                )
                                            )
                                        )
                                    )
                                    12: Expr_Assign(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: combinations
                                                )
                                                dim: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: row
                                                    )
                                                    dim: Scalar_String(
                                                        value: id_product_attribute
                                                    )
                                                )
                                            )
                                            dim: Scalar_String(
                                                value: quantity
                                            )
                                        )
                                        expr: Expr_Cast_Int(
                                            expr: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: row
                                                )
                                                dim: Scalar_String(
                                                    value: quantity
                                                )
                                            )
                                        )
                                    )
                                    13: Expr_Assign(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: combinations
                                                )
                                                dim: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: row
                                                    )
                                                    dim: Scalar_String(
                                                        value: id_product_attribute
                                                    )
                                                )
                                            )
                                            dim: Scalar_String(
                                                value: reference
                                            )
                                        )
                                        expr: Expr_ArrayDimFetch(
                                            var: Expr_Variable(
                                                name: row
                                            )
                                            dim: Scalar_String(
                                                value: reference
                                            )
                                        )
                                    )
                                    14: Expr_Assign(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: combinations
                                                )
                                                dim: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: row
                                                    )
                                                    dim: Scalar_String(
                                                        value: id_product_attribute
                                                    )
                                                )
                                            )
                                            dim: Scalar_String(
                                                value: unit_impact
                                            )
                                        )
                                        expr: Expr_ArrayDimFetch(
                                            var: Expr_Variable(
                                                name: row
                                            )
                                            dim: Scalar_String(
                                                value: unit_price_impact
                                            )
                                        )
                                    )
                                    15: Expr_Assign(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: combinations
                                                )
                                                dim: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: row
                                                    )
                                                    dim: Scalar_String(
                                                        value: id_product_attribute
                                                    )
                                                )
                                            )
                                            dim: Scalar_String(
                                                value: minimal_quantity
                                            )
                                        )
                                        expr: Expr_ArrayDimFetch(
                                            var: Expr_Variable(
                                                name: row
                                            )
                                            dim: Scalar_String(
                                                value: minimal_quantity
                                            )
                                        )
                                    )
                                    16: Stmt_If(
                                        stmts: array(
                                            0: Expr_Assign(
                                                var: Expr_ArrayDimFetch(
                                                    var: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: combinations
                                                        )
                                                        dim: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: row
                                                            )
                                                            dim: Scalar_String(
                                                                value: id_product_attribute
                                                            )
                                                        )
                                                    )
                                                    dim: Scalar_String(
                                                        value: available_date
                                                    )
                                                )
                                                expr: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: row
                                                    )
                                                    dim: Scalar_String(
                                                        value: available_date
                                                    )
                                                )
                                            )
                                        )
                                        elseifs: array(
                                        )
                                        else: Stmt_Else(
                                            stmts: array(
                                                0: Expr_Assign(
                                                    var: Expr_ArrayDimFetch(
                                                        var: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: combinations
                                                            )
                                                            dim: Expr_ArrayDimFetch(
                                                                var: Expr_Variable(
                                                                    name: row
                                                                )
                                                                dim: Scalar_String(
                                                                    value: id_product_attribute
                                                                )
                                                            )
                                                        )
                                                        dim: Scalar_String(
                                                            value: available_date
                                                        )
                                                    )
                                                    expr: Scalar_String(
                                                        value: 
                                                    )
                                                )
                                            )
                                        )
                                        cond: Expr_NotEqual(
                                            left: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: row
                                                )
                                                dim: Scalar_String(
                                                    value: available_date
                                                )
                                            )
                                            right: Scalar_String(
                                                value: 0000-00-00
                                            )
                                        )
                                    )
                                    17: Stmt_If(
                                        stmts: array(
                                            0: Expr_Assign(
                                                var: Expr_ArrayDimFetch(
                                                    var: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: combinations
                                                        )
                                                        dim: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: row
                                                            )
                                                            dim: Scalar_String(
                                                                value: id_product_attribute
                                                            )
                                                        )
                                                    )
                                                    dim: Scalar_String(
                                                        value: id_image
                                                    )
                                                )
                                                expr: Expr_UnaryMinus(
                                                    expr: Scalar_LNumber(
                                                        value: 1
                                                    )
                                                )
                                            )
                                        )
                                        elseifs: array(
                                        )
                                        else: Stmt_Else(
                                            stmts: array(
                                                0: Expr_Assign(
                                                    var: Expr_ArrayDimFetch(
                                                        var: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: combinations
                                                            )
                                                            dim: Expr_ArrayDimFetch(
                                                                var: Expr_Variable(
                                                                    name: row
                                                                )
                                                                dim: Scalar_String(
                                                                    value: id_product_attribute
                                                                )
                                                            )
                                                        )
                                                        dim: Scalar_String(
                                                            value: id_image
                                                        )
                                                    )
                                                    expr: Expr_Assign(
                                                        var: Expr_Variable(
                                                            name: id_image
                                                        )
                                                        expr: Expr_Cast_Int(
                                                            expr: Expr_ArrayDimFetch(
                                                                var: Expr_ArrayDimFetch(
                                                                    var: Expr_ArrayDimFetch(
                                                                        var: Expr_Variable(
                                                                            name: combination_images
                                                                        )
                                                                        dim: Expr_ArrayDimFetch(
                                                                            var: Expr_Variable(
                                                                                name: row
                                                                            )
                                                                            dim: Scalar_String(
                                                                                value: id_product_attribute
                                                                            )
                                                                        )
                                                                    )
                                                                    dim: Scalar_LNumber(
                                                                        value: 0
                                                                    )
                                                                )
                                                                dim: Scalar_String(
                                                                    value: id_image
                                                                )
                                                            )
                                                        )
                                                    )
                                                )
                                                1: Stmt_If(
                                                    stmts: array(
                                                        0: Stmt_If(
                                                            stmts: array(
                                                                0: Expr_Assign(
                                                                    var: Expr_Variable(
                                                                        name: product_images
                                                                    )
                                                                    expr: Expr_PropertyFetch(
                                                                        var: Expr_ArrayDimFetch(
                                                                            var: Expr_PropertyFetch(
                                                                                var: Expr_PropertyFetch(
                                                                                    var: Expr_PropertyFetch(
                                                                                        var: Expr_Variable(
                                                                                            name: this
                                                                                        )
                                                                                        name: context
                                                                                    )
                                                                                    name: smarty
                                                                                )
                                                                                name: tpl_vars
                                                                            )
                                                                            dim: Scalar_String(
                                                                                value: images
                                                                            )
                                                                        )
                                                                        name: value
                                                                    )
                                                                )
                                                            )
                                                            elseifs: array(
                                                            )
                                                            else: null
                                                            cond: Expr_Isset(
                                                                vars: array(
                                                                    0: Expr_PropertyFetch(
                                                                        var: Expr_ArrayDimFetch(
                                                                            var: Expr_PropertyFetch(
                                                                                var: Expr_PropertyFetch(
                                                                                    var: Expr_PropertyFetch(
                                                                                        var: Expr_Variable(
                                                                                            name: this
                                                                                        )
                                                                                        name: context
                                                                                    )
                                                                                    name: smarty
                                                                                )
                                                                                name: tpl_vars
                                                                            )
                                                                            dim: Scalar_String(
                                                                                value: images
                                                                            )
                                                                        )
                                                                        name: value
                                                                    )
                                                                )
                                                            )
                                                        )
                                                        1: Stmt_If(
                                                            stmts: array(
                                                                0: Expr_Assign(
                                                                    var: Expr_ArrayDimFetch(
                                                                        var: Expr_ArrayDimFetch(
                                                                            var: Expr_Variable(
                                                                                name: product_images
                                                                            )
                                                                            dim: Expr_Variable(
                                                                                name: id_image
                                                                            )
                                                                        )
                                                                        dim: Scalar_String(
                                                                            value: cover
                                                                        )
                                                                    )
                                                                    expr: Scalar_LNumber(
                                                                        value: 1
                                                                    )
                                                                )
                                                                1: Expr_MethodCall(
                                                                    var: Expr_PropertyFetch(
                                                                        var: Expr_PropertyFetch(
                                                                            var: Expr_Variable(
                                                                                name: this
                                                                            )
                                                                            name: context
                                                                        )
                                                                        name: smarty
                                                                    )
                                                                    name: assign
                                                                    args: array(
                                                                        0: Arg(
                                                                            value: Scalar_String(
                                                                                value: mainImage
                                                                            )
                                                                            byRef: false
                                                                        )
                                                                        1: Arg(
                                                                            value: Expr_ArrayDimFetch(
                                                                                var: Expr_Variable(
                                                                                    name: product_images
                                                                                )
                                                                                dim: Expr_Variable(
                                                                                    name: id_image
                                                                                )
                                                                            )
                                                                            byRef: false
                                                                        )
                                                                    )
                                                                )
                                                                2: Stmt_If(
                                                                    stmts: array(
                                                                        0: Expr_MethodCall(
                                                                            var: Expr_PropertyFetch(
                                                                                var: Expr_PropertyFetch(
                                                                                    var: Expr_Variable(
                                                                                        name: this
                                                                                    )
                                                                                    name: context
                                                                                )
                                                                                name: smarty
                                                                            )
                                                                            name: assign
                                                                            args: array(
                                                                                0: Arg(
                                                                                    value: Scalar_String(
                                                                                        value: images
                                                                                    )
                                                                                    byRef: false
                                                                                )
                                                                                1: Arg(
                                                                                    value: Expr_Variable(
                                                                                        name: product_images
                                                                                    )
                                                                                    byRef: false
                                                                                )
                                                                            )
                                                                        )
                                                                    )
                                                                    elseifs: array(
                                                                    )
                                                                    else: null
                                                                    cond: Expr_FuncCall(
                                                                        name: Name(
                                                                            parts: array(
                                                                                0: count
                                                                            )
                                                                        )
                                                                        args: array(
                                                                            0: Arg(
                                                                                value: Expr_Variable(
                                                                                    name: product_images
                                                                                )
                                                                                byRef: false
                                                                            )
                                                                        )
                                                                    )
                                                                )
                                                            )
                                                            elseifs: array(
                                                            )
                                                            else: null
                                                            cond: Expr_BooleanAnd(
                                                                left: Expr_BooleanAnd(
                                                                    left: Expr_Isset(
                                                                        vars: array(
                                                                            0: Expr_Variable(
                                                                                name: product_images
                                                                            )
                                                                        )
                                                                    )
                                                                    right: Expr_FuncCall(
                                                                        name: Name(
                                                                            parts: array(
                                                                                0: is_array
                                                                            )
                                                                        )
                                                                        args: array(
                                                                            0: Arg(
                                                                                value: Expr_Variable(
                                                                                    name: product_images
                                                                                )
                                                                                byRef: false
                                                                            )
                                                                        )
                                                                    )
                                                                )
                                                                right: Expr_Isset(
                                                                    vars: array(
                                                                        0: Expr_ArrayDimFetch(
                                                                            var: Expr_Variable(
                                                                                name: product_images
                                                                            )
                                                                            dim: Expr_Variable(
                                                                                name: id_image
                                                                            )
                                                                        )
                                                                    )
                                                                )
                                                            )
                                                        )
                                                        2: Stmt_If(
                                                            stmts: array(
                                                                0: Expr_Assign(
                                                                    var: Expr_Variable(
                                                                        name: cover
                                                                    )
                                                                    expr: Expr_PropertyFetch(
                                                                        var: Expr_ArrayDimFetch(
                                                                            var: Expr_PropertyFetch(
                                                                                var: Expr_PropertyFetch(
                                                                                    var: Expr_PropertyFetch(
                                                                                        var: Expr_Variable(
                                                                                            name: this
                                                                                        )
                                                                                        name: context
                                                                                    )
                                                                                    name: smarty
                                                                                )
                                                                                name: tpl_vars
                                                                            )
                                                                            dim: Scalar_String(
                                                                                value: cover
                                                                            )
                                                                        )
                                                                        name: value
                                                                    )
                                                                )
                                                            )
                                                            elseifs: array(
                                                            )
                                                            else: null
                                                            cond: Expr_Isset(
                                                                vars: array(
                                                                    0: Expr_PropertyFetch(
                                                                        var: Expr_ArrayDimFetch(
                                                                            var: Expr_PropertyFetch(
                                                                                var: Expr_PropertyFetch(
                                                                                    var: Expr_PropertyFetch(
                                                                                        var: Expr_Variable(
                                                                                            name: this
                                                                                        )
                                                                                        name: context
                                                                                    )
                                                                                    name: smarty
                                                                                )
                                                                                name: tpl_vars
                                                                            )
                                                                            dim: Scalar_String(
                                                                                value: cover
                                                                            )
                                                                        )
                                                                        name: value
                                                                    )
                                                                )
                                                            )
                                                        )
                                                        3: Stmt_If(
                                                            stmts: array(
                                                                0: Expr_Assign(
                                                                    var: Expr_ArrayDimFetch(
                                                                        var: Expr_ArrayDimFetch(
                                                                            var: Expr_Variable(
                                                                                name: product_images
                                                                            )
                                                                            dim: Expr_ArrayDimFetch(
                                                                                var: Expr_Variable(
                                                                                    name: cover
                                                                                )
                                                                                dim: Scalar_String(
                                                                                    value: id_image
                                                                                )
                                                                            )
                                                                        )
                                                                        dim: Scalar_String(
                                                                            value: cover
                                                                        )
                                                                    )
                                                                    expr: Scalar_LNumber(
                                                                        value: 0
                                                                    )
                                                                )
                                                                1: Stmt_If(
                                                                    stmts: array(
                                                                        0: Expr_Assign(
                                                                            var: Expr_Variable(
                                                                                name: cover
                                                                            )
                                                                            expr: Expr_ArrayDimFetch(
                                                                                var: Expr_Variable(
                                                                                    name: product_images
                                                                                )
                                                                                dim: Expr_Variable(
                                                                                    name: id_image
                                                                                )
                                                                            )
                                                                        )
                                                                    )
                                                                    elseifs: array(
                                                                    )
                                                                    else: null
                                                                    cond: Expr_Isset(
                                                                        vars: array(
                                                                            0: Expr_ArrayDimFetch(
                                                                                var: Expr_Variable(
                                                                                    name: product_images
                                                                                )
                                                                                dim: Expr_Variable(
                                                                                    name: id_image
                                                                                )
                                                                            )
                                                                        )
                                                                    )
                                                                )
                                                                2: Expr_Assign(
                                                                    var: Expr_ArrayDimFetch(
                                                                        var: Expr_Variable(
                                                                            name: cover
                                                                        )
                                                                        dim: Scalar_String(
                                                                            value: id_image
                                                                        )
                                                                    )
                                                                    expr: Expr_Ternary(
                                                                        cond: Expr_StaticCall(
                                                                            class: Name_FullyQualified(
                                                                                parts: array(
                                                                                    0: Configuration
                                                                                )
                                                                            )
                                                                            name: get
                                                                            args: array(
                                                                                0: Arg(
                                                                                    value: Scalar_String(
                                                                                        value: PS_LEGACY_IMAGES
                                                                                    )
                                                                                    byRef: false
                                                                                )
                                                                            )
                                                                        )
                                                                        if: Expr_Concat(
                                                                            left: Expr_Concat(
                                                                                left: Expr_PropertyFetch(
                                                                                    var: Expr_PropertyFetch(
                                                                                        var: Expr_Variable(
                                                                                            name: this
                                                                                        )
                                                                                        name: product
                                                                                    )
                                                                                    name: id
                                                                                )
                                                                                right: Scalar_String(
                                                                                    value: -
                                                                                )
                                                                            )
                                                                            right: Expr_Variable(
                                                                                name: id_image
                                                                            )
                                                                        )
                                                                        else: Expr_Cast_Int(
                                                                            expr: Expr_Variable(
                                                                                name: id_image
                                                                            )
                                                                        )
                                                                    )
                                                                )
                                                                3: Expr_Assign(
                                                                    var: Expr_ArrayDimFetch(
                                                                        var: Expr_Variable(
                                                                            name: cover
                                                                        )
                                                                        dim: Scalar_String(
                                                                            value: id_image_only
                                                                        )
                                                                    )
                                                                    expr: Expr_Cast_Int(
                                                                        expr: Expr_Variable(
                                                                            name: id_image
                                                                        )
                                                                    )
                                                                )
                                                                4: Expr_MethodCall(
                                                                    var: Expr_PropertyFetch(
                                                                        var: Expr_PropertyFetch(
                                                                            var: Expr_Variable(
                                                                                name: this
                                                                            )
                                                                            name: context
                                                                        )
                                                                        name: smarty
                                                                    )
                                                                    name: assign
                                                                    args: array(
                                                                        0: Arg(
                                                                            value: Scalar_String(
                                                                                value: cover
                                                                            )
                                                                            byRef: false
                                                                        )
                                                                        1: Arg(
                                                                            value: Expr_Variable(
                                                                                name: cover
                                                                            )
                                                                            byRef: false
                                                                        )
                                                                    )
                                                                )
                                                            )
                                                            elseifs: array(
                                                            )
                                                            else: null
                                                            cond: Expr_BooleanAnd(
                                                                left: Expr_BooleanAnd(
                                                                    left: Expr_BooleanAnd(
                                                                        left: Expr_Isset(
                                                                            vars: array(
                                                                                0: Expr_Variable(
                                                                                    name: cover
                                                                                )
                                                                            )
                                                                        )
                                                                        right: Expr_FuncCall(
                                                                            name: Name(
                                                                                parts: array(
                                                                                    0: is_array
                                                                                )
                                                                            )
                                                                            args: array(
                                                                                0: Arg(
                                                                                    value: Expr_Variable(
                                                                                        name: cover
                                                                                    )
                                                                                    byRef: false
                                                                                )
                                                                            )
                                                                        )
                                                                    )
                                                                    right: Expr_Isset(
                                                                        vars: array(
                                                                            0: Expr_Variable(
                                                                                name: product_images
                                                                            )
                                                                        )
                                                                    )
                                                                )
                                                                right: Expr_FuncCall(
                                                                    name: Name(
                                                                        parts: array(
                                                                            0: is_array
                                                                        )
                                                                    )
                                                                    args: array(
                                                                        0: Arg(
                                                                            value: Expr_Variable(
                                                                                name: product_images
                                                                            )
                                                                            byRef: false
                                                                        )
                                                                    )
                                                                )
                                                            )
                                                        )
                                                    )
                                                    elseifs: array(
                                                    )
                                                    else: null
                                                    cond: Expr_BooleanAnd(
                                                        left: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: row
                                                            )
                                                            dim: Scalar_String(
                                                                value: default_on
                                                            )
                                                        )
                                                        right: Expr_Greater(
                                                            left: Expr_Variable(
                                                                name: id_image
                                                            )
                                                            right: Scalar_LNumber(
                                                                value: 0
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                        cond: Expr_BooleanNot(
                                            expr: Expr_Isset(
                                                vars: array(
                                                    0: Expr_ArrayDimFetch(
                                                        var: Expr_ArrayDimFetch(
                                                            var: Expr_ArrayDimFetch(
                                                                var: Expr_Variable(
                                                                    name: combination_images
                                                                )
                                                                dim: Expr_ArrayDimFetch(
                                                                    var: Expr_Variable(
                                                                        name: row
                                                                    )
                                                                    dim: Scalar_String(
                                                                        value: id_product_attribute
                                                                    )
                                                                )
                                                            )
                                                            dim: Scalar_LNumber(
                                                                value: 0
                                                            )
                                                        )
                                                        dim: Scalar_String(
                                                            value: id_image
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                    )
                                )
                                expr: Expr_Variable(
                                    name: attributes_groups
                                )
                                valueVar: Expr_Variable(
                                    name: row
                                )
                            )
                            3: Stmt_If(
                                stmts: array(
                                    0: Stmt_Foreach(
                                        keyVar: null
                                        byRef: true
                                        stmts: array(
                                            0: Stmt_Foreach(
                                                keyVar: Expr_Variable(
                                                    name: key
                                                )
                                                byRef: true
                                                stmts: array(
                                                    0: Stmt_If(
                                                        stmts: array(
                                                            0: Stmt_Unset(
                                                                vars: array(
                                                                    0: Expr_ArrayDimFetch(
                                                                        var: Expr_ArrayDimFetch(
                                                                            var: Expr_Variable(
                                                                                name: group
                                                                            )
                                                                            dim: Scalar_String(
                                                                                value: attributes
                                                                            )
                                                                        )
                                                                        dim: Expr_Variable(
                                                                            name: key
                                                                        )
                                                                    )
                                                                )
                                                            )
                                                        )
                                                        elseifs: array(
                                                        )
                                                        else: null
                                                        cond: Expr_BooleanNot(
                                                            expr: Expr_Variable(
                                                                name: quantity
                                                            )
                                                        )
                                                    )
                                                )
                                                expr: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: group
                                                    )
                                                    dim: Scalar_String(
                                                        value: attributes_quantity
                                                    )
                                                )
                                                valueVar: Expr_Variable(
                                                    name: quantity
                                                )
                                            )
                                        )
                                        expr: Expr_Variable(
                                            name: groups
                                        )
                                        valueVar: Expr_Variable(
                                            name: group
                                        )
                                    )
                                    1: Stmt_Foreach(
                                        keyVar: Expr_Variable(
                                            name: key
                                        )
                                        byRef: false
                                        stmts: array(
                                            0: Stmt_If(
                                                stmts: array(
                                                    0: Stmt_Unset(
                                                        vars: array(
                                                            0: Expr_ArrayDimFetch(
                                                                var: Expr_Variable(
                                                                    name: colors
                                                                )
                                                                dim: Expr_Variable(
                                                                    name: key
                                                                )
                                                            )
                                                        )
                                                    )
                                                )
                                                elseifs: array(
                                                )
                                                else: null
                                                cond: Expr_BooleanNot(
                                                    expr: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: color
                                                        )
                                                        dim: Scalar_String(
                                                            value: attributes_quantity
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                        expr: Expr_Variable(
                                            name: colors
                                        )
                                        valueVar: Expr_Variable(
                                            name: color
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: null
                                cond: Expr_BooleanAnd(
                                    left: Expr_BooleanNot(
                                        expr: Expr_StaticCall(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Product
                                                )
                                            )
                                            name: isAvailableWhenOutOfStock
                                            args: array(
                                                0: Arg(
                                                    value: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: product
                                                        )
                                                        name: out_of_stock
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                    right: Expr_Equal(
                                        left: Expr_StaticCall(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Configuration
                                                )
                                            )
                                            name: get
                                            args: array(
                                                0: Arg(
                                                    value: Scalar_String(
                                                        value: PS_DISP_UNAVAILABLE_ATTR
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                        right: Scalar_LNumber(
                                            value: 0
                                        )
                                    )
                                )
                            )
                            4: Stmt_Foreach(
                                keyVar: Expr_Variable(
                                    name: id_product_attribute
                                )
                                byRef: false
                                stmts: array(
                                    0: Expr_Assign(
                                        var: Expr_Variable(
                                            name: attribute_list
                                        )
                                        expr: Scalar_String(
                                            value: 
                                        )
                                    )
                                    1: Stmt_Foreach(
                                        keyVar: null
                                        byRef: false
                                        stmts: array(
                                            0: Expr_AssignConcat(
                                                var: Expr_Variable(
                                                    name: attribute_list
                                                )
                                                expr: Expr_Concat(
                                                    left: Expr_Concat(
                                                        left: Scalar_String(
                                                            value: '
                                                        )
                                                        right: Expr_Cast_Int(
                                                            expr: Expr_Variable(
                                                                name: id_attribute
                                                            )
                                                        )
                                                    )
                                                    right: Scalar_String(
                                                        value: ',
                                                    )
                                                )
                                            )
                                        )
                                        expr: Expr_ArrayDimFetch(
                                            var: Expr_Variable(
                                                name: comb
                                            )
                                            dim: Scalar_String(
                                                value: attributes
                                            )
                                        )
                                        valueVar: Expr_Variable(
                                            name: id_attribute
                                        )
                                    )
                                    2: Expr_Assign(
                                        var: Expr_Variable(
                                            name: attribute_list
                                        )
                                        expr: Expr_FuncCall(
                                            name: Name(
                                                parts: array(
                                                    0: rtrim
                                                )
                                            )
                                            args: array(
                                                0: Arg(
                                                    value: Expr_Variable(
                                                        name: attribute_list
                                                    )
                                                    byRef: false
                                                )
                                                1: Arg(
                                                    value: Scalar_String(
                                                        value: ,
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                    3: Expr_Assign(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: combinations
                                                )
                                                dim: Expr_Variable(
                                                    name: id_product_attribute
                                                )
                                            )
                                            dim: Scalar_String(
                                                value: list
                                            )
                                        )
                                        expr: Expr_Variable(
                                            name: attribute_list
                                        )
                                    )
                                )
                                expr: Expr_Variable(
                                    name: combinations
                                )
                                valueVar: Expr_Variable(
                                    name: comb
                                )
                            )
                            5: Expr_MethodCall(
                                var: Expr_PropertyFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: context
                                    )
                                    name: smarty
                                )
                                name: assign
                                args: array(
                                    0: Arg(
                                        value: Expr_Array(
                                            items: array(
                                                0: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: groups
                                                    )
                                                    value: Expr_Variable(
                                                        name: groups
                                                    )
                                                    byRef: false
                                                )
                                                1: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: combinations
                                                    )
                                                    value: Expr_Variable(
                                                        name: combinations
                                                    )
                                                    byRef: false
                                                )
                                                2: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: colors
                                                    )
                                                    value: Expr_Ternary(
                                                        cond: Expr_FuncCall(
                                                            name: Name(
                                                                parts: array(
                                                                    0: count
                                                                )
                                                            )
                                                            args: array(
                                                                0: Arg(
                                                                    value: Expr_Variable(
                                                                        name: colors
                                                                    )
                                                                    byRef: false
                                                                )
                                                            )
                                                        )
                                                        if: Expr_Variable(
                                                            name: colors
                                                        )
                                                        else: Expr_ConstFetch(
                                                            name: Name(
                                                                parts: array(
                                                                    0: false
                                                                )
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                3: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: combinationImages
                                                    )
                                                    value: Expr_Variable(
                                                        name: combination_images
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_BooleanAnd(
                            left: Expr_FuncCall(
                                name: Name(
                                    parts: array(
                                        0: is_array
                                    )
                                )
                                args: array(
                                    0: Arg(
                                        value: Expr_Variable(
                                            name: attributes_groups
                                        )
                                        byRef: false
                                    )
                                )
                            )
                            right: Expr_Variable(
                                name: attributes_groups
                            )
                        )
                    )
                )
                name: assignAttributesGroups
            )
            10: Stmt_ClassMethod(
                type: 2
                byRef: false
                params: array(
                )
                stmts: array(
                    0: Expr_Assign(
                        var: Expr_Variable(
                            name: attributes_combinations
                        )
                        expr: Expr_StaticCall(
                            class: Name_FullyQualified(
                                parts: array(
                                    0: Product
                                )
                            )
                            name: getAttributesInformationsByProduct
                            args: array(
                                0: Arg(
                                    value: Expr_PropertyFetch(
                                        var: Expr_PropertyFetch(
                                            var: Expr_Variable(
                                                name: this
                                            )
                                            name: product
                                        )
                                        name: id
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    1: Stmt_If(
                        stmts: array(
                            0: Stmt_Foreach(
                                keyVar: null
                                byRef: true
                                stmts: array(
                                    0: Stmt_Foreach(
                                        keyVar: null
                                        byRef: true
                                        stmts: array(
                                            0: Expr_Assign(
                                                var: Expr_Variable(
                                                    name: val
                                                )
                                                expr: Expr_FuncCall(
                                                    name: Name(
                                                        parts: array(
                                                            0: str_replace
                                                        )
                                                    )
                                                    args: array(
                                                        0: Arg(
                                                            value: Scalar_String(
                                                                value: -
                                                            )
                                                            byRef: false
                                                        )
                                                        1: Arg(
                                                            value: Scalar_String(
                                                                value: _
                                                            )
                                                            byRef: false
                                                        )
                                                        2: Arg(
                                                            value: Expr_StaticCall(
                                                                class: Name_FullyQualified(
                                                                    parts: array(
                                                                        0: Tools
                                                                    )
                                                                )
                                                                name: link_rewrite
                                                                args: array(
                                                                    0: Arg(
                                                                        value: Expr_FuncCall(
                                                                            name: Name(
                                                                                parts: array(
                                                                                    0: str_replace
                                                                                )
                                                                            )
                                                                            args: array(
                                                                                0: Arg(
                                                                                    value: Expr_Array(
                                                                                        items: array(
                                                                                            0: Expr_ArrayItem(
                                                                                                key: null
                                                                                                value: Scalar_String(
                                                                                                    value: ,
                                                                                                )
                                                                                                byRef: false
                                                                                            )
                                                                                            1: Expr_ArrayItem(
                                                                                                key: null
                                                                                                value: Scalar_String(
                                                                                                    value: .
                                                                                                )
                                                                                                byRef: false
                                                                                            )
                                                                                        )
                                                                                    )
                                                                                    byRef: false
                                                                                )
                                                                                1: Arg(
                                                                                    value: Scalar_String(
                                                                                        value: -
                                                                                    )
                                                                                    byRef: false
                                                                                )
                                                                                2: Arg(
                                                                                    value: Expr_Variable(
                                                                                        name: val
                                                                                    )
                                                                                    byRef: false
                                                                                )
                                                                            )
                                                                        )
                                                                        byRef: false
                                                                    )
                                                                )
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                        expr: Expr_Variable(
                                            name: ac
                                        )
                                        valueVar: Expr_Variable(
                                            name: val
                                        )
                                    )
                                )
                                expr: Expr_Variable(
                                    name: attributes_combinations
                                )
                                valueVar: Expr_Variable(
                                    name: ac
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: Stmt_Else(
                            stmts: array(
                                0: Expr_Assign(
                                    var: Expr_Variable(
                                        name: attributes_combinations
                                    )
                                    expr: Expr_Array(
                                        items: array(
                                        )
                                    )
                                )
                            )
                        )
                        cond: Expr_BooleanAnd(
                            left: Expr_FuncCall(
                                name: Name(
                                    parts: array(
                                        0: is_array
                                    )
                                )
                                args: array(
                                    0: Arg(
                                        value: Expr_Variable(
                                            name: attributes_combinations
                                        )
                                        byRef: false
                                    )
                                )
                            )
                            right: Expr_FuncCall(
                                name: Name(
                                    parts: array(
                                        0: count
                                    )
                                )
                                args: array(
                                    0: Arg(
                                        value: Expr_Variable(
                                            name: attributes_combinations
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                    )
                    2: Expr_MethodCall(
                        var: Expr_PropertyFetch(
                            var: Expr_PropertyFetch(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: context
                            )
                            name: smarty
                        )
                        name: assign
                        args: array(
                            0: Arg(
                                value: Scalar_String(
                                    value: attributesCombinations
                                )
                                byRef: false
                            )
                            1: Arg(
                                value: Expr_Variable(
                                    name: attributes_combinations
                                )
                                byRef: false
                            )
                        )
                    )
                )
                name: assignAttributesCombinations
            )
            11: Stmt_ClassMethod(
                type: 2
                byRef: false
                params: array(
                )
                stmts: array(
                    0: Stmt_If(
                        stmts: array(
                            0: Expr_Assign(
                                var: Expr_Variable(
                                    name: path
                                )
                                expr: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Tools
                                        )
                                    )
                                    name: getPath
                                    args: array(
                                        0: Arg(
                                            value: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: category
                                                )
                                                name: id
                                            )
                                            byRef: false
                                        )
                                        1: Arg(
                                            value: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: product
                                                )
                                                name: name
                                            )
                                            byRef: false
                                        )
                                        2: Arg(
                                            value: Expr_ConstFetch(
                                                name: Name(
                                                    parts: array(
                                                        0: true
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                            )
                            1: Expr_MethodCall(
                                var: Expr_PropertyFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: context
                                    )
                                    name: smarty
                                )
                                name: assign
                                args: array(
                                    0: Arg(
                                        value: Expr_Array(
                                            items: array(
                                                0: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: category
                                                    )
                                                    value: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: category
                                                    )
                                                    byRef: false
                                                )
                                                1: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: subCategories
                                                    )
                                                    value: Expr_MethodCall(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: category
                                                        )
                                                        name: getSubCategories
                                                        args: array(
                                                            0: Arg(
                                                                value: Expr_PropertyFetch(
                                                                    var: Expr_PropertyFetch(
                                                                        var: Expr_PropertyFetch(
                                                                            var: Expr_Variable(
                                                                                name: this
                                                                            )
                                                                            name: context
                                                                        )
                                                                        name: language
                                                                    )
                                                                    name: id
                                                                )
                                                                byRef: false
                                                            )
                                                            1: Arg(
                                                                value: Expr_ConstFetch(
                                                                    name: Name(
                                                                        parts: array(
                                                                            0: true
                                                                        )
                                                                    )
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                2: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: id_category_current
                                                    )
                                                    value: Expr_Cast_Int(
                                                        expr: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: category
                                                            )
                                                            name: id
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                3: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: id_category_parent
                                                    )
                                                    value: Expr_Cast_Int(
                                                        expr: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: category
                                                            )
                                                            name: id_parent
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                4: Expr_ArrayItem(
                                                    key: Scalar_String(
                                                        value: return_category_name
                                                    )
                                                    value: Expr_StaticCall(
                                                        class: Name_FullyQualified(
                                                            parts: array(
                                                                0: Tools
                                                            )
                                                        )
                                                        name: safeOutput
                                                        args: array(
                                                            0: Arg(
                                                                value: Expr_PropertyFetch(
                                                                    var: Expr_PropertyFetch(
                                                                        var: Expr_Variable(
                                                                            name: this
                                                                        )
                                                                        name: category
                                                                    )
                                                                    name: name
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                        elseifs: array(
                            0: Stmt_ElseIf(
                                cond: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Category
                                        )
                                    )
                                    name: inShopStatic
                                    args: array(
                                        0: Arg(
                                            value: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: product
                                                )
                                                name: id_category_default
                                            )
                                            byRef: false
                                        )
                                        1: Arg(
                                            value: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: context
                                                )
                                                name: shop
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                                stmts: array(
                                    0: Expr_Assign(
                                        var: Expr_Variable(
                                            name: cat_default
                                        )
                                        expr: Expr_New(
                                            class: Name_FullyQualified(
                                                parts: array(
                                                    0: Category
                                                )
                                            )
                                            args: array(
                                                0: Arg(
                                                    value: Expr_Cast_Int(
                                                        expr: Expr_PropertyFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: product
                                                            )
                                                            name: id_category_default
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                    1: Stmt_If(
                                        stmts: array(
                                            0: Expr_Assign(
                                                var: Expr_Variable(
                                                    name: path
                                                )
                                                expr: Expr_StaticCall(
                                                    class: Name_FullyQualified(
                                                        parts: array(
                                                            0: Tools
                                                        )
                                                    )
                                                    name: getPath
                                                    args: array(
                                                        0: Arg(
                                                            value: Expr_Cast_Int(
                                                                expr: Expr_PropertyFetch(
                                                                    var: Expr_PropertyFetch(
                                                                        var: Expr_Variable(
                                                                            name: this
                                                                        )
                                                                        name: product
                                                                    )
                                                                    name: id_category_default
                                                                )
                                                            )
                                                            byRef: false
                                                        )
                                                        1: Arg(
                                                            value: Expr_PropertyFetch(
                                                                var: Expr_PropertyFetch(
                                                                    var: Expr_Variable(
                                                                        name: this
                                                                    )
                                                                    name: product
                                                                )
                                                                name: name
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                        elseifs: array(
                                        )
                                        else: null
                                        cond: Expr_BooleanAnd(
                                            left: Expr_BooleanAnd(
                                                left: Expr_StaticCall(
                                                    class: Name_FullyQualified(
                                                        parts: array(
                                                            0: Validate
                                                        )
                                                    )
                                                    name: isLoadedObject
                                                    args: array(
                                                        0: Arg(
                                                            value: Expr_Variable(
                                                                name: cat_default
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                                right: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: cat_default
                                                    )
                                                    name: active
                                                )
                                            )
                                            right: Expr_MethodCall(
                                                var: Expr_Variable(
                                                    name: cat_default
                                                )
                                                name: isAssociatedToShop
                                                args: array(
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        )
                        else: null
                        cond: Expr_BooleanAnd(
                            left: Expr_BooleanAnd(
                                left: Expr_BooleanAnd(
                                    left: Expr_NotIdentical(
                                        left: Expr_PropertyFetch(
                                            var: Expr_Variable(
                                                name: this
                                            )
                                            name: category
                                        )
                                        right: Expr_ConstFetch(
                                            name: Name(
                                                parts: array(
                                                    0: false
                                                )
                                            )
                                        )
                                    )
                                    right: Expr_StaticCall(
                                        class: Name_FullyQualified(
                                            parts: array(
                                                0: Validate
                                            )
                                        )
                                        name: isLoadedObject
                                        args: array(
                                            0: Arg(
                                                value: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: category
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                )
                                right: Expr_MethodCall(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: category
                                    )
                                    name: inShop
                                    args: array(
                                    )
                                )
                            )
                            right: Expr_MethodCall(
                                var: Expr_PropertyFetch(
                                    var: Expr_Variable(
                                        name: this
                                    )
                                    name: category
                                )
                                name: isAssociatedToShop
                                args: array(
                                )
                            )
                        )
                    )
                    1: Stmt_If(
                        stmts: array(
                            0: Expr_Assign(
                                var: Expr_Variable(
                                    name: path
                                )
                                expr: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Tools
                                        )
                                    )
                                    name: getPath
                                    args: array(
                                        0: Arg(
                                            value: Expr_Cast_Int(
                                                expr: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: context
                                                        )
                                                        name: shop
                                                    )
                                                    name: id_category
                                                )
                                            )
                                            byRef: false
                                        )
                                        1: Arg(
                                            value: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: product
                                                )
                                                name: name
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_BooleanOr(
                            left: Expr_BooleanNot(
                                expr: Expr_Isset(
                                    vars: array(
                                        0: Expr_Variable(
                                            name: path
                                        )
                                    )
                                )
                            )
                            right: Expr_BooleanNot(
                                expr: Expr_Variable(
                                    name: path
                                )
                            )
                        )
                    )
                    2: Expr_MethodCall(
                        var: Expr_PropertyFetch(
                            var: Expr_PropertyFetch(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: context
                            )
                            name: smarty
                        )
                        name: assign
                        args: array(
                            0: Arg(
                                value: Scalar_String(
                                    value: path
                                )
                                byRef: false
                            )
                            1: Arg(
                                value: Expr_Variable(
                                    name: path
                                )
                                byRef: false
                            )
                        )
                    )
                    3: Expr_MethodCall(
                        var: Expr_PropertyFetch(
                            var: Expr_PropertyFetch(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: context
                            )
                            name: smarty
                        )
                        name: assign
                        args: array(
                            0: Arg(
                                value: Scalar_String(
                                    value: categories
                                )
                                byRef: false
                            )
                            1: Arg(
                                value: Expr_StaticCall(
                                    class: Name_FullyQualified(
                                        parts: array(
                                            0: Category
                                        )
                                    )
                                    name: getHomeCategories
                                    args: array(
                                        0: Arg(
                                            value: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: context
                                                    )
                                                    name: language
                                                )
                                                name: id
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                                byRef: false
                            )
                        )
                    )
                    4: Expr_MethodCall(
                        var: Expr_PropertyFetch(
                            var: Expr_PropertyFetch(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: context
                            )
                            name: smarty
                        )
                        name: assign
                        args: array(
                            0: Arg(
                                value: Expr_Array(
                                    items: array(
                                        0: Expr_ArrayItem(
                                            key: Scalar_String(
                                                value: HOOK_PRODUCT_FOOTER
                                            )
                                            value: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Hook
                                                    )
                                                )
                                                name: exec
                                                args: array(
                                                    0: Arg(
                                                        value: Scalar_String(
                                                            value: displayFooterProduct
                                                        )
                                                        byRef: false
                                                    )
                                                    1: Arg(
                                                        value: Expr_Array(
                                                            items: array(
                                                                0: Expr_ArrayItem(
                                                                    key: Scalar_String(
                                                                        value: product
                                                                    )
                                                                    value: Expr_PropertyFetch(
                                                                        var: Expr_Variable(
                                                                            name: this
                                                                        )
                                                                        name: product
                                                                    )
                                                                    byRef: false
                                                                )
                                                                1: Expr_ArrayItem(
                                                                    key: Scalar_String(
                                                                        value: category
                                                                    )
                                                                    value: Expr_PropertyFetch(
                                                                        var: Expr_Variable(
                                                                            name: this
                                                                        )
                                                                        name: category
                                                                    )
                                                                    byRef: false
                                                                )
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                                byRef: false
                            )
                        )
                    )
                )
                name: assignCategory
            )
            12: Stmt_ClassMethod(
                type: 2
                byRef: false
                params: array(
                    0: Param(
                        name: desc
                        default: null
                        type: null
                        byRef: false
                    )
                )
                stmts: array(
                    0: Expr_Assign(
                        var: Expr_Variable(
                            name: reg
                        )
                        expr: Scalar_String(
                            value: /\[img\-([0-9]+)\-(left|right)\-([a-zA-Z0-9-_]+)\]/
                        )
                    )
                    1: Stmt_While(
                        cond: Expr_FuncCall(
                            name: Name(
                                parts: array(
                                    0: preg_match
                                )
                            )
                            args: array(
                                0: Arg(
                                    value: Expr_Variable(
                                        name: reg
                                    )
                                    byRef: false
                                )
                                1: Arg(
                                    value: Expr_Variable(
                                        name: desc
                                    )
                                    byRef: false
                                )
                                2: Arg(
                                    value: Expr_Variable(
                                        name: matches
                                    )
                                    byRef: false
                                )
                            )
                        )
                        stmts: array(
                            0: Expr_Assign(
                                var: Expr_Variable(
                                    name: link_lmg
                                )
                                expr: Expr_MethodCall(
                                    var: Expr_PropertyFetch(
                                        var: Expr_PropertyFetch(
                                            var: Expr_Variable(
                                                name: this
                                            )
                                            name: context
                                        )
                                        name: link
                                    )
                                    name: getImageLink
                                    args: array(
                                        0: Arg(
                                            value: Expr_PropertyFetch(
                                                var: Expr_PropertyFetch(
                                                    var: Expr_Variable(
                                                        name: this
                                                    )
                                                    name: product
                                                )
                                                name: link_rewrite
                                            )
                                            byRef: false
                                        )
                                        1: Arg(
                                            value: Expr_Concat(
                                                left: Expr_Concat(
                                                    left: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: product
                                                        )
                                                        name: id
                                                    )
                                                    right: Scalar_String(
                                                        value: -
                                                    )
                                                )
                                                right: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: matches
                                                    )
                                                    dim: Scalar_LNumber(
                                                        value: 1
                                                    )
                                                )
                                            )
                                            byRef: false
                                        )
                                        2: Arg(
                                            value: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: matches
                                                )
                                                dim: Scalar_LNumber(
                                                    value: 3
                                                )
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                            )
                            1: Expr_Assign(
                                var: Expr_Variable(
                                    name: class
                                )
                                expr: Expr_Ternary(
                                    cond: Expr_Equal(
                                        left: Expr_ArrayDimFetch(
                                            var: Expr_Variable(
                                                name: matches
                                            )
                                            dim: Scalar_LNumber(
                                                value: 2
                                            )
                                        )
                                        right: Scalar_String(
                                            value: left
                                        )
                                    )
                                    if: Scalar_String(
                                        value: class="imageFloatLeft"
                                    )
                                    else: Scalar_String(
                                        value: class="imageFloatRight"
                                    )
                                )
                            )
                            2: Expr_Assign(
                                var: Expr_Variable(
                                    name: html_img
                                )
                                expr: Expr_Concat(
                                    left: Expr_Concat(
                                        left: Expr_Concat(
                                            left: Expr_Concat(
                                                left: Scalar_String(
                                                    value: <img src="
                                                )
                                                right: Expr_Variable(
                                                    name: link_lmg
                                                )
                                            )
                                            right: Scalar_String(
                                                value: " alt="" 
                                            )
                                        )
                                        right: Expr_Variable(
                                            name: class
                                        )
                                    )
                                    right: Scalar_String(
                                        value: />
                                    )
                                )
                            )
                            3: Expr_Assign(
                                var: Expr_Variable(
                                    name: desc
                                )
                                expr: Expr_FuncCall(
                                    name: Name(
                                        parts: array(
                                            0: str_replace
                                        )
                                    )
                                    args: array(
                                        0: Arg(
                                            value: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: matches
                                                )
                                                dim: Scalar_LNumber(
                                                    value: 0
                                                )
                                            )
                                            byRef: false
                                        )
                                        1: Arg(
                                            value: Expr_Variable(
                                                name: html_img
                                            )
                                            byRef: false
                                        )
                                        2: Arg(
                                            value: Expr_Variable(
                                                name: desc
                                            )
                                            byRef: false
                                        )
                                    )
                                )
                            )
                        )
                    )
                    2: Stmt_Return(
                        expr: Expr_Variable(
                            name: desc
                        )
                    )
                )
                name: transformDescriptionWithImg
            )
            13: Stmt_ClassMethod(
                type: 2
                byRef: false
                params: array(
                )
                stmts: array(
                    0: Stmt_If(
                        stmts: array(
                            0: Stmt_Return(
                                expr: Expr_ConstFetch(
                                    name: Name(
                                        parts: array(
                                            0: false
                                        )
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_BooleanNot(
                            expr: Expr_Assign(
                                var: Expr_Variable(
                                    name: field_ids
                                )
                                expr: Expr_MethodCall(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: product
                                    )
                                    name: getCustomizationFieldIds
                                    args: array(
                                    )
                                )
                            )
                        )
                    )
                    1: Expr_Assign(
                        var: Expr_Variable(
                            name: authorized_file_fields
                        )
                        expr: Expr_Array(
                            items: array(
                            )
                        )
                    )
                    2: Stmt_Foreach(
                        keyVar: null
                        byRef: false
                        stmts: array(
                            0: Stmt_If(
                                stmts: array(
                                    0: Expr_Assign(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_Variable(
                                                name: authorized_file_fields
                                            )
                                            dim: Expr_Cast_Int(
                                                expr: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: field_id
                                                    )
                                                    dim: Scalar_String(
                                                        value: id_customization_field
                                                    )
                                                )
                                            )
                                        )
                                        expr: Expr_Concat(
                                            left: Scalar_String(
                                                value: file
                                            )
                                            right: Expr_Cast_Int(
                                                expr: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: field_id
                                                    )
                                                    dim: Scalar_String(
                                                        value: id_customization_field
                                                    )
                                                )
                                            )
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: null
                                cond: Expr_Equal(
                                    left: Expr_ArrayDimFetch(
                                        var: Expr_Variable(
                                            name: field_id
                                        )
                                        dim: Scalar_String(
                                            value: type
                                        )
                                    )
                                    right: Expr_ClassConstFetch(
                                        class: Name_FullyQualified(
                                            parts: array(
                                                0: Product
                                            )
                                        )
                                        name: CUSTOMIZE_FILE
                                    )
                                )
                            )
                        )
                        expr: Expr_Variable(
                            name: field_ids
                        )
                        valueVar: Expr_Variable(
                            name: field_id
                        )
                    )
                    3: Expr_Assign(
                        var: Expr_Variable(
                            name: indexes
                        )
                        expr: Expr_FuncCall(
                            name: Name(
                                parts: array(
                                    0: array_flip
                                )
                            )
                            args: array(
                                0: Arg(
                                    value: Expr_Variable(
                                        name: authorized_file_fields
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    4: Stmt_Foreach(
                        keyVar: Expr_Variable(
                            name: field_name
                        )
                        byRef: false
                        stmts: array(
                            0: Stmt_If(
                                stmts: array(
                                    0: Expr_Assign(
                                        var: Expr_Variable(
                                            name: file_name
                                        )
                                        expr: Expr_FuncCall(
                                            name: Name(
                                                parts: array(
                                                    0: md5
                                                )
                                            )
                                            args: array(
                                                0: Arg(
                                                    value: Expr_FuncCall(
                                                        name: Name(
                                                            parts: array(
                                                                0: uniqid
                                                            )
                                                        )
                                                        args: array(
                                                            0: Arg(
                                                                value: Expr_FuncCall(
                                                                    name: Name(
                                                                        parts: array(
                                                                            0: rand
                                                                        )
                                                                    )
                                                                    args: array(
                                                                    )
                                                                )
                                                                byRef: false
                                                            )
                                                            1: Arg(
                                                                value: Expr_ConstFetch(
                                                                    name: Name(
                                                                        parts: array(
                                                                            0: true
                                                                        )
                                                                    )
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                    1: Stmt_If(
                                        stmts: array(
                                            0: Expr_Assign(
                                                var: Expr_ArrayDimFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: errors
                                                    )
                                                    dim: null
                                                )
                                                expr: Expr_Variable(
                                                    name: error
                                                )
                                            )
                                        )
                                        elseifs: array(
                                        )
                                        else: null
                                        cond: Expr_Assign(
                                            var: Expr_Variable(
                                                name: error
                                            )
                                            expr: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: ImageManager
                                                    )
                                                )
                                                name: validateUpload
                                                args: array(
                                                    0: Arg(
                                                        value: Expr_Variable(
                                                            name: file
                                                        )
                                                        byRef: false
                                                    )
                                                    1: Arg(
                                                        value: Expr_Cast_Int(
                                                            expr: Expr_StaticCall(
                                                                class: Name_FullyQualified(
                                                                    parts: array(
                                                                        0: Configuration
                                                                    )
                                                                )
                                                                name: get
                                                                args: array(
                                                                    0: Arg(
                                                                        value: Scalar_String(
                                                                            value: PS_PRODUCT_PICTURE_MAX_SIZE
                                                                        )
                                                                        byRef: false
                                                                    )
                                                                )
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                        )
                                    )
                                    2: Expr_Assign(
                                        var: Expr_Variable(
                                            name: product_picture_width
                                        )
                                        expr: Expr_Cast_Int(
                                            expr: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Configuration
                                                    )
                                                )
                                                name: get
                                                args: array(
                                                    0: Arg(
                                                        value: Scalar_String(
                                                            value: PS_PRODUCT_PICTURE_WIDTH
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                        )
                                    )
                                    3: Expr_Assign(
                                        var: Expr_Variable(
                                            name: product_picture_height
                                        )
                                        expr: Expr_Cast_Int(
                                            expr: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Configuration
                                                    )
                                                )
                                                name: get
                                                args: array(
                                                    0: Arg(
                                                        value: Scalar_String(
                                                            value: PS_PRODUCT_PICTURE_HEIGHT
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                        )
                                    )
                                    4: Expr_Assign(
                                        var: Expr_Variable(
                                            name: tmp_name
                                        )
                                        expr: Expr_FuncCall(
                                            name: Name(
                                                parts: array(
                                                    0: tempnam
                                                )
                                            )
                                            args: array(
                                                0: Arg(
                                                    value: Expr_ConstFetch(
                                                        name: Name(
                                                            parts: array(
                                                                0: _PS_TMP_IMG_DIR_
                                                            )
                                                        )
                                                    )
                                                    byRef: false
                                                )
                                                1: Arg(
                                                    value: Scalar_String(
                                                        value: PS
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                    5: Stmt_If(
                                        stmts: array(
                                            0: Stmt_Return(
                                                expr: Expr_ConstFetch(
                                                    name: Name(
                                                        parts: array(
                                                            0: false
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                        elseifs: array(
                                        )
                                        else: null
                                        cond: Expr_BooleanOr(
                                            left: Expr_Variable(
                                                name: error
                                            )
                                            right: Expr_BooleanOr(
                                                left: Expr_BooleanNot(
                                                    expr: Expr_Variable(
                                                        name: tmp_name
                                                    )
                                                )
                                                right: Expr_BooleanNot(
                                                    expr: Expr_FuncCall(
                                                        name: Name(
                                                            parts: array(
                                                                0: move_uploaded_file
                                                            )
                                                        )
                                                        args: array(
                                                            0: Arg(
                                                                value: Expr_ArrayDimFetch(
                                                                    var: Expr_Variable(
                                                                        name: file
                                                                    )
                                                                    dim: Scalar_String(
                                                                        value: tmp_name
                                                                    )
                                                                )
                                                                byRef: false
                                                            )
                                                            1: Arg(
                                                                value: Expr_Variable(
                                                                    name: tmp_name
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                    )
                                    6: Stmt_If(
                                        stmts: array(
                                            0: Expr_Assign(
                                                var: Expr_ArrayDimFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: errors
                                                    )
                                                    dim: null
                                                )
                                                expr: Expr_StaticCall(
                                                    class: Name_FullyQualified(
                                                        parts: array(
                                                            0: Tools
                                                        )
                                                    )
                                                    name: displayError
                                                    args: array(
                                                        0: Arg(
                                                            value: Scalar_String(
                                                                value: An error occurred during the image upload process.
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                        elseifs: array(
                                            0: Stmt_ElseIf(
                                                cond: Expr_BooleanNot(
                                                    expr: Expr_StaticCall(
                                                        class: Name_FullyQualified(
                                                            parts: array(
                                                                0: ImageManager
                                                            )
                                                        )
                                                        name: resize
                                                        args: array(
                                                            0: Arg(
                                                                value: Expr_Variable(
                                                                    name: tmp_name
                                                                )
                                                                byRef: false
                                                            )
                                                            1: Arg(
                                                                value: Expr_Concat(
                                                                    left: Expr_Concat(
                                                                        left: Expr_ConstFetch(
                                                                            name: Name(
                                                                                parts: array(
                                                                                    0: _PS_UPLOAD_DIR_
                                                                                )
                                                                            )
                                                                        )
                                                                        right: Expr_Variable(
                                                                            name: file_name
                                                                        )
                                                                    )
                                                                    right: Scalar_String(
                                                                        value: _small
                                                                    )
                                                                )
                                                                byRef: false
                                                            )
                                                            2: Arg(
                                                                value: Expr_Variable(
                                                                    name: product_picture_width
                                                                )
                                                                byRef: false
                                                            )
                                                            3: Arg(
                                                                value: Expr_Variable(
                                                                    name: product_picture_height
                                                                )
                                                                byRef: false
                                                            )
                                                        )
                                                    )
                                                )
                                                stmts: array(
                                                    0: Expr_Assign(
                                                        var: Expr_ArrayDimFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: errors
                                                            )
                                                            dim: null
                                                        )
                                                        expr: Expr_StaticCall(
                                                            class: Name_FullyQualified(
                                                                parts: array(
                                                                    0: Tools
                                                                )
                                                            )
                                                            name: displayError
                                                            args: array(
                                                                0: Arg(
                                                                    value: Scalar_String(
                                                                        value: An error occurred during the image upload process.
                                                                    )
                                                                    byRef: false
                                                                )
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                            1: Stmt_ElseIf(
                                                cond: Expr_BooleanOr(
                                                    left: Expr_BooleanNot(
                                                        expr: Expr_FuncCall(
                                                            name: Name(
                                                                parts: array(
                                                                    0: chmod
                                                                )
                                                            )
                                                            args: array(
                                                                0: Arg(
                                                                    value: Expr_Concat(
                                                                        left: Expr_ConstFetch(
                                                                            name: Name(
                                                                                parts: array(
                                                                                    0: _PS_UPLOAD_DIR_
                                                                                )
                                                                            )
                                                                        )
                                                                        right: Expr_Variable(
                                                                            name: file_name
                                                                        )
                                                                    )
                                                                    byRef: false
                                                                )
                                                                1: Arg(
                                                                    value: Scalar_LNumber(
                                                                        value: 511
                                                                    )
                                                                    byRef: false
                                                                )
                                                            )
                                                        )
                                                    )
                                                    right: Expr_BooleanNot(
                                                        expr: Expr_FuncCall(
                                                            name: Name(
                                                                parts: array(
                                                                    0: chmod
                                                                )
                                                            )
                                                            args: array(
                                                                0: Arg(
                                                                    value: Expr_Concat(
                                                                        left: Expr_Concat(
                                                                            left: Expr_ConstFetch(
                                                                                name: Name(
                                                                                    parts: array(
                                                                                        0: _PS_UPLOAD_DIR_
                                                                                    )
                                                                                )
                                                                            )
                                                                            right: Expr_Variable(
                                                                                name: file_name
                                                                            )
                                                                        )
                                                                        right: Scalar_String(
                                                                            value: _small
                                                                        )
                                                                    )
                                                                    byRef: false
                                                                )
                                                                1: Arg(
                                                                    value: Scalar_LNumber(
                                                                        value: 511
                                                                    )
                                                                    byRef: false
                                                                )
                                                            )
                                                        )
                                                    )
                                                )
                                                stmts: array(
                                                    0: Expr_Assign(
                                                        var: Expr_ArrayDimFetch(
                                                            var: Expr_PropertyFetch(
                                                                var: Expr_Variable(
                                                                    name: this
                                                                )
                                                                name: errors
                                                            )
                                                            dim: null
                                                        )
                                                        expr: Expr_StaticCall(
                                                            class: Name_FullyQualified(
                                                                parts: array(
                                                                    0: Tools
                                                                )
                                                            )
                                                            name: displayError
                                                            args: array(
                                                                0: Arg(
                                                                    value: Scalar_String(
                                                                        value: An error occurred during the image upload process.
                                                                    )
                                                                    byRef: false
                                                                )
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                        else: Stmt_Else(
                                            stmts: array(
                                                0: Expr_MethodCall(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: context
                                                        )
                                                        name: cart
                                                    )
                                                    name: addPictureToProduct
                                                    args: array(
                                                        0: Arg(
                                                            value: Expr_PropertyFetch(
                                                                var: Expr_PropertyFetch(
                                                                    var: Expr_Variable(
                                                                        name: this
                                                                    )
                                                                    name: product
                                                                )
                                                                name: id
                                                            )
                                                            byRef: false
                                                        )
                                                        1: Arg(
                                                            value: Expr_ArrayDimFetch(
                                                                var: Expr_Variable(
                                                                    name: indexes
                                                                )
                                                                dim: Expr_Variable(
                                                                    name: field_name
                                                                )
                                                            )
                                                            byRef: false
                                                        )
                                                        2: Arg(
                                                            value: Expr_ClassConstFetch(
                                                                class: Name_FullyQualified(
                                                                    parts: array(
                                                                        0: Product
                                                                    )
                                                                )
                                                                name: CUSTOMIZE_FILE
                                                            )
                                                            byRef: false
                                                        )
                                                        3: Arg(
                                                            value: Expr_Variable(
                                                                name: file_name
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                        cond: Expr_BooleanNot(
                                            expr: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: ImageManager
                                                    )
                                                )
                                                name: resize
                                                args: array(
                                                    0: Arg(
                                                        value: Expr_Variable(
                                                            name: tmp_name
                                                        )
                                                        byRef: false
                                                    )
                                                    1: Arg(
                                                        value: Expr_Concat(
                                                            left: Expr_ConstFetch(
                                                                name: Name(
                                                                    parts: array(
                                                                        0: _PS_UPLOAD_DIR_
                                                                    )
                                                                )
                                                            )
                                                            right: Expr_Variable(
                                                                name: file_name
                                                            )
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                        )
                                    )
                                    7: Expr_FuncCall(
                                        name: Name(
                                            parts: array(
                                                0: unlink
                                            )
                                        )
                                        args: array(
                                            0: Arg(
                                                value: Expr_Variable(
                                                    name: tmp_name
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: null
                                cond: Expr_BooleanAnd(
                                    left: Expr_BooleanAnd(
                                        left: Expr_FuncCall(
                                            name: Name(
                                                parts: array(
                                                    0: in_array
                                                )
                                            )
                                            args: array(
                                                0: Arg(
                                                    value: Expr_Variable(
                                                        name: field_name
                                                    )
                                                    byRef: false
                                                )
                                                1: Arg(
                                                    value: Expr_Variable(
                                                        name: authorized_file_fields
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                        right: Expr_Isset(
                                            vars: array(
                                                0: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: file
                                                    )
                                                    dim: Scalar_String(
                                                        value: tmp_name
                                                    )
                                                )
                                            )
                                        )
                                    )
                                    right: Expr_BooleanNot(
                                        expr: Expr_Empty(
                                            expr: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: file
                                                )
                                                dim: Scalar_String(
                                                    value: tmp_name
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        )
                        expr: Expr_Variable(
                            name: _FILES
                        )
                        valueVar: Expr_Variable(
                            name: file
                        )
                    )
                    5: Stmt_Return(
                        expr: Expr_ConstFetch(
                            name: Name(
                                parts: array(
                                    0: true
                                )
                            )
                        )
                    )
                )
                name: pictureUpload
            )
            14: Stmt_ClassMethod(
                type: 2
                byRef: false
                params: array(
                )
                stmts: array(
                    0: Stmt_If(
                        stmts: array(
                            0: Stmt_Return(
                                expr: Expr_ConstFetch(
                                    name: Name(
                                        parts: array(
                                            0: false
                                        )
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_BooleanNot(
                            expr: Expr_Assign(
                                var: Expr_Variable(
                                    name: field_ids
                                )
                                expr: Expr_MethodCall(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: product
                                    )
                                    name: getCustomizationFieldIds
                                    args: array(
                                    )
                                )
                            )
                        )
                    )
                    1: Expr_Assign(
                        var: Expr_Variable(
                            name: authorized_text_fields
                        )
                        expr: Expr_Array(
                            items: array(
                            )
                        )
                    )
                    2: Stmt_Foreach(
                        keyVar: null
                        byRef: false
                        stmts: array(
                            0: Stmt_If(
                                stmts: array(
                                    0: Expr_Assign(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_Variable(
                                                name: authorized_text_fields
                                            )
                                            dim: Expr_Cast_Int(
                                                expr: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: field_id
                                                    )
                                                    dim: Scalar_String(
                                                        value: id_customization_field
                                                    )
                                                )
                                            )
                                        )
                                        expr: Expr_Concat(
                                            left: Scalar_String(
                                                value: textField
                                            )
                                            right: Expr_Cast_Int(
                                                expr: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: field_id
                                                    )
                                                    dim: Scalar_String(
                                                        value: id_customization_field
                                                    )
                                                )
                                            )
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: null
                                cond: Expr_Equal(
                                    left: Expr_ArrayDimFetch(
                                        var: Expr_Variable(
                                            name: field_id
                                        )
                                        dim: Scalar_String(
                                            value: type
                                        )
                                    )
                                    right: Expr_ClassConstFetch(
                                        class: Name_FullyQualified(
                                            parts: array(
                                                0: Product
                                            )
                                        )
                                        name: CUSTOMIZE_TEXTFIELD
                                    )
                                )
                            )
                        )
                        expr: Expr_Variable(
                            name: field_ids
                        )
                        valueVar: Expr_Variable(
                            name: field_id
                        )
                    )
                    3: Expr_Assign(
                        var: Expr_Variable(
                            name: indexes
                        )
                        expr: Expr_FuncCall(
                            name: Name(
                                parts: array(
                                    0: array_flip
                                )
                            )
                            args: array(
                                0: Arg(
                                    value: Expr_Variable(
                                        name: authorized_text_fields
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    4: Stmt_Foreach(
                        keyVar: Expr_Variable(
                            name: field_name
                        )
                        byRef: false
                        stmts: array(
                            0: Stmt_If(
                                stmts: array(
                                    0: Stmt_If(
                                        stmts: array(
                                            0: Expr_Assign(
                                                var: Expr_ArrayDimFetch(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_Variable(
                                                            name: this
                                                        )
                                                        name: errors
                                                    )
                                                    dim: null
                                                )
                                                expr: Expr_StaticCall(
                                                    class: Name_FullyQualified(
                                                        parts: array(
                                                            0: Tools
                                                        )
                                                    )
                                                    name: displayError
                                                    args: array(
                                                        0: Arg(
                                                            value: Scalar_String(
                                                                value: Invalid message
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                        elseifs: array(
                                        )
                                        else: Stmt_Else(
                                            stmts: array(
                                                0: Expr_MethodCall(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: context
                                                        )
                                                        name: cart
                                                    )
                                                    name: addTextFieldToProduct
                                                    args: array(
                                                        0: Arg(
                                                            value: Expr_PropertyFetch(
                                                                var: Expr_PropertyFetch(
                                                                    var: Expr_Variable(
                                                                        name: this
                                                                    )
                                                                    name: product
                                                                )
                                                                name: id
                                                            )
                                                            byRef: false
                                                        )
                                                        1: Arg(
                                                            value: Expr_ArrayDimFetch(
                                                                var: Expr_Variable(
                                                                    name: indexes
                                                                )
                                                                dim: Expr_Variable(
                                                                    name: field_name
                                                                )
                                                            )
                                                            byRef: false
                                                        )
                                                        2: Arg(
                                                            value: Expr_ClassConstFetch(
                                                                class: Name_FullyQualified(
                                                                    parts: array(
                                                                        0: Product
                                                                    )
                                                                )
                                                                name: CUSTOMIZE_TEXTFIELD
                                                            )
                                                            byRef: false
                                                        )
                                                        3: Arg(
                                                            value: Expr_Variable(
                                                                name: value
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                        cond: Expr_BooleanNot(
                                            expr: Expr_StaticCall(
                                                class: Name_FullyQualified(
                                                    parts: array(
                                                        0: Validate
                                                    )
                                                )
                                                name: isMessage
                                                args: array(
                                                    0: Arg(
                                                        value: Expr_Variable(
                                                            name: value
                                                        )
                                                        byRef: false
                                                    )
                                                )
                                            )
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: Stmt_Else(
                                    stmts: array(
                                        0: Stmt_If(
                                            stmts: array(
                                                0: Expr_MethodCall(
                                                    var: Expr_PropertyFetch(
                                                        var: Expr_PropertyFetch(
                                                            var: Expr_Variable(
                                                                name: this
                                                            )
                                                            name: context
                                                        )
                                                        name: cart
                                                    )
                                                    name: deleteCustomizationToProduct
                                                    args: array(
                                                        0: Arg(
                                                            value: Expr_Cast_Int(
                                                                expr: Expr_PropertyFetch(
                                                                    var: Expr_PropertyFetch(
                                                                        var: Expr_Variable(
                                                                            name: this
                                                                        )
                                                                        name: product
                                                                    )
                                                                    name: id
                                                                )
                                                            )
                                                            byRef: false
                                                        )
                                                        1: Arg(
                                                            value: Expr_ArrayDimFetch(
                                                                var: Expr_Variable(
                                                                    name: indexes
                                                                )
                                                                dim: Expr_Variable(
                                                                    name: field_name
                                                                )
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                            )
                                            elseifs: array(
                                            )
                                            else: null
                                            cond: Expr_BooleanAnd(
                                                left: Expr_FuncCall(
                                                    name: Name(
                                                        parts: array(
                                                            0: in_array
                                                        )
                                                    )
                                                    args: array(
                                                        0: Arg(
                                                            value: Expr_Variable(
                                                                name: field_name
                                                            )
                                                            byRef: false
                                                        )
                                                        1: Arg(
                                                            value: Expr_Variable(
                                                                name: authorized_text_fields
                                                            )
                                                            byRef: false
                                                        )
                                                    )
                                                )
                                                right: Expr_Empty(
                                                    expr: Expr_Variable(
                                                        name: value
                                                    )
                                                )
                                            )
                                        )
                                    )
                                )
                                cond: Expr_BooleanAnd(
                                    left: Expr_FuncCall(
                                        name: Name(
                                            parts: array(
                                                0: in_array
                                            )
                                        )
                                        args: array(
                                            0: Arg(
                                                value: Expr_Variable(
                                                    name: field_name
                                                )
                                                byRef: false
                                            )
                                            1: Arg(
                                                value: Expr_Variable(
                                                    name: authorized_text_fields
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                    right: Expr_BooleanNot(
                                        expr: Expr_Empty(
                                            expr: Expr_Variable(
                                                name: value
                                            )
                                        )
                                    )
                                )
                            )
                        )
                        expr: Expr_Variable(
                            name: _POST
                        )
                        valueVar: Expr_Variable(
                            name: value
                        )
                    )
                )
                name: textRecord
            )
            15: Stmt_ClassMethod(
                type: 2
                byRef: false
                params: array(
                )
                stmts: array(
                    0: Expr_Assign(
                        var: Expr_Variable(
                            name: customization_form_target
                        )
                        expr: Expr_StaticCall(
                            class: Name_FullyQualified(
                                parts: array(
                                    0: Tools
                                )
                            )
                            name: safeOutput
                            args: array(
                                0: Arg(
                                    value: Expr_FuncCall(
                                        name: Name(
                                            parts: array(
                                                0: urldecode
                                            )
                                        )
                                        args: array(
                                            0: Arg(
                                                value: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: _SERVER
                                                    )
                                                    dim: Scalar_String(
                                                        value: REQUEST_URI
                                                    )
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                    byRef: false
                                )
                            )
                        )
                    )
                    1: Stmt_Foreach(
                        keyVar: Expr_Variable(
                            name: field
                        )
                        byRef: false
                        stmts: array(
                            0: Stmt_If(
                                stmts: array(
                                    0: Expr_Assign(
                                        var: Expr_Variable(
                                            name: customization_form_target
                                        )
                                        expr: Expr_FuncCall(
                                            name: Name(
                                                parts: array(
                                                    0: preg_replace
                                                )
                                            )
                                            args: array(
                                                0: Arg(
                                                    value: Scalar_String(
                                                        value: /&group_([[:digit:]]+)=([[:digit:]]+)/
                                                    )
                                                    byRef: false
                                                )
                                                1: Arg(
                                                    value: Scalar_String(
                                                        value: 
                                                    )
                                                    byRef: false
                                                )
                                                2: Arg(
                                                    value: Expr_Variable(
                                                        name: customization_form_target
                                                    )
                                                    byRef: false
                                                )
                                            )
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: null
                                cond: Expr_Equal(
                                    left: Expr_FuncCall(
                                        name: Name(
                                            parts: array(
                                                0: strncmp
                                            )
                                        )
                                        args: array(
                                            0: Arg(
                                                value: Expr_Variable(
                                                    name: field
                                                )
                                                byRef: false
                                            )
                                            1: Arg(
                                                value: Scalar_String(
                                                    value: group_
                                                )
                                                byRef: false
                                            )
                                            2: Arg(
                                                value: Scalar_LNumber(
                                                    value: 6
                                                )
                                                byRef: false
                                            )
                                        )
                                    )
                                    right: Scalar_LNumber(
                                        value: 0
                                    )
                                )
                            )
                        )
                        expr: Expr_Variable(
                            name: _GET
                        )
                        valueVar: Expr_Variable(
                            name: value
                        )
                    )
                    2: Stmt_If(
                        stmts: array(
                            0: Expr_MethodCall(
                                var: Expr_PropertyFetch(
                                    var: Expr_PropertyFetch(
                                        var: Expr_Variable(
                                            name: this
                                        )
                                        name: context
                                    )
                                    name: smarty
                                )
                                name: assign
                                args: array(
                                    0: Arg(
                                        value: Scalar_String(
                                            value: quantityBackup
                                        )
                                        byRef: false
                                    )
                                    1: Arg(
                                        value: Expr_Cast_Int(
                                            expr: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: _POST
                                                )
                                                dim: Scalar_String(
                                                    value: quantityBackup
                                                )
                                            )
                                        )
                                        byRef: false
                                    )
                                )
                            )
                        )
                        elseifs: array(
                        )
                        else: null
                        cond: Expr_Isset(
                            vars: array(
                                0: Expr_ArrayDimFetch(
                                    var: Expr_Variable(
                                        name: _POST
                                    )
                                    dim: Scalar_String(
                                        value: quantityBackup
                                    )
                                )
                            )
                        )
                    )
                    3: Expr_MethodCall(
                        var: Expr_PropertyFetch(
                            var: Expr_PropertyFetch(
                                var: Expr_Variable(
                                    name: this
                                )
                                name: context
                            )
                            name: smarty
                        )
                        name: assign
                        args: array(
                            0: Arg(
                                value: Scalar_String(
                                    value: customizationFormTarget
                                )
                                byRef: false
                            )
                            1: Arg(
                                value: Expr_Variable(
                                    name: customization_form_target
                                )
                                byRef: false
                            )
                        )
                    )
                )
                name: formTargetFormat
            )
            16: Stmt_ClassMethod(
                type: 2
                byRef: false
                params: array(
                    0: Param(
                        name: specific_prices
                        default: null
                        type: null
                        byRef: false
                    )
                    1: Param(
                        name: price
                        default: null
                        type: null
                        byRef: false
                    )
                    2: Param(
                        name: tax_rate
                        default: null
                        type: null
                        byRef: false
                    )
                    3: Param(
                        name: ecotax_amount
                        default: null
                        type: null
                        byRef: false
                    )
                )
                stmts: array(
                    0: Stmt_Foreach(
                        keyVar: Expr_Variable(
                            name: key
                        )
                        byRef: true
                        stmts: array(
                            0: Expr_AssignRef(
                                var: Expr_ArrayDimFetch(
                                    var: Expr_Variable(
                                        name: row
                                    )
                                    dim: Scalar_String(
                                        value: quantity
                                    )
                                )
                                expr: Expr_ArrayDimFetch(
                                    var: Expr_Variable(
                                        name: row
                                    )
                                    dim: Scalar_String(
                                        value: from_quantity
                                    )
                                )
                            )
                            1: Stmt_If(
                                stmts: array(
                                    0: Expr_Assign(
                                        var: Expr_Variable(
                                            name: cur_price
                                        )
                                        expr: Expr_Plus(
                                            left: Expr_Ternary(
                                                cond: Expr_Equal(
                                                    left: Expr_StaticPropertyFetch(
                                                        class: Name_FullyQualified(
                                                            parts: array(
                                                                0: Product
                                                            )
                                                        )
                                                        name: _taxCalculationMethod
                                                    )
                                                    right: Expr_ConstFetch(
                                                        name: Name(
                                                            parts: array(
                                                                0: PS_TAX_EXC
                                                            )
                                                        )
                                                    )
                                                )
                                                if: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: row
                                                    )
                                                    dim: Scalar_String(
                                                        value: price
                                                    )
                                                )
                                                else: Expr_Mul(
                                                    left: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: row
                                                        )
                                                        dim: Scalar_String(
                                                            value: price
                                                        )
                                                    )
                                                    right: Expr_Plus(
                                                        left: Scalar_LNumber(
                                                            value: 1
                                                        )
                                                        right: Expr_Div(
                                                            left: Expr_Variable(
                                                                name: tax_rate
                                                            )
                                                            right: Scalar_LNumber(
                                                                value: 100
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                            right: Expr_Cast_Double(
                                                expr: Expr_Variable(
                                                    name: ecotax_amount
                                                )
                                            )
                                        )
                                    )
                                    1: Stmt_If(
                                        stmts: array(
                                            0: Expr_AssignMinus(
                                                var: Expr_Variable(
                                                    name: cur_price
                                                )
                                                expr: Expr_Ternary(
                                                    cond: Expr_Equal(
                                                        left: Expr_StaticPropertyFetch(
                                                            class: Name_FullyQualified(
                                                                parts: array(
                                                                    0: Product
                                                                )
                                                            )
                                                            name: _taxCalculationMethod
                                                        )
                                                        right: Expr_ConstFetch(
                                                            name: Name(
                                                                parts: array(
                                                                    0: PS_TAX_INC
                                                                )
                                                            )
                                                        )
                                                    )
                                                    if: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: row
                                                        )
                                                        dim: Scalar_String(
                                                            value: reduction
                                                        )
                                                    )
                                                    else: Expr_Div(
                                                        left: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: row
                                                            )
                                                            dim: Scalar_String(
                                                                value: reduction
                                                            )
                                                        )
                                                        right: Expr_Plus(
                                                            left: Scalar_LNumber(
                                                                value: 1
                                                            )
                                                            right: Expr_Div(
                                                                left: Expr_Variable(
                                                                    name: tax_rate
                                                                )
                                                                right: Scalar_LNumber(
                                                                    value: 100
                                                                )
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                        elseifs: array(
                                        )
                                        else: Stmt_Else(
                                            stmts: array(
                                                0: Expr_AssignMul(
                                                    var: Expr_Variable(
                                                        name: cur_price
                                                    )
                                                    expr: Expr_Minus(
                                                        left: Scalar_LNumber(
                                                            value: 1
                                                        )
                                                        right: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: row
                                                            )
                                                            dim: Scalar_String(
                                                                value: reduction
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                        cond: Expr_Equal(
                                            left: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: row
                                                )
                                                dim: Scalar_String(
                                                    value: reduction_type
                                                )
                                            )
                                            right: Scalar_String(
                                                value: amount
                                            )
                                        )
                                    )
                                    2: Expr_Assign(
                                        var: Expr_ArrayDimFetch(
                                            var: Expr_Variable(
                                                name: row
                                            )
                                            dim: Scalar_String(
                                                value: real_value
                                            )
                                        )
                                        expr: Expr_Minus(
                                            left: Expr_Variable(
                                                name: price
                                            )
                                            right: Expr_Variable(
                                                name: cur_price
                                            )
                                        )
                                    )
                                )
                                elseifs: array(
                                )
                                else: Stmt_Else(
                                    stmts: array(
                                        0: Stmt_If(
                                            stmts: array(
                                                0: Expr_Assign(
                                                    var: Expr_ArrayDimFetch(
                                                        var: Expr_Variable(
                                                            name: row
                                                        )
                                                        dim: Scalar_String(
                                                            value: real_value
                                                        )
                                                    )
                                                    expr: Expr_Ternary(
                                                        cond: Expr_Equal(
                                                            left: Expr_StaticPropertyFetch(
                                                                class: Name_FullyQualified(
                                                                    parts: array(
                                                                        0: Product
                                                                    )
                                                                )
                                                                name: _taxCalculationMethod
                                                            )
                                                            right: Expr_ConstFetch(
                                                                name: Name(
                                                                    parts: array(
                                                                        0: PS_TAX_INC
                                                                    )
                                                                )
                                                            )
                                                        )
                                                        if: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: row
                                                            )
                                                            dim: Scalar_String(
                                                                value: reduction
                                                            )
                                                        )
                                                        else: Expr_Div(
                                                            left: Expr_ArrayDimFetch(
                                                                var: Expr_Variable(
                                                                    name: row
                                                                )
                                                                dim: Scalar_String(
                                                                    value: reduction
                                                                )
                                                            )
                                                            right: Expr_Plus(
                                                                left: Scalar_LNumber(
                                                                    value: 1
                                                                )
                                                                right: Expr_Div(
                                                                    left: Expr_Variable(
                                                                        name: tax_rate
                                                                    )
                                                                    right: Scalar_LNumber(
                                                                        value: 100
                                                                    )
                                                                )
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                            elseifs: array(
                                            )
                                            else: Stmt_Else(
                                                stmts: array(
                                                    0: Expr_Assign(
                                                        var: Expr_ArrayDimFetch(
                                                            var: Expr_Variable(
                                                                name: row
                                                            )
                                                            dim: Scalar_String(
                                                                value: real_value
                                                            )
                                                        )
                                                        expr: Expr_Mul(
                                                            left: Expr_ArrayDimFetch(
                                                                var: Expr_Variable(
                                                                    name: row
                                                                )
                                                                dim: Scalar_String(
                                                                    value: reduction
                                                                )
                                                            )
                                                            right: Scalar_LNumber(
                                                                value: 100
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                            cond: Expr_Equal(
                                                left: Expr_ArrayDimFetch(
                                                    var: Expr_Variable(
                                                        name: row
                                                    )
                                                    dim: Scalar_String(
                                                        value: reduction_type
                                                    )
                                                )
                                                right: Scalar_String(
                                                    value: amount
                                                )
                                            )
                                        )
                                    )
                                )
                                cond: Expr_GreaterOrEqual(
                                    left: Expr_ArrayDimFetch(
                                        var: Expr_Variable(
                                            name: row
                                        )
                                        dim: Scalar_String(
                                            value: price
                                        )
                                    )
                                    right: Scalar_LNumber(
                                        value: 0
                                    )
                                )
                            )
                            2: Expr_Assign(
                                var: Expr_ArrayDimFetch(
                                    var: Expr_Variable(
                                        name: row
                                    )
                                    dim: Scalar_String(
                                        value: nextQuantity
                                    )
                                )
                                expr: Expr_Ternary(
                                    cond: Expr_Isset(
                                        vars: array(
                                            0: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: specific_prices
                                                )
                                                dim: Expr_Plus(
                                                    left: Expr_Variable(
                                                        name: key
                                                    )
                                                    right: Scalar_LNumber(
                                                        value: 1
                                                    )
                                                )
                                            )
                                        )
                                    )
                                    if: Expr_Cast_Int(
                                        expr: Expr_ArrayDimFetch(
                                            var: Expr_ArrayDimFetch(
                                                var: Expr_Variable(
                                                    name: specific_prices
                                                )
                                                dim: Expr_Plus(
                                                    left: Expr_Variable(
                                                        name: key
                                                    )
                                                    right: Scalar_LNumber(
                                                        value: 1
                                                    )
                                                )
                                            )
                                            dim: Scalar_String(
                                                value: from_quantity
                                            )
                                        )
                                    )
                                    else: Expr_UnaryMinus(
                                        expr: Scalar_LNumber(
                                            value: 1
                                        )
                                    )
                                )
                            )
                        )
                        expr: Expr_Variable(
                            name: specific_prices
                        )
                        valueVar: Expr_Variable(
                            name: row
                        )
                    )
                    1: Stmt_Return(
                        expr: Expr_Variable(
                            name: specific_prices
                        )
                    )
                )
                name: formatQuantityDiscounts
            )
            17: Stmt_ClassMethod(
                type: 1
                byRef: false
                params: array(
                )
                stmts: array(
                    0: Stmt_Return(
                        expr: Expr_PropertyFetch(
                            var: Expr_Variable(
                                name: this
                            )
                            name: product
                        )
                    )
                )
                name: getProduct
            )
        )
        name: ProductControllerCore
        namespacedName: Name(
            parts: array(
                0: ProductControllerCore
            )
        )
    )
)